"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[3479],{491:(j,R,c)=>{c.d(R,{Dw:()=>h,Zp:()=>i});var f=c(2881),e=c(1360),E=c(9744),D=c(5779),O=c(3491),w=c(6263);const r=["header"],v=["title"],B=["subtitle"],F=["content"],$=["footer"],U=["*",[["p-header"]],[["p-footer"]]],g=["*","p-header","p-footer"];function A(n,d){1&n&&e.eu8(0)}function t(n,d){if(1&n&&(e.j41(0,"div",8),e.SdG(1,1),e.DNE(2,A,1,0,"ng-container",6),e.k0s()),2&n){const s=e.XpG();e.R7$(2),e.Y8G("ngTemplateOutlet",s.headerTemplate||s._headerTemplate)}}function y(n,d){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const s=e.XpG(2);e.R7$(),e.JRh(s.header)}}function P(n,d){1&n&&e.eu8(0)}function S(n,d){if(1&n&&(e.j41(0,"div",9),e.DNE(1,y,2,1,"ng-container",10)(2,P,1,0,"ng-container",6),e.k0s()),2&n){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.header&&!s._titleTemplate&&!s.titleTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",s.titleTemplate||s._titleTemplate)}}function a(n,d){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const s=e.XpG(2);e.R7$(),e.JRh(s.subheader)}}function I(n,d){1&n&&e.eu8(0)}function m(n,d){if(1&n&&(e.j41(0,"div",11),e.DNE(1,a,2,1,"ng-container",10)(2,I,1,0,"ng-container",6),e.k0s()),2&n){const s=e.XpG();e.R7$(),e.Y8G("ngIf",s.subheader&&!s._subtitleTemplate&&!s.subtitleTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",s.subtitleTemplate||s._subtitleTemplate)}}function T(n,d){1&n&&e.eu8(0)}function C(n,d){1&n&&e.eu8(0)}function _(n,d){if(1&n&&(e.j41(0,"div",12),e.SdG(1,2),e.DNE(2,C,1,0,"ng-container",6),e.k0s()),2&n){const s=e.XpG();e.R7$(2),e.Y8G("ngTemplateOutlet",s.footerTemplate||s._footerTemplate)}}const k=({dt:n})=>`\n.p-card {\n    background: ${n("card.background")};\n    color: ${n("card.color")};\n    box-shadow: ${n("card.shadow")};\n    border-radius: ${n("card.border.radius")};\n    display: flex;\n    flex-direction: column;\n}\n\n.p-card-caption {\n    display: flex;\n    flex-direction: column;\n    gap: ${n("card.caption.gap")};\n}\n\n.p-card-body {\n    padding: ${n("card.body.padding")};\n    display: flex;\n    flex-direction: column;\n    gap: ${n("card.body.gap")};\n}\n\n.p-card-title {\n    font-size: ${n("card.title.font.size")};\n    font-weight: ${n("card.title.font.weight")};\n}\n\n.p-card-subtitle {\n    color: ${n("card.subtitle.color")};\n}\n`,o={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"};let l=(()=>{class n extends w.j{name="card";theme=k;classes=o;static \u0275fac=(()=>{let s;return function(u){return(s||(s=e.xGo(n)))(u||n)}})();static \u0275prov=e.jDH({token:n,factory:n.\u0275fac})}return n})(),i=(()=>{class n extends O.${header;subheader;set style(s){(0,E.aI)(this._style(),s)||this._style.set(s)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=(0,e.vPA)(null);_componentStyle=(0,e.WQX)(l);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(s=>{switch(s.getType()){case"header":this._headerTemplate=s.template;break;case"title":this._titleTemplate=s.template;break;case"subtitle":this._subtitleTemplate=s.template;break;case"content":default:this._contentTemplate=s.template;break;case"footer":this._footerTemplate=s.template}})}static \u0275fac=(()=>{let s;return function(u){return(s||(s=e.xGo(n)))(u||n)}})();static \u0275cmp=e.VBU({type:n,selectors:[["p-card"]],contentQueries:function(b,u,G){if(1&b&&(e.wni(G,D.Y9,5),e.wni(G,D.wi,5),e.wni(G,r,4),e.wni(G,v,4),e.wni(G,B,4),e.wni(G,F,4),e.wni(G,$,4),e.wni(G,D.Ei,4)),2&b){let M;e.mGM(M=e.lsd())&&(u.headerFacet=M.first),e.mGM(M=e.lsd())&&(u.footerFacet=M.first),e.mGM(M=e.lsd())&&(u.headerTemplate=M.first),e.mGM(M=e.lsd())&&(u.titleTemplate=M.first),e.mGM(M=e.lsd())&&(u.subtitleTemplate=M.first),e.mGM(M=e.lsd())&&(u.contentTemplate=M.first),e.mGM(M=e.lsd())&&(u.footerTemplate=M.first),e.mGM(M=e.lsd())&&(u.templates=M)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[e.Jv_([l]),e.Vt3],ngContentSelectors:g,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(b,u){1&b&&(e.NAR(U),e.j41(0,"div",0),e.DNE(1,t,3,1,"div",1),e.j41(2,"div",2),e.DNE(3,S,3,2,"div",3)(4,m,3,2,"div",4),e.j41(5,"div",5),e.SdG(6),e.DNE(7,T,1,0,"ng-container",6),e.k0s(),e.DNE(8,_,3,1,"div",7),e.k0s()()),2&b&&(e.HbH(u.styleClass),e.Y8G("ngClass","p-card p-component")("ngStyle",u._style()),e.BMQ("data-pc-name","card"),e.R7$(),e.Y8G("ngIf",u.headerFacet||u.headerTemplate||u._headerTemplate),e.R7$(2),e.Y8G("ngIf",u.header||u.titleTemplate||u._titleTemplate),e.R7$(),e.Y8G("ngIf",u.subheader||u.subtitleTemplate||u._subtitleTemplate),e.R7$(3),e.Y8G("ngTemplateOutlet",u.contentTemplate||u._contentTemplate),e.R7$(),e.Y8G("ngIf",u.footerFacet||u.footerTemplate||u._footerTemplate))},dependencies:[f.MD,f.YU,f.bT,f.T3,f.B3,D.Gg],encapsulation:2,changeDetection:0})}return n})(),h=(()=>{class n{static \u0275fac=function(b){return new(b||n)};static \u0275mod=e.$C({type:n});static \u0275inj=e.G2t({imports:[i,D.Gg,D.Gg]})}return n})()},935:(j,R,c)=>{c.d(R,{$C:()=>S,vw:()=>P});var f=c(2881),e=c(1360),E=c(5779),D=c(3491),O=c(6263);const w=["icon"],r=["*"];function v(a,I){if(1&a&&e.nrm(0,"span",4),2&a){const m=e.XpG(2);e.Y8G("ngClass",m.icon)}}function B(a,I){if(1&a&&(e.qex(0),e.DNE(1,v,1,1,"span",3),e.bVm()),2&a){const m=e.XpG();e.R7$(),e.Y8G("ngIf",m.icon)}}function F(a,I){}function $(a,I){1&a&&e.DNE(0,F,0,0,"ng-template")}function U(a,I){if(1&a&&(e.j41(0,"span",5),e.DNE(1,$,1,0,null,6),e.k0s()),2&a){const m=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",m.iconTemplate||m._iconTemplate)}}const g=({dt:a})=>`\n.p-tag {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    background: ${a("tag.primary.background")};\n    color: ${a("tag.primary.color")};\n    font-size: ${a("tag.font.size")};\n    font-weight: ${a("tag.font.weight")};\n    padding: ${a("tag.padding")};\n    border-radius: ${a("tag.border.radius")};\n    gap: ${a("tag.gap")};\n}\n\n.p-tag-icon {\n    font-size: ${a("tag.icon.size")};\n    width: ${a("tag.icon.size")};\n    height:${a("tag.icon.size")};\n}\n\n.p-tag-rounded {\n    border-radius: ${a("tag.rounded.border.radius")};\n}\n\n.p-tag-success {\n    background: ${a("tag.success.background")};\n    color: ${a("tag.success.color")};\n}\n\n.p-tag-info {\n    background: ${a("tag.info.background")};\n    color: ${a("tag.info.color")};\n}\n\n.p-tag-warn {\n    background: ${a("tag.warn.background")};\n    color: ${a("tag.warn.color")};\n}\n\n.p-tag-danger {\n    background: ${a("tag.danger.background")};\n    color: ${a("tag.danger.color")};\n}\n\n.p-tag-secondary {\n    background: ${a("tag.secondary.background")};\n    color: ${a("tag.secondary.color")};\n}\n\n.p-tag-contrast {\n    background: ${a("tag.contrast.background")};\n    color: ${a("tag.contrast.color")};\n}\n`,A={root:({props:a})=>["p-tag p-component",{"p-tag-info":"info"===a.severity,"p-tag-success":"success"===a.severity,"p-tag-warn":"warn"===a.severity,"p-tag-danger":"danger"===a.severity,"p-tag-secondary":"secondary"===a.severity,"p-tag-contrast":"contrast"===a.severity,"p-tag-rounded":a.rounded}],icon:"p-tag-icon",label:"p-tag-label"};let t=(()=>{class a extends O.j{name="tag";theme=g;classes=A;static \u0275fac=(()=>{let m;return function(C){return(m||(m=e.xGo(a)))(C||a)}})();static \u0275prov=e.jDH({token:a,factory:a.\u0275fac})}return a})(),P=(()=>{class a extends D.${get style(){return this._style}set style(m){this._style=m,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;iconTemplate;templates;_iconTemplate;_style;_componentStyle=(0,e.WQX)(t);ngAfterContentInit(){this.templates?.forEach(m=>{"icon"===m.getType()&&(this._iconTemplate=m.template)})}containerClass(){let m="p-tag p-component";return this.severity&&(m+=` p-tag-${this.severity}`),this.rounded&&(m+=" p-tag-rounded"),this.styleClass&&(m+=` ${this.styleClass}`),m}static \u0275fac=(()=>{let m;return function(C){return(m||(m=e.xGo(a)))(C||a)}})();static \u0275cmp=e.VBU({type:a,selectors:[["p-tag"]],contentQueries:function(T,C,_){if(1&T&&(e.wni(_,w,4),e.wni(_,E.Ei,4)),2&T){let k;e.mGM(k=e.lsd())&&(C.iconTemplate=k.first),e.mGM(k=e.lsd())&&(C.templates=k)}},hostVars:4,hostBindings:function(T,C){2&T&&(e.Aen(C.style),e.HbH(C.containerClass()))},inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",e.L39]},features:[e.Jv_([t]),e.Vt3],ngContentSelectors:r,decls:5,vars:3,consts:[[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-label"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(T,C){1&T&&(e.NAR(),e.SdG(0),e.DNE(1,B,2,1,"ng-container",0)(2,U,2,1,"span",1),e.j41(3,"span",2),e.EFF(4),e.k0s()),2&T&&(e.R7$(),e.Y8G("ngIf",!C.iconTemplate&&!C._iconTemplate),e.R7$(),e.Y8G("ngIf",C.iconTemplate||C._iconTemplate),e.R7$(2),e.JRh(C.value))},dependencies:[f.MD,f.YU,f.bT,f.T3,E.Gg],encapsulation:2,changeDetection:0})}return a})(),S=(()=>{class a{static \u0275fac=function(T){return new(T||a)};static \u0275mod=e.$C({type:a});static \u0275inj=e.G2t({imports:[P,E.Gg,E.Gg]})}return a})()},3479:(j,R,c)=>{c.r(R),c.d(R,{CustomersComponent:()=>C});var f=c(2881),e=c(9417),E=c(5207),D=c(1141),O=c(491),w=c(8150),r=c(8559),v=c(6221),B=c(6150),F=c(7722),$=c(5716),U=c(935),g=c(5779),A=c(5545),t=c(1360);function y(_,k){if(1&_&&(t.j41(0,"p-card",16)(1,"div",17),t.nrm(2,"p-chart",18),t.k0s()()),2&_){const o=t.XpG();t.R7$(2),t.Y8G("data",o.customerTrendChartData)("options",o.customerTrendChartOptions)}}function P(_,k){if(1&_&&(t.j41(0,"p-card",19)(1,"div",17),t.nrm(2,"p-chart",20),t.k0s()()),2&_){const o=t.XpG();t.R7$(2),t.Y8G("data",o.segmentChartData)("options",o.segmentChartOptions)}}function S(_,k){1&_&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Segment"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Number of Customers"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Total Revenue"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Average Rating"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Average Revenue per Customer"),t.k0s()())}function a(_,k){if(1&_&&(t.j41(0,"tr")(1,"td"),t.nrm(2,"p-tag",26),t.k0s(),t.j41(3,"td")(4,"span",27),t.EFF(5),t.k0s()(),t.j41(6,"td")(7,"span",28),t.EFF(8),t.nI1(9,"currency"),t.k0s()(),t.j41(10,"td")(11,"span",29),t.EFF(12),t.nI1(13,"number"),t.k0s()(),t.j41(14,"td")(15,"span",30),t.EFF(16),t.nI1(17,"currency"),t.k0s()()()),2&_){const o=k.$implicit,l=t.XpG(2);t.R7$(2),t.Y8G("value",o.segment)("severity",l.getSegmentSeverity(o.segment)),t.R7$(3),t.JRh(o.count),t.R7$(3),t.JRh(t.bMT(9,6,o.revenue)),t.R7$(4),t.JRh(t.i5U(13,8,o.averageRating,"1.1-1")),t.R7$(4),t.SpI(" ",t.bMT(17,11,l.getAverageRevenuePerCustomer(o))," ")}}function I(_,k){1&_&&(t.j41(0,"tr")(1,"td",31)(2,"div",32),t.nrm(3,"i",33),t.j41(4,"p"),t.EFF(5,"No customer data available"),t.k0s()()()())}function m(_,k){if(1&_&&(t.j41(0,"p-card",21)(1,"p-table",22),t.DNE(2,S,11,0,"ng-template",23)(3,a,18,13,"ng-template",24)(4,I,6,0,"ng-template",25),t.k0s()()),2&_){const o=t.XpG();t.R7$(),t.Y8G("value",o.customerSegments)("paginator",!0)("rows",10)}}function T(_,k){1&_&&(t.j41(0,"div",34),t.nrm(1,"p-skeleton",35),t.k0s())}let C=(()=>{class _{hotelService;messageService;bookings=[];reviews=[];ratings=[];loading=!1;selectedPeriod="month";periodOptions=[{label:"Last 7 Days",value:"week"},{label:"Last 30 Days",value:"month"},{label:"Last 3 Months",value:"quarter"},{label:"Last Year",value:"year"}];customerTrendChartData;customerTrendChartOptions;segmentChartData;segmentChartOptions;totalCustomers=0;newCustomers=0;returningCustomers=0;averageRating=0;customerSegments=[];constructor(o,l){this.hotelService=o,this.messageService=l}ngOnInit(){this.loadData()}loadData(){this.loading=!0,Promise.all([this.hotelService.getBookings().toPromise(),this.hotelService.getReviews().toPromise(),this.hotelService.getRatings().toPromise()]).then(([o,l,p])=>{this.bookings=o?.data||[],this.reviews=l?.data||[],this.ratings=p?.data||[],this.processCustomerData(),this.loading=!1}).catch(()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load customer data"}),this.loading=!1})}processCustomerData(){const o=this.getFilteredBookings();this.calculateCustomerMetrics(o),this.buildTrendChart(o),this.buildSegmentData(o)}getFilteredBookings(){const o=new Date;let l=new Date;switch(this.selectedPeriod){case"week":l.setDate(o.getDate()-7);break;case"month":l.setDate(o.getDate()-30);break;case"quarter":l.setMonth(o.getMonth()-3);break;case"year":l.setFullYear(o.getFullYear()-1)}return this.bookings.filter(p=>{const i=new Date(p.created);return i>=l&&i<=o})}calculateCustomerMetrics(o){const l=new Map;o.forEach(i=>{const h=l.get(i.account_id);if(h){h.bookings.push(i);const n=new Date(i.created);n<h.firstBooking&&(h.firstBooking=n)}else l.set(i.account_id,{firstBooking:new Date(i.created),bookings:[i]})}),this.totalCustomers=l.size;const p=this.getPeriodStart();this.newCustomers=Array.from(l.values()).filter(i=>i.firstBooking>=p).length,this.returningCustomers=this.totalCustomers-this.newCustomers,this.ratings.length>0&&(this.averageRating=this.ratings.reduce((i,h)=>i+h.avg_rating,0)/this.ratings.length)}getPeriodStart(){const o=new Date;let l=new Date;switch(this.selectedPeriod){case"week":l.setDate(o.getDate()-7);break;case"month":l.setDate(o.getDate()-30);break;case"quarter":l.setMonth(o.getMonth()-3);break;case"year":l.setFullYear(o.getFullYear()-1)}return l}buildTrendChart(o){const l=this.getPeriodStart(),p=new Map,i=new Map;o.forEach(n=>{if(i.has(n.account_id)){const d=i.get(n.account_id);new Date(n.created)<d&&i.set(n.account_id,new Date(n.created))}else i.set(n.account_id,new Date(n.created))}),o.forEach(n=>{const d=new Date(n.created).toISOString().split("T")[0],s=p.get(d)||{new:0,returning:0};i.get(n.account_id)>=l?s.new++:s.returning++,p.set(d,s)});const h=Array.from(p.keys()).sort();this.customerTrendChartData={labels:h.map(n=>new Date(n).toLocaleDateString("en-US","year"===this.selectedPeriod?{month:"short",year:"numeric"}:{month:"short",day:"numeric"})),datasets:[{label:"New Customers",data:h.map(n=>p.get(n).new),backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)"},{label:"Returning Customers",data:h.map(n=>p.get(n).returning),backgroundColor:"rgba(34, 197, 94, 0.5)",borderColor:"rgb(34, 197, 94)"}]},this.customerTrendChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Customer Acquisition Trend"}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"Number of Customers"}}}}}buildSegmentData(o){const l=new Map;o.forEach(i=>{const h=l.get(i.account_id)||{bookings:[],revenue:0};h.bookings.push(i),h.revenue+=i.total_price||0,l.set(i.account_id,h)});const p=[];l.forEach((i,h)=>{const n=i.bookings.length;let d="";d=n>=5?"VIP":n>=3?"Regular":n>=2?"Occasional":"One-time";const s=p.find(b=>b.segment===d);s?(s.count++,s.revenue+=i.revenue):p.push({segment:d,count:1,revenue:i.revenue,averageRating:0})}),p.forEach(i=>{const h=Array.from(l.keys()).filter(d=>{const b=l.get(d).bookings.length;return"VIP"===i.segment&&b>=5||"Regular"===i.segment&&b>=3&&b<5||"Occasional"===i.segment&&2===b||"One-time"===i.segment&&1===b}),n=this.ratings.filter(d=>h.includes(d.account_id));n.length>0&&(i.averageRating=n.reduce((d,s)=>d+s.avg_rating,0)/n.length)}),this.customerSegments=p.sort((i,h)=>h.revenue-i.revenue),this.segmentChartData={labels:this.customerSegments.map(i=>i.segment),datasets:[{label:"Number of Customers",data:this.customerSegments.map(i=>i.count),backgroundColor:["rgba(59, 130, 246, 0.5)","rgba(34, 197, 94, 0.5)","rgba(251, 191, 36, 0.5)","rgba(239, 68, 68, 0.5)"]}]},this.segmentChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"Customer Segmentation"}}}}onPeriodChange(){this.processCustomerData()}getSegmentSeverity(o){return{VIP:"success",Regular:"info",Occasional:"warning","One-time":"secondary"}[o]||"secondary"}getAverageRevenuePerCustomer(o){return o.count>0?o.revenue/o.count:0}static \u0275fac=function(l){return new(l||_)(t.rXU(A.g),t.rXU(g.bg))};static \u0275cmp=t.VBU({type:_,selectors:[["app-hotel-customers"]],features:[t.Jv_([g.bg])],decls:44,vars:12,consts:[["loadingTemplate",""],[1,"customers-page"],[1,"page-header"],[1,"header-content"],[1,"subtitle"],[1,"header-actions"],["optionLabel","label","optionValue","value",1,"period-selector",3,"ngModelChange","onChange","options","ngModel"],["pButton","","type","button","label","Refresh","icon","pi pi-refresh",1,"p-button-secondary",3,"click"],[1,"summary-cards"],[1,"summary-stat"],[1,"stat-value"],[1,"stat-label"],[1,"charts-row"],["header","Customer Acquisition Trend",4,"ngIf"],["header","Customer Segmentation",4,"ngIf"],["header","Customer Segments Details",4,"ngIf"],["header","Customer Acquisition Trend"],[1,"chart-container"],["type","bar",3,"data","options"],["header","Customer Segmentation"],["type","doughnut",3,"data","options"],["header","Customer Segments Details"],["styleClass","p-datatable-sm",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"value","severity"],[1,"customer-count"],[1,"revenue-amount"],[1,"rating-value"],[1,"avg-revenue"],["colspan","5",1,"text-center"],[1,"empty-state"],[1,"pi","pi-users"],[1,"loading-container"],["height","400px"]],template:function(l,p){if(1&l){const i=t.RV6();t.j41(0,"div",1),t.nrm(1,"p-toast"),t.j41(2,"div",2)(3,"div",3)(4,"div")(5,"h1"),t.EFF(6,"Customer Analytics"),t.k0s(),t.j41(7,"p",4),t.EFF(8,"Analyze customer behavior and segmentation"),t.k0s()(),t.j41(9,"div",5)(10,"p-dropdown",6),t.mxI("ngModelChange",function(n){return t.eBV(i),t.DH7(p.selectedPeriod,n)||(p.selectedPeriod=n),t.Njj(n)}),t.bIt("onChange",function(){return t.eBV(i),t.Njj(p.onPeriodChange())}),t.k0s(),t.j41(11,"button",7),t.bIt("click",function(){return t.eBV(i),t.Njj(p.loadData())}),t.k0s()()()(),t.j41(12,"div",8)(13,"p-card")(14,"div",9)(15,"span",10),t.EFF(16),t.k0s(),t.j41(17,"span",11),t.EFF(18,"Total Customers"),t.k0s()()(),t.j41(19,"p-card")(20,"div",9)(21,"span",10),t.EFF(22),t.k0s(),t.j41(23,"span",11),t.EFF(24,"New Customers"),t.k0s()()(),t.j41(25,"p-card")(26,"div",9)(27,"span",10),t.EFF(28),t.k0s(),t.j41(29,"span",11),t.EFF(30,"Returning Customers"),t.k0s()()(),t.j41(31,"p-card")(32,"div",9)(33,"span",10),t.EFF(34),t.nI1(35,"number"),t.k0s(),t.j41(36,"span",11),t.EFF(37,"Average Rating"),t.k0s()()()(),t.j41(38,"div",12),t.DNE(39,y,3,2,"p-card",13)(40,P,3,2,"p-card",14),t.k0s(),t.DNE(41,m,5,3,"p-card",15)(42,T,2,0,"ng-template",null,0,t.C5r),t.k0s()}2&l&&(t.R7$(10),t.Y8G("options",p.periodOptions),t.R50("ngModel",p.selectedPeriod),t.R7$(6),t.JRh(p.totalCustomers),t.R7$(6),t.JRh(p.newCustomers),t.R7$(6),t.JRh(p.returningCustomers),t.R7$(6),t.JRh(t.i5U(35,9,p.averageRating,"1.1-1")),t.R7$(5),t.Y8G("ngIf",!p.loading),t.R7$(),t.Y8G("ngIf",!p.loading),t.R7$(),t.Y8G("ngIf",!p.loading))},dependencies:[f.MD,f.bT,f.QX,f.oe,e.YN,e.BC,e.vS,E.iI,D.tm,D._f,g.Ei,O.Dw,O.Zp,w.kr,w.ms,r.Fr,r.X9,v.bG,v.XI,B.EJ,F.MB,F.y8,$.k2,$.EA,U.$C,U.vw],styles:[".customers-page[_ngcontent-%COMP%]{padding:2rem}.customers-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;background:linear-gradient(135deg,var(--p-surface-0) 0%,rgba(var(--p-primary-500),.05) 100%);padding:2rem;border-radius:12px;border-bottom:2px solid rgba(var(--p-primary-500),.2)}.customers-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.customers-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem;font-weight:700;color:var(--p-surface-900)}.customers-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:var(--p-surface-600)}.customers-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.customers-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .period-selector[_ngcontent-%COMP%]{min-width:180px}.customers-page[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem;margin-bottom:2rem}.customers-page[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   p-card[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem}.customers-page[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   p-card[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--p-primary-600)}.customers-page[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   p-card[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--p-surface-600);margin-top:.5rem}.customers-page[_ngcontent-%COMP%]   .charts-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:2rem;margin-bottom:2rem}@media (max-width: 1024px){.customers-page[_ngcontent-%COMP%]   .charts-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.customers-page[_ngcontent-%COMP%]   .charts-row[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:350px;position:relative}.customers-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{padding:2rem}.customers-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:var(--p-surface-600)}.customers-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:var(--p-surface-400)}.customers-page[_ngcontent-%COMP%]   .customer-count[_ngcontent-%COMP%]{font-weight:600;color:var(--p-surface-700)}.customers-page[_ngcontent-%COMP%]   .revenue-amount[_ngcontent-%COMP%]{font-weight:600;color:var(--p-primary-600)}.customers-page[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{font-weight:600;color:var(--p-warning-600)}.customers-page[_ngcontent-%COMP%]   .avg-revenue[_ngcontent-%COMP%]{font-weight:500;color:var(--p-surface-600)}"]})}return _})()},5545:(j,R,c)=>{c.d(R,{g:()=>D});var f=c(4754),e=c(1360),E=c(8989);let D=(()=>{class O{http;baseUrl=`${(0,f.Gi)()}/data-mesh/domains/hotel`;constructor(r){this.http=r}createApartment(r){return this.http.post(`${this.baseUrl}/apartments`,r)}getApartments(){return this.http.get(`${this.baseUrl}/apartments`)}getApartmentById(r){return this.http.get(`${this.baseUrl}/apartments/${r}`)}updateApartment(r,v){return this.http.put(`${this.baseUrl}/apartments/${r}`,v)}deleteApartment(r){return this.http.delete(`${this.baseUrl}/apartments/${r}`)}createRoom(r){return this.http.post(`${this.baseUrl}/rooms/room`,r)}getRooms(){return this.http.get(`${this.baseUrl}/rooms/rooms`)}getRoomById(r){return this.http.get(`${this.baseUrl}/rooms/room/${r}`)}updateRoom(r,v){return this.http.put(`${this.baseUrl}/rooms/room/${r}`,v)}deleteRoom(r){return this.http.delete(`${this.baseUrl}/rooms/room/${r}`)}createBooking(r){return this.http.post(`${this.baseUrl}/bookings/booking`,r)}getBookingById(r){return this.http.get(`${this.baseUrl}/bookings/booking/${r}`)}getBookings(){return this.http.get(`${this.baseUrl}/bookings/bookings`)}updateBooking(r,v){return this.http.put(`${this.baseUrl}/bookings/booking/${r}`,v)}deleteBooking(r){return this.http.delete(`${this.baseUrl}/bookings/booking/${r}`)}cancelBooking(r){return this.http.patch(`${this.baseUrl}/bookings/booking/${r}/cancel`,{})}createReview(r){return this.http.post(`${this.baseUrl}/reviews/review`,r)}getReviewById(r){return this.http.get(`${this.baseUrl}/reviews/review/${r}`)}getReviews(){return this.http.get(`${this.baseUrl}/reviews/reviews`)}getReviewsByApartment(r){return this.http.get(`${this.baseUrl}/reviews/reviews?apartment_id=${r}`)}updateReview(r,v){return this.http.put(`${this.baseUrl}/reviews/review/${r}`,v)}deleteReview(r){return this.http.delete(`${this.baseUrl}/reviews/review/${r}`)}createRating(r){return this.http.post(`${this.baseUrl}/ratings/rating`,r)}getRatingById(r){return this.http.get(`${this.baseUrl}/ratings/rating/${r}`)}getRatings(){return this.http.get(`${this.baseUrl}/ratings/ratings`)}getRatingsByApartment(r){return this.http.get(`${this.baseUrl}/ratings/ratings?apartment_id=${r}`)}getRoomsByApartment(r){return this.http.get(`${this.baseUrl}/rooms/rooms?apartment_id=${r}`)}updateRating(r,v){return this.http.put(`${this.baseUrl}/ratings/rating/${r}`,v)}deleteRating(r){return this.http.delete(`${this.baseUrl}/ratings/rating/${r}`)}healthCheck(){return this.http.get(`${this.baseUrl}/health/`)}getVersion(){return this.http.get(`${this.baseUrl}/version`)}static \u0275fac=function(v){return new(v||O)(e.KVO(E.Qq))};static \u0275prov=e.jDH({token:O,factory:O.\u0275fac,providedIn:"root"})}return O})()},5716:(j,R,c)=>{c.d(R,{EA:()=>$,k2:()=>U});var f=c(2881),e=c(1360),E=c(5779),D=c(3491),O=c(6263);const w=({dt:g})=>`\n.p-skeleton {\n    overflow: hidden;\n    background: ${g("skeleton.background")};\n    border-radius: ${g("skeleton.border.radius")};\n}\n\n.p-skeleton::after {\n    content: "";\n    animation: p-skeleton-animation 1.2s infinite;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    transform: translateX(-100%);\n    z-index: 1;\n    background: linear-gradient(90deg, rgba(255, 255, 255, 0), ${g("skeleton.animation.background")}, rgba(255, 255, 255, 0));\n}\n\n[dir='rtl'] .p-skeleton::after {\n    animation-name: p-skeleton-animation-rtl;\n}\n\n.p-skeleton-circle {\n    border-radius: 50%;\n}\n\n.p-skeleton-animation-none::after {\n    animation: none;\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n\n@keyframes p-skeleton-animation-rtl {\n    from {\n        transform: translateX(100%);\n    }\n    to {\n        transform: translateX(-100%);\n    }\n}\n`,r={root:{position:"relative"}},v={root:({props:g})=>["p-skeleton p-component",{"p-skeleton-circle":"circle"===g.shape,"p-skeleton-animation-none":"none"===g.animation}]};let B=(()=>{class g extends O.j{name="skeleton";theme=w;classes=v;inlineStyles=r;static \u0275fac=(()=>{let t;return function(P){return(t||(t=e.xGo(g)))(P||g)}})();static \u0275prov=e.jDH({token:g,factory:g.\u0275fac})}return g})(),$=(()=>{class g extends D.${styleClass;style;shape="rectangle";animation="wave";borderRadius;size;width="100%";height="1rem";_componentStyle=(0,e.WQX)(B);containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-animation-none":"none"===this.animation}}get containerStyle(){const t=this._componentStyle?.inlineStyles.root;let y;return y=this.size?{...this.style,...t,width:this.size,height:this.size,borderRadius:this.borderRadius}:{...t,width:this.width,height:this.height,borderRadius:this.borderRadius,...this.style},y}static \u0275fac=(()=>{let t;return function(P){return(t||(t=e.xGo(g)))(P||g)}})();static \u0275cmp=e.VBU({type:g,selectors:[["p-skeleton"]],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},features:[e.Jv_([B]),e.Vt3],decls:1,vars:7,consts:[[3,"ngClass","ngStyle"]],template:function(y,P){1&y&&e.nrm(0,"div",0),2&y&&(e.HbH(P.styleClass),e.Y8G("ngClass",P.containerClass())("ngStyle",P.containerStyle),e.BMQ("data-pc-name","skeleton")("aria-hidden",!0)("data-pc-section","root"))},dependencies:[f.MD,f.YU,f.B3,E.Gg],encapsulation:2,changeDetection:0})}return g})(),U=(()=>{class g{static \u0275fac=function(y){return new(y||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[$,E.Gg,E.Gg]})}return g})()}}]);