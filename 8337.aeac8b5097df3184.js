"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[8337],{8337:(le,h,r)=>{r.r(h),r.d(h,{PoliciesComponent:()=>oe});var u=r(2881),c=r(4341),_=r(4299),e=r(1360),m=r(1141),y=r(2242),F=r(63),p=r(8150),v=r(5430),w=r(6348);const M=()=>({label:"Access Control",value:"access_control"}),S=()=>({label:"Data Protection",value:"data_protection"}),R=()=>({label:"Compliance",value:"compliance"}),T=(l,a,t)=>[l,a,t],E=()=>({label:"Allow",value:"allow"}),I=()=>({label:"Deny",value:"deny"}),G=(l,a)=>[l,a];let $=(()=>{class l extends w.q{injector;governanceServices;policy=null;savePolicy=new e.bkB;cancelPolicy=new e.bkB;title="Create Policy";editingPolicy={_id:null,kid:"",name:"",description:"",type:"access_control",effect:"allow",subjects:[],roles:[],permissions:[],resources:[],domain_id:null,data_product_id:null,conditions:{},priority:1,enabled:!0,tags:[],created_at:(new Date).toISOString(),updated_at:(new Date).toISOString(),created_by:null,updated_by:null,role_details:[],permission_details:[],asset_details:[],user_details:[],team_details:[],affected_assets_total:0,policy_rules_total:0,total_subjects:0,total_roles:0,total_permissions:0,total_resources:0,domain_info:null,data_product_info:null};constructor(t,o){super(t),this.injector=t,this.governanceServices=o}ngOnInit(){this.policy?(this.editingPolicy={...this.policy},this.title="Edit Policy"):this.title="Create Policy"}save(){this.editingPolicy.name.trim()?this.editingPolicy.type.trim()?(this.policy&&this.policy.kid?this.governanceServices.updatePolicy(this.policy.kid,this.editingPolicy):this.governanceServices.createPolicy(this.editingPolicy)).subscribe({next:o=>{o.success?(this.showSuccess(this.policy?"Policy updated successfully":"Policy created successfully"),this.savePolicy.emit()):this.showError(o.message||"Failed to save policy")},error:o=>{console.error("Error saving policy:",o),this.showError("Failed to save policy")}}):this.showError("Policy type is required"):this.showError("Policy name is required")}cancel(){this.cancelPolicy.emit()}static \u0275fac=function(o){return new(o||l)(e.rXU(e.zZn),e.rXU(_.N))};static \u0275cmp=e.VBU({type:l,selectors:[["app-policy"]],inputs:{policy:"policy"},outputs:{savePolicy:"savePolicy",cancelPolicy:"cancelPolicy"},features:[e.Vt3],decls:31,vars:21,consts:[[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","flex-col","gap-2"],["for","policy-name",1,"text-sm","font-medium","text-gray-700"],["id","policy-name","type","text","pInputText","","placeholder","Enter policy name","required","",1,"w-full",3,"ngModelChange","ngModel"],["for","policy-type",1,"text-sm","font-medium","text-gray-700"],["id","policy-type","optionLabel","label","optionValue","value","placeholder","Select policy type",1,"w-full",3,"ngModelChange","ngModel","options"],["for","policy-description",1,"text-sm","font-medium","text-gray-700"],["id","policy-description","pTextarea","","placeholder","Enter policy description","rows","4",1,"w-full",3,"ngModelChange","ngModel"],["for","policy-effect",1,"text-sm","font-medium","text-gray-700"],["id","policy-effect","optionLabel","label","optionValue","value","placeholder","Select effect",1,"w-full",3,"ngModelChange","ngModel","options"],["for","policy-priority",1,"text-sm","font-medium","text-gray-700"],["id","policy-priority","type","number","pInputText","","placeholder","Enter priority (1-100)","min","1","max","100",1,"w-full",3,"ngModelChange","ngModel"],[1,"flex","items-center","gap-2"],["binary","true","inputId","policy-enabled",3,"ngModelChange","ngModel"],["for","policy-enabled",1,"text-sm","font-medium","text-gray-700"],[1,"flex","justify-end","gap-3","pt-4","border-t"],["label","Cancel","icon","pi pi-times","severity","secondary",3,"onClick","outlined"],["label","Save Policy","icon","pi pi-check","severity","primary",3,"onClick"]],template:function(o,i){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e.EFF(4,"Policy Name *"),e.k0s(),e.j41(5,"input",4),e.mxI("ngModelChange",function(s){return e.DH7(i.editingPolicy.name,s)||(i.editingPolicy.name=s),s}),e.k0s()(),e.j41(6,"div",2)(7,"label",5),e.EFF(8,"Policy Type *"),e.k0s(),e.j41(9,"p-dropdown",6),e.mxI("ngModelChange",function(s){return e.DH7(i.editingPolicy.type,s)||(i.editingPolicy.type=s),s}),e.k0s()()(),e.j41(10,"div",2)(11,"label",7),e.EFF(12,"Description"),e.k0s(),e.j41(13,"textarea",8),e.mxI("ngModelChange",function(s){return e.DH7(i.editingPolicy.description,s)||(i.editingPolicy.description=s),s}),e.EFF(14,"    "),e.k0s()(),e.j41(15,"div",1)(16,"div",2)(17,"label",9),e.EFF(18,"Effect"),e.k0s(),e.j41(19,"p-dropdown",10),e.mxI("ngModelChange",function(s){return e.DH7(i.editingPolicy.effect,s)||(i.editingPolicy.effect=s),s}),e.k0s()(),e.j41(20,"div",2)(21,"label",11),e.EFF(22,"Priority"),e.k0s(),e.j41(23,"input",12),e.mxI("ngModelChange",function(s){return e.DH7(i.editingPolicy.priority,s)||(i.editingPolicy.priority=s),s}),e.k0s()()(),e.j41(24,"div",13)(25,"p-checkbox",14),e.mxI("ngModelChange",function(s){return e.DH7(i.editingPolicy.enabled,s)||(i.editingPolicy.enabled=s),s}),e.k0s(),e.j41(26,"label",15),e.EFF(27,"Enable Policy"),e.k0s()(),e.j41(28,"div",16)(29,"p-button",17),e.bIt("onClick",function(){return i.cancel()}),e.k0s(),e.j41(30,"p-button",18),e.bIt("onClick",function(){return i.save()}),e.k0s()()()),2&o&&(e.R7$(5),e.R50("ngModel",i.editingPolicy.name),e.R7$(4),e.R50("ngModel",i.editingPolicy.type),e.Y8G("options",e.sMw(12,T,e.lJ4(9,M),e.lJ4(10,S),e.lJ4(11,R))),e.R7$(4),e.R50("ngModel",i.editingPolicy.description),e.R7$(6),e.R50("ngModel",i.editingPolicy.effect),e.Y8G("options",e.l_i(18,G,e.lJ4(16,E),e.lJ4(17,I))),e.R7$(4),e.R50("ngModel",i.editingPolicy.priority),e.R7$(2),e.R50("ngModel",i.editingPolicy.enabled),e.R7$(4),e.Y8G("outlined",!0))},dependencies:[m.$n,y.Sm,c.X1,c.me,c.Q0,c.BC,c.YS,c.VZ,c.zX,F.TM,c.YN,c.vS,p.kr,p.ms,v.q4,v.Sc],encapsulation:2})}return l})();var d=r(5779),g=r(6221),f=r(935),P=r(1570),b=r(7722),D=r(491),C=r(6150),V=r(6627),x=r(5716),j=r(4799),Y=r(3682),N=r(5144),X=r(1830),k=r(1631),B=r(4827),z=r(2637),O=r(1579),J=r(1436),L=r(5423),A=r(8660);const H=()=>({width:"90vw",maxWidth:"800px"});function U(l,a){if(1&l){const t=e.RV6();e.j41(0,"div",1)(1,"div",38)(2,"div",39)(3,"label",40),e.EFF(4,"Search"),e.k0s(),e.j41(5,"span",41),e.nrm(6,"i",42),e.j41(7,"input",43),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.searchTerm,i)||(n.searchTerm=i),e.Njj(i)}),e.bIt("input",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onSearch())}),e.k0s()()(),e.j41(8,"div",39)(9,"label",44),e.EFF(10,"Type"),e.k0s(),e.j41(11,"p-dropdown",45),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.filters.type,i)||(n.filters.type=i),e.Njj(i)}),e.bIt("onChange",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onFilterChange())}),e.k0s()(),e.j41(12,"div",39)(13,"label",46),e.EFF(14,"Status"),e.k0s(),e.j41(15,"p-dropdown",47),e.mxI("ngModelChange",function(i){e.eBV(t);const n=e.XpG();return e.DH7(n.filters.enabled,i)||(n.filters.enabled=i),e.Njj(i)}),e.bIt("onChange",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.onFilterChange())}),e.k0s()(),e.j41(16,"div",39)(17,"label",48),e.EFF(18,"\xa0"),e.k0s(),e.j41(19,"p-button",49),e.bIt("onClick",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.clearFilters())}),e.k0s()()()()}if(2&l){const t=e.XpG();e.R7$(7),e.R50("ngModel",t.searchTerm),e.R7$(4),e.Y8G("options",t.typeOptions),e.R50("ngModel",t.filters.type),e.R7$(4),e.Y8G("options",t.statusOptions),e.R50("ngModel",t.filters.enabled),e.R7$(4),e.Y8G("outlined",!0)}}function W(l,a){1&l&&(e.j41(0,"div",18)(1,"div",50),e.nrm(2,"p-skeleton",51)(3,"p-skeleton",51)(4,"p-skeleton",51),e.k0s()())}function Z(l,a){1&l&&(e.j41(0,"tr")(1,"th",57),e.EFF(2," Name "),e.nrm(3,"p-sortIcon",58),e.k0s(),e.j41(4,"th"),e.EFF(5,"Description"),e.k0s(),e.j41(6,"th",59),e.EFF(7," Type "),e.nrm(8,"p-sortIcon",60),e.k0s(),e.j41(9,"th"),e.EFF(10,"Status"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Roles"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Created"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Actions"),e.k0s()())}function Q(l,a){if(1&l){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",61)(3,"span",62),e.EFF(4),e.k0s(),e.j41(5,"span",63),e.EFF(6),e.k0s()()(),e.j41(7,"td")(8,"span",64),e.EFF(9),e.k0s()(),e.j41(10,"td"),e.nrm(11,"p-tag",65),e.k0s(),e.j41(12,"td"),e.nrm(13,"p-tag",65),e.k0s(),e.j41(14,"td")(15,"div",66),e.nrm(16,"p-badge",67),e.j41(17,"span",63),e.EFF(18,"roles"),e.k0s()()(),e.j41(19,"td")(20,"span",68),e.EFF(21),e.k0s()(),e.j41(22,"td")(23,"div",66)(24,"p-button",69),e.bIt("onClick",function(){const i=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.viewPolicyDetails(i))}),e.k0s(),e.j41(25,"p-button",70),e.bIt("onClick",function(){const i=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.openPolicyModal(i))}),e.k0s(),e.j41(26,"p-inputSwitch",71),e.mxI("ngModelChange",function(i){const n=e.eBV(t).$implicit;return e.DH7(n.enabled,i)||(n.enabled=i),e.Njj(i)}),e.bIt("onChange",function(){const i=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.togglePolicyStatus(i))}),e.k0s(),e.j41(27,"p-button",72),e.bIt("onClick",function(){const i=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.deletePolicy(i))}),e.k0s()()()()}if(2&l){const t=a.$implicit,o=e.XpG(2);e.R7$(4),e.JRh(t.name),e.R7$(2),e.JRh(t.kid),e.R7$(3),e.JRh(t.description),e.R7$(2),e.Y8G("value",t.type)("severity",o.getPolicyTypeSeverity(t.type)),e.R7$(2),e.Y8G("value",t.enabled?"Active":"Inactive")("severity",o.getPolicyStatusSeverity(t.enabled)),e.R7$(3),e.Y8G("value",t.roles.length),e.R7$(5),e.JRh(o.formatDate(t.created_at)),e.R7$(3),e.Y8G("outlined",!0),e.R7$(),e.Y8G("outlined",!0),e.R7$(),e.R50("ngModel",t.enabled),e.R7$(),e.Y8G("outlined",!0)}}function K(l,a){if(1&l){const t=e.RV6();e.j41(0,"tr")(1,"td",73)(2,"div",74),e.nrm(3,"i",75),e.j41(4,"div")(5,"h3",76),e.EFF(6,"No Policies Found"),e.k0s(),e.j41(7,"p",77),e.EFF(8,"Create your first policy to get started"),e.k0s()(),e.j41(9,"p-button",78),e.bIt("onClick",function(){e.eBV(t);const i=e.XpG(2);return e.Njj(i.openPolicyModal())}),e.k0s()()()()}}function q(l,a){if(1&l){const t=e.RV6();e.j41(0,"div",52)(1,"p-table",53),e.bIt("onLazyLoad",function(i){e.eBV(t);const n=e.XpG();return e.Njj(n.onLazyLoad(i))}),e.DNE(2,Z,17,0,"ng-template",54)(3,Q,28,13,"ng-template",55)(4,K,10,0,"ng-template",56),e.k0s()()}if(2&l){const t=e.XpG();e.R7$(),e.Y8G("value",t.policies)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalRecords)("lazy",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",t.pageSizeOptions)}}function ee(l,a){if(1&l){const t=e.RV6();e.j41(0,"div",87)(1,"div",88)(2,"div",89)(3,"div",90)(4,"h3",91),e.EFF(5),e.k0s(),e.j41(6,"p",92),e.EFF(7),e.k0s(),e.j41(8,"p",64),e.EFF(9),e.k0s()(),e.j41(10,"div",93),e.nrm(11,"p-tag",94),e.k0s()(),e.j41(12,"div",95)(13,"div",3)(14,"div",66),e.nrm(15,"p-badge",67),e.j41(16,"span",63),e.EFF(17,"roles"),e.k0s()(),e.j41(18,"div",66),e.nrm(19,"p-badge",96),e.j41(20,"span",63),e.EFF(21,"permissions"),e.k0s()()(),e.nrm(22,"p-tag",65),e.k0s(),e.j41(23,"div",97)(24,"div",2)(25,"span",63),e.EFF(26),e.k0s(),e.j41(27,"div",66)(28,"p-button",69),e.bIt("onClick",function(){const i=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.viewPolicyDetails(i))}),e.k0s(),e.j41(29,"p-button",70),e.bIt("onClick",function(){const i=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.openPolicyModal(i))}),e.k0s(),e.j41(30,"p-inputSwitch",71),e.mxI("ngModelChange",function(i){const n=e.eBV(t).$implicit;return e.DH7(n.enabled,i)||(n.enabled=i),e.Njj(i)}),e.bIt("onChange",function(){const i=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.togglePolicyStatus(i))}),e.k0s()()()()()()}if(2&l){const t=a.$implicit,o=e.XpG(2);e.R7$(5),e.JRh(t.name),e.R7$(2),e.JRh(t.kid),e.R7$(2),e.JRh(t.description),e.R7$(2),e.Y8G("value",t.type)("severity",o.getPolicyTypeSeverity(t.type)),e.R7$(4),e.Y8G("value",t.roles.length),e.R7$(4),e.Y8G("value",t.permissions.length),e.R7$(3),e.Y8G("value",t.enabled?"Active":"Inactive")("severity",o.getPolicyStatusSeverity(t.enabled)),e.R7$(4),e.SpI("Created ",o.formatDate(t.created_at),""),e.R7$(2),e.Y8G("outlined",!0),e.R7$(),e.Y8G("outlined",!0),e.R7$(),e.R50("ngModel",t.enabled)}}function te(l,a){if(1&l){const t=e.RV6();e.j41(0,"div",79),e.DNE(1,ee,31,13,"div",80),e.j41(2,"div",81)(3,"div",82),e.nrm(4,"i",83),e.j41(5,"h3",84),e.EFF(6,"Add New Policy"),e.k0s(),e.j41(7,"p",85),e.EFF(8,"Create a new governance policy"),e.k0s(),e.j41(9,"p-button",86),e.bIt("onClick",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.openPolicyModal())}),e.k0s()()()()}if(2&l){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.policies)("ngForTrackBy",t.trackByPolicyId)}}function ie(l,a){if(1&l){const t=e.RV6();e.j41(0,"div",98),e.nrm(1,"i",99),e.j41(2,"h3",100),e.EFF(3,"No Policies Found"),e.k0s(),e.j41(4,"p",101),e.EFF(5,"Create your first policy to start governing your data"),e.k0s(),e.j41(6,"p-button",86),e.bIt("onClick",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.openPolicyModal())}),e.k0s()()}}let oe=(()=>{class l{governanceServices;router;toastService;messageService;confirmationService;loadingService;policies=[];loading=!1;showPolicyModal=!1;selectedPolicy=null;viewMode="list";showFilters=!1;searchTerm="";filters={status:"",type:"",priority:"",enabled:""};totalRecords=0;currentPage=0;pageSize=10;pageSizeOptions=[5,10,25,50];stats={totalPolicies:0,activePolicies:0,violations:0,enforcedPolicies:0};typeOptions=[{label:"All Types",value:""},{label:"Access Control",value:"access_control"},{label:"Data Protection",value:"data_protection"},{label:"Compliance",value:"compliance"}];statusOptions=[{label:"All Status",value:""},{label:"Enabled",value:"true"},{label:"Disabled",value:"false"}];priorityOptions=[{label:"All Priorities",value:""},{label:"High",value:"high"},{label:"Medium",value:"medium"},{label:"Low",value:"low"}];constructor(t,o,i,n,s,ne){this.governanceServices=t,this.router=o,this.toastService=i,this.messageService=n,this.confirmationService=s,this.loadingService=ne}ngOnInit(){this.currentPage=0,this.pageSize=10,this.loadPolicies(),this.loadStats()}loadPolicies(){this.loading=!0,this.loadingService.showPageLoading("Loading policies...","data-flow");const t=Number(this.currentPage)||0,o=Number(this.pageSize)||10,i=t*o;console.log("Loading policies with params:",{currentPage:t,pageSize:o,offset:i,originalCurrentPage:this.currentPage,originalPageSize:this.pageSize}),this.governanceServices.getPolicies({limit:o,offset:i,search:this.searchTerm||void 0,type:this.filters.type||void 0,enabled:this.filters.enabled||void 0}).subscribe({next:s=>{s.success&&s.data?(this.policies=s.data.data,this.totalRecords=s.data.pagination.total,this.updateStats()):(this.policies=[],this.totalRecords=0),this.loading=!1,this.loadingService.hide()},error:s=>{console.error("Error loading policies:",s),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load policies"}),this.loading=!1,this.loadingService.hide()}})}loadStats(){this.updateStats()}updateStats(){this.stats.totalPolicies=this.totalRecords,this.stats.activePolicies=this.policies.filter(t=>t.enabled).length,this.stats.enforcedPolicies=this.policies.filter(t=>t.enabled&&"access_control"===t.type).length,this.stats.violations=0}onLazyLoad(t){this.currentPage=Math.floor((t.first||0)/(t.rows||10)),this.pageSize=Number(t.rows)||10,this.loadPolicies()}onPageChange(t){this.currentPage=Number(t.page)||0,this.pageSize=Number(t.rows)||10,this.loadPolicies()}onSearch(){this.currentPage=0,this.loadPolicies()}onFilterChange(){this.currentPage=0,this.loadPolicies()}clearFilters(){this.searchTerm="",this.filters={status:"",type:"",priority:"",enabled:""},this.currentPage=0,this.loadPolicies()}refreshPolicies(){this.loadPolicies()}exportPolicies(){this.messageService.add({severity:"info",summary:"Export",detail:"Export functionality coming soon"})}toggleFilters(){this.showFilters=!this.showFilters}applyFilters(){this.currentPage=0,this.loadPolicies()}toggleViewMode(){this.viewMode="list"===this.viewMode?"card":"list"}setViewMode(t){this.viewMode=t}openPolicyModal(t=null){this.selectedPolicy=t,this.showPolicyModal=!0}closePolicyModal(){this.showPolicyModal=!1,this.selectedPolicy=null}onPolicySaved(){this.closePolicyModal(),this.loadPolicies()}togglePolicyStatus(t){const o=t.enabled?"disable":"enable";(t.enabled?this.governanceServices.disablePolicy(t.kid):this.governanceServices.enablePolicy(t.kid)).subscribe({next:n=>{n.success&&(t.enabled=!t.enabled,this.messageService.add({severity:"success",summary:"Success",detail:`Policy ${o}d successfully`}),this.updateStats())},error:n=>{console.error(`Error ${o}ing policy:`,n),this.messageService.add({severity:"error",summary:"Error",detail:`Failed to ${o} policy`})}})}deletePolicy(t){this.confirmationService.confirm({message:`Are you sure you want to delete the policy "${t.name}"?`,header:"Confirm Delete",icon:"pi pi-exclamation-triangle",accept:()=>{this.governanceServices.deletePolicy(t.kid).subscribe({next:o=>{o.success&&(this.messageService.add({severity:"success",summary:"Success",detail:"Policy deleted successfully"}),this.loadPolicies())},error:o=>{console.error("Error deleting policy:",o),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to delete policy"})}})}})}viewPolicyDetails(t){this.router.navigate(["/governance/policies",t.kid])}getPolicyTypeSeverity(t){switch(t){case"access_control":return"info";case"data_protection":return"warning";case"compliance":return"danger";default:return"secondary"}}getPolicyStatusSeverity(t){return t?"success":"secondary"}formatDate(t){return new Date(t).toLocaleDateString()}trackByPolicyId(t,o){return o.kid}static \u0275fac=function(o){return new(o||l)(e.rXU(_.N),e.rXU(J.Ix),e.rXU(L.f),e.rXU(d.bg),e.rXU(d.td),e.rXU(A.U))};static \u0275cmp=e.VBU({type:l,selectors:[["app-policies"]],features:[e.Jv_([d.bg,d.td])],decls:66,vars:29,consts:[[1,"bg-gray-50","min-h-screen","p-6"],[1,"bg-white","rounded-lg","shadow-sm","p-6","mb-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","bg-gradient-to-br","from-purple-500","to-blue-600","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-shield","text-white","text-xl"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"flex","flex-wrap","items-center","gap-2","sm:gap-3"],["icon","pi pi-refresh","severity","info","pTooltip","Refresh Data",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-trash","severity","warning","pTooltip","Clear Cache",1,"hidden","sm:inline-flex",3,"outlined","rounded"],["icon","pi pi-download","severity","secondary","pTooltip","Export Policies",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-filter","severity","secondary","pTooltip","Toggle Filters",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-list","severity","secondary","pTooltip","List View",1,"hidden","sm:inline-flex",3,"onClick","outlined","rounded"],["icon","pi pi-th-large","severity","secondary","pTooltip","Card View",1,"hidden","sm:inline-flex",3,"onClick","outlined","rounded"],["label","Add Policy","icon","pi pi-plus","severity","primary","size","small",1,"sm:hidden",3,"onClick"],["icon","pi pi-plus","severity","primary","pTooltip","Add Policy",1,"hidden","sm:inline-flex",3,"onClick","rounded"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-6","mb-6"],[1,"bg-white","rounded-lg","shadow-sm","p-6"],[1,"text-sm","font-medium","text-gray-600"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-file-o","text-blue-600","text-xl"],[1,"text-3xl","font-bold","text-green-600"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-check-circle","text-green-600","text-xl"],[1,"text-3xl","font-bold","text-purple-600"],[1,"w-12","h-12","bg-purple-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-shield","text-purple-600","text-xl"],[1,"text-3xl","font-bold","text-red-600"],[1,"w-12","h-12","bg-red-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-exclamation-triangle","text-red-600","text-xl"],["class","bg-white rounded-lg shadow-sm p-6 mb-6",4,"ngIf"],["class","bg-white rounded-lg shadow-sm p-6",4,"ngIf"],["class","bg-white rounded-lg shadow-sm",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["class","bg-white rounded-lg shadow-sm p-12 text-center",4,"ngIf"],["header","Policy Details",3,"visibleChange","onHide","visible","modal","closable"],[3,"savePolicy","cancelPolicy","policy"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"flex","flex-col","gap-2"],["for","search",1,"text-sm","font-medium","text-gray-700"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["id","search","type","text","pInputText","","placeholder","Search policies...",1,"w-full",3,"ngModelChange","input","ngModel"],["for","type",1,"text-sm","font-medium","text-gray-700"],["id","type","optionLabel","label","optionValue","value","placeholder","Select type",1,"w-full",3,"ngModelChange","onChange","options","ngModel"],["for","status",1,"text-sm","font-medium","text-gray-700"],["id","status","optionLabel","label","optionValue","value","placeholder","Select status",1,"w-full",3,"ngModelChange","onChange","options","ngModel"],[1,"text-sm","font-medium","text-gray-700"],["label","Clear Filters","icon","pi pi-filter-slash","severity","secondary",3,"onClick","outlined"],[1,"space-y-4"],["height","4rem"],[1,"bg-white","rounded-lg","shadow-sm"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} policies","styleClass","p-datatable-sm",3,"onLazyLoad","value","paginator","rows","totalRecords","lazy","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","name"],["field","name"],["pSortableColumn","type"],["field","type"],[1,"flex","flex-col"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-600","line-clamp-2"],[3,"value","severity"],[1,"flex","items-center","gap-2"],["severity","info",3,"value"],[1,"text-sm","text-gray-600"],["icon","pi pi-eye","severity","info","size","small","pTooltip","View Details",3,"onClick","outlined"],["icon","pi pi-pencil","severity","secondary","size","small","pTooltip","Edit",3,"onClick","outlined"],["pTooltip","Toggle Status",3,"ngModelChange","onChange","ngModel"],["icon","pi pi-trash","severity","danger","size","small","pTooltip","Delete",3,"onClick","outlined"],["colspan","7",1,"text-center","p-8"],[1,"flex","flex-col","items-center","gap-4"],[1,"pi","pi-shield","text-gray-400","text-4xl"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-gray-500"],["label","Add Policy","icon","pi pi-plus","severity","primary",3,"onClick"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","rounded-lg","shadow-sm","border-2","border-dashed","border-gray-300","hover:border-gray-400","transition-colors"],[1,"p-6","h-full","flex","flex-col","items-center","justify-center","text-center"],[1,"pi","pi-plus","text-gray-400","text-3xl","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500","mb-4"],["label","Create Policy","icon","pi pi-plus","severity","primary",3,"onClick"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","hover:shadow-md","transition-shadow"],[1,"p-6"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-900","mb-1"],[1,"text-sm","text-gray-500","mb-2"],[1,"flex","items-center","gap-2","ml-4"],[1,"text-xs",3,"value","severity"],[1,"flex","items-center","justify-between","mb-4"],["severity","secondary",3,"value"],[1,"border-t","pt-4"],[1,"bg-white","rounded-lg","shadow-sm","p-12","text-center"],[1,"pi","pi-shield","text-gray-400","text-6xl","mb-4"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"]],template:function(o,i){1&o&&(e.nrm(0,"p-toast")(1,"p-confirmDialog"),e.j41(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),e.nrm(7,"i",5),e.k0s(),e.j41(8,"div")(9,"h1",6),e.EFF(10,"Policy Management"),e.k0s(),e.j41(11,"p",7),e.EFF(12,"Define and manage data governance policies"),e.k0s()()(),e.j41(13,"div",8)(14,"p-button",9),e.bIt("click",function(){return i.refreshPolicies()}),e.k0s(),e.nrm(15,"p-button",10),e.j41(16,"p-button",11),e.bIt("click",function(){return i.exportPolicies()}),e.k0s(),e.j41(17,"p-button",12),e.bIt("click",function(){return i.toggleFilters()}),e.k0s(),e.j41(18,"p-button",13),e.bIt("onClick",function(){return i.setViewMode("list")}),e.k0s(),e.j41(19,"p-button",14),e.bIt("onClick",function(){return i.setViewMode("card")}),e.k0s(),e.j41(20,"p-button",15),e.bIt("onClick",function(){return i.openPolicyModal()}),e.k0s(),e.j41(21,"p-button",16),e.bIt("onClick",function(){return i.openPolicyModal()}),e.k0s()()()(),e.j41(22,"div",17)(23,"div",18)(24,"div",2)(25,"div")(26,"p",19),e.EFF(27,"Total Policies"),e.k0s(),e.j41(28,"p",6),e.EFF(29),e.k0s()(),e.j41(30,"div",20),e.nrm(31,"i",21),e.k0s()()(),e.j41(32,"div",18)(33,"div",2)(34,"div")(35,"p",19),e.EFF(36,"Active Policies"),e.k0s(),e.j41(37,"p",22),e.EFF(38),e.k0s()(),e.j41(39,"div",23),e.nrm(40,"i",24),e.k0s()()(),e.j41(41,"div",18)(42,"div",2)(43,"div")(44,"p",19),e.EFF(45,"Enforced Policies"),e.k0s(),e.j41(46,"p",25),e.EFF(47),e.k0s()(),e.j41(48,"div",26),e.nrm(49,"i",27),e.k0s()()(),e.j41(50,"div",18)(51,"div",2)(52,"div")(53,"p",19),e.EFF(54,"Violations"),e.k0s(),e.j41(55,"p",28),e.EFF(56),e.k0s()(),e.j41(57,"div",29),e.nrm(58,"i",30),e.k0s()()()(),e.DNE(59,U,20,6,"div",31)(60,W,5,0,"div",32)(61,q,5,7,"div",33)(62,te,10,2,"div",34)(63,ie,7,0,"div",35),e.k0s(),e.j41(64,"p-dialog",36),e.mxI("visibleChange",function(s){return e.DH7(i.showPolicyModal,s)||(i.showPolicyModal=s),s}),e.bIt("onHide",function(){return i.closePolicyModal()}),e.j41(65,"app-policy",37),e.bIt("savePolicy",function(){return i.onPolicySaved()})("cancelPolicy",function(){return i.closePolicyModal()}),e.k0s()()),2&o&&(e.R7$(14),e.Y8G("outlined",!0)("rounded",!0),e.R7$(),e.Y8G("outlined",!0)("rounded",!0),e.R7$(),e.Y8G("outlined",!0)("rounded",!0),e.R7$(),e.Y8G("outlined",!i.showFilters)("rounded",!0),e.R7$(),e.Y8G("outlined","list"!==i.viewMode)("rounded",!0),e.R7$(),e.Y8G("outlined","card"!==i.viewMode)("rounded",!0),e.R7$(2),e.Y8G("rounded",!0),e.R7$(8),e.JRh(i.stats.totalPolicies),e.R7$(9),e.JRh(i.stats.activePolicies),e.R7$(9),e.JRh(i.stats.enforcedPolicies),e.R7$(9),e.JRh(i.stats.violations),e.R7$(3),e.Y8G("ngIf",i.showFilters),e.R7$(),e.Y8G("ngIf",i.loading),e.R7$(),e.Y8G("ngIf",!i.loading&&"list"===i.viewMode),e.R7$(),e.Y8G("ngIf",!i.loading&&"card"===i.viewMode),e.R7$(),e.Y8G("ngIf",!i.loading&&0===i.policies.length),e.R7$(),e.Aen(e.lJ4(28,H)),e.R50("visible",i.showPolicyModal),e.Y8G("modal",!0)("closable",!0),e.R7$(),e.Y8G("policy",i.selectedPolicy))},dependencies:[u.MD,u.Sq,u.bT,c.YN,c.me,c.BC,c.vS,$,m.tm,m.$n,d.Ei,g.bG,g.XI,g.Tg,g.yc,f.$C,f.vw,y.um,y.Sm,p.kr,p.ms,P.Ph,P.lG,b.MB,b.y8,D.Dw,C.EJ,C.Ex,V.IP,x.k2,x.EA,j.FP,j.TM,Y.JB,N.Mk,X.mE,k.H_,k.HW,B.P8,z.h6,O.dD],styles:[".policy-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.policy-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}.status-badge[_ngcontent-%COMP%]{position:relative;z-index:1}.filter-section[_ngcontent-%COMP%]{backdrop-filter:blur(10px);background:#ffffffe6}.dark[_ngcontent-%COMP%]   .filter-section[_ngcontent-%COMP%]{background:#111827e6}@media (max-width: 768px){.policy-table[_ngcontent-%COMP%]{font-size:.875rem}.policy-actions[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}"]})}return l})()}}]);