"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[833],{833:(N,k,r)=>{r.r(k),r.d(k,{AssetsComponent:()=>$e});var b=r(4299),p=r(6221),C=r(935),j=r(1141),e=r(1360),_=r(4341),x=r(2242),A=r(1570),w=r(1593),M=r(63),f=r(8150),F=r(6296),c=r(9322),v=r(2881),u=r(6348),m=r(5779);const h=()=>({width:"90vw",maxWidth:"800px"});function B(n,l){if(1&n&&(e.j41(0,"div",27)(1,"div",28),e.nrm(2,"i",29),e.k0s(),e.j41(3,"span",30),e.EFF(4),e.k0s()()),2&n){const t=e.XpG();e.R7$(4),e.JRh(t.title)}}function X(n,l){if(1&n&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.formErrors.name)}}function z(n,l){if(1&n&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.formErrors.type)}}function L(n,l){if(1&n&&(e.j41(0,"small",31),e.EFF(1),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(t.formErrors.sensitivity)}}function J(n,l){if(1&n&&(e.j41(0,"div",39),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.SpI("Last updated: ",e.i5U(2,1,t.asset.updatedAt,"short"),"")}}function U(n,l){if(1&n){const t=e.RV6();e.j41(0,"p-button",40),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return s.isViewMode=!1,s.isEditMode=!0,e.Njj(s.title="Edit Asset")}),e.k0s()}}function H(n,l){if(1&n){const t=e.RV6();e.j41(0,"p-button",41),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.save())}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("label",t.isEditMode?"Update":"Create")("icon",t.loading?"pi pi-spin pi-spinner":t.isEditMode?"pi pi-check":"pi pi-plus")("disabled",t.loading)}}function K(n,l){if(1&n){const t=e.RV6();e.j41(0,"p-button",42),e.bIt("click",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.confirmOnDelete(s,a.governanceServices.deleteAsset(a.asset._id),a.refreshAfterDelete))}),e.k0s()}2&n&&e.Y8G("outlined",!0)}function W(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",32),e.DNE(1,J,3,4,"div",33),e.j41(2,"div",34)(3,"p-button",35),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.cancel())}),e.k0s(),e.DNE(4,U,1,0,"p-button",36)(5,H,1,3,"p-button",37)(6,K,1,1,"p-button",38),e.k0s()()}if(2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf",t.isViewMode),e.R7$(2),e.Y8G("text",!0)("disabled",t.loading),e.R7$(),e.Y8G("ngIf",t.isViewMode),e.R7$(),e.Y8G("ngIf",!t.isViewMode),e.R7$(),e.Y8G("ngIf",t.isEditMode&&t.asset._id)}}let Q=(()=>{class n extends u.q{injector;governanceServices;onSave=new e.bkB;asset={name:"",type:"",source:"",location:"",sensitivity:"",status:"active",category:"",owner:"",tags:[],description:""};originalAsset={};title="Create Asset";visible=!1;loading=!1;isEditMode=!1;isViewMode=!1;formErrors={};typeOptions=[{label:"Database",value:"database"},{label:"API",value:"api"},{label:"Function",value:"func"},{label:"File System",value:"filesystem"},{label:"Service",value:"service"},{label:"Application",value:"application"},{label:"Cloud Storage",value:"cloud"},{label:"Table",value:"table"}];sensitivityOptions=[{label:"Low",value:"low"},{label:"Medium",value:"medium"},{label:"High",value:"high"},{label:"Critical",value:"critical"}];statusOptions=[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"},{label:"Maintenance",value:"maintenance"},{label:"Deprecated",value:"deprecated"}];categoryOptions=[{label:"Data Source",value:"data_source"},{label:"Application",value:"application"},{label:"Infrastructure",value:"infrastructure"},{label:"Service",value:"service"},{label:"Document",value:"document"}];constructor(t,i){super(t),this.injector=t,this.governanceServices=i}initializeAsset(){return{name:"",type:"",source:"",location:"",sensitivity:"",status:"active",category:"",owner:"",tags:[],description:""}}validateForm(){return this.formErrors={},this.asset.name?.trim()||(this.formErrors.name="Asset name is required"),this.asset.type?.trim()||(this.formErrors.type="Asset type is required"),this.asset.sensitivity?.trim()||(this.formErrors.sensitivity="Sensitivity level is required"),0===Object.keys(this.formErrors).length}show(){this.asset=this.initializeAsset(),this.originalAsset={},this.title="Create Asset",this.isEditMode=!1,this.isViewMode=!1,this.formErrors={},this.visible=!0}edit(t){this.asset={...t},this.originalAsset={...t},this.title="Edit Asset",this.isEditMode=!0,this.isViewMode=!1,this.formErrors={},this.visible=!0}view(t){this.asset={...t},this.originalAsset={...t},this.title="Asset Details",this.isEditMode=!1,this.isViewMode=!0,this.formErrors={},this.visible=!0}save(){this.validateForm()?(this.loading=!0,(this.isEditMode&&this.asset._id?this.governanceServices.updateAsset(this.asset._id,this.asset):this.governanceServices.createAsset(this.asset)).subscribe({next:i=>{this.loading=!1,i?.success?(this.messageService.add({severity:"success",summary:"Success",detail:this.isEditMode?"Asset updated successfully":"Asset created successfully"}),this.visible=!1,this.asset=this.initializeAsset(),this.onSave.emit()):this.messageService.add({severity:"error",summary:"Error",detail:i?.message||"Failed to save asset"})},error:i=>{this.loading=!1,console.error("Error saving asset:",i),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to save asset. Please try again."})}})):this.messageService.add({severity:"error",summary:"Validation Error",detail:"Please fix the form errors before saving"})}refreshAfterDelete=()=>{this.visible=!1,this.onSave.emit()};cancel(){this.visible=!1,this.asset=this.initializeAsset(),this.formErrors={}}hasUnsavedChanges(){return JSON.stringify(this.asset)!==JSON.stringify(this.originalAsset)}static \u0275fac=function(i){return new(i||n)(e.rXU(e.zZn),e.rXU(b.N))};static \u0275cmp=e.VBU({type:n,selectors:[["app-asset"]],outputs:{onSave:"onSave"},features:[e.Jv_([m.bg]),e.Vt3],decls:59,vars:41,consts:[["header",""],["footer",""],[1,"asset-dialog",3,"visibleChange","visible","modal","closable","draggable","resizable"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mt-6"],[1,"md:col-span-1"],["pInputText","","id","name","autocomplete","off",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","name"],["class","p-error",4,"ngIf"],["id","type","optionLabel","label","optionValue","value","placeholder","Select Type",1,"w-full",3,"ngModelChange","ngModel","options","disabled"],["for","type"],["pInputText","","id","source","autocomplete","off",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","source"],["pInputText","","id","location","autocomplete","off",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","location"],["pInputText","","id","owner","autocomplete","off",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","owner"],["id","sensitivity","optionLabel","label","optionValue","value","placeholder","Select Sensitivity",1,"w-full",3,"ngModelChange","ngModel","options","disabled"],["for","sensitivity"],["id","status","optionLabel","label","optionValue","value","placeholder","Select Status",1,"w-full",3,"ngModelChange","ngModel","options","disabled"],["for","status"],["id","category","optionLabel","label","optionValue","value","placeholder","Select Category",1,"w-full",3,"ngModelChange","ngModel","options","disabled"],["for","category"],[1,"md:col-span-2"],["id","tags","placeholder","Add tags...",1,"w-full",3,"ngModelChange","ngModel","disabled"],["for","tags"],["pTextarea","","id","description","rows","4","cols","30",1,"w-full",2,"resize","vertical",3,"ngModelChange","ngModel","disabled"],["for","description"],[1,"inline-flex","items-center","justify-center","gap-2"],[1,"w-8","h-8","bg-gradient-to-br","from-green-500","to-emerald-600","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-database","text-white","text-sm"],[1,"font-bold","whitespace-nowrap","text-lg"],[1,"p-error"],[1,"flex","justify-between","w-full","items-center"],["class","text-sm text-gray-500",4,"ngIf"],[1,"flex","justify-end","gap-3"],["label","Close","severity","secondary",3,"click","text","disabled"],["label","Edit","icon","pi pi-pencil","severity","primary",3,"click",4,"ngIf"],["severity","primary",3,"label","icon","disabled","click",4,"ngIf"],["label","Delete","icon","pi pi-trash","severity","danger",3,"outlined","click",4,"ngIf"],[1,"text-sm","text-gray-500"],["label","Edit","icon","pi pi-pencil","severity","primary",3,"click"],["severity","primary",3,"click","label","icon","disabled"],["label","Delete","icon","pi pi-trash","severity","danger",3,"click","outlined"]],template:function(i,s){if(1&i){const a=e.RV6();e.j41(0,"p-dialog",2),e.mxI("visibleChange",function(o){return e.eBV(a),e.DH7(s.visible,o)||(s.visible=o),e.Njj(o)}),e.DNE(1,B,5,1,"ng-template",null,0,e.C5r),e.j41(3,"div",3)(4,"div",4)(5,"p-floatlabel")(6,"input",5),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.name,o)||(s.asset.name=o),e.Njj(o)}),e.k0s(),e.j41(7,"label",6),e.EFF(8,"Asset Name *"),e.k0s()(),e.DNE(9,X,2,1,"small",7),e.k0s(),e.j41(10,"div",4)(11,"p-floatlabel")(12,"p-dropdown",8),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.type,o)||(s.asset.type=o),e.Njj(o)}),e.k0s(),e.j41(13,"label",9),e.EFF(14,"Asset Type *"),e.k0s()(),e.DNE(15,z,2,1,"small",7),e.k0s(),e.j41(16,"div",4)(17,"p-floatlabel")(18,"input",10),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.source,o)||(s.asset.source=o),e.Njj(o)}),e.k0s(),e.j41(19,"label",11),e.EFF(20,"Source System"),e.k0s()()(),e.j41(21,"div",4)(22,"p-floatlabel")(23,"input",12),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.location,o)||(s.asset.location=o),e.Njj(o)}),e.k0s(),e.j41(24,"label",13),e.EFF(25,"Location"),e.k0s()()(),e.j41(26,"div",4)(27,"p-floatlabel")(28,"input",14),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.owner,o)||(s.asset.owner=o),e.Njj(o)}),e.k0s(),e.j41(29,"label",15),e.EFF(30,"Owner"),e.k0s()()(),e.j41(31,"div",4)(32,"p-floatlabel")(33,"p-dropdown",16),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.sensitivity,o)||(s.asset.sensitivity=o),e.Njj(o)}),e.k0s(),e.j41(34,"label",17),e.EFF(35,"Sensitivity Level *"),e.k0s()(),e.DNE(36,L,2,1,"small",7),e.k0s(),e.j41(37,"div",4)(38,"p-floatlabel")(39,"p-dropdown",18),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.status,o)||(s.asset.status=o),e.Njj(o)}),e.k0s(),e.j41(40,"label",19),e.EFF(41,"Status"),e.k0s()()(),e.j41(42,"div",4)(43,"p-floatlabel")(44,"p-dropdown",20),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.category,o)||(s.asset.category=o),e.Njj(o)}),e.k0s(),e.j41(45,"label",21),e.EFF(46,"Category"),e.k0s()()(),e.j41(47,"div",22)(48,"p-floatlabel")(49,"p-chips",23),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.tags,o)||(s.asset.tags=o),e.Njj(o)}),e.k0s(),e.j41(50,"label",24),e.EFF(51,"Tags"),e.k0s()()(),e.j41(52,"div",22)(53,"p-floatlabel")(54,"textarea",25),e.mxI("ngModelChange",function(o){return e.eBV(a),e.DH7(s.asset.description,o)||(s.asset.description=o),e.Njj(o)}),e.k0s(),e.j41(55,"label",26),e.EFF(56,"Description"),e.k0s()()()(),e.DNE(57,W,7,6,"ng-template",null,1,e.C5r),e.k0s()}2&i&&(e.Aen(e.lJ4(40,h)),e.R50("visible",s.visible),e.Y8G("modal",!0)("closable",!s.loading)("draggable",!1)("resizable",!1),e.R7$(6),e.AVh("p-invalid",s.formErrors.name),e.R50("ngModel",s.asset.name),e.Y8G("disabled",s.loading||s.isViewMode),e.R7$(3),e.Y8G("ngIf",s.formErrors.name),e.R7$(3),e.AVh("p-invalid",s.formErrors.type),e.R50("ngModel",s.asset.type),e.Y8G("options",s.typeOptions)("disabled",s.loading||s.isViewMode),e.R7$(3),e.Y8G("ngIf",s.formErrors.type),e.R7$(3),e.R50("ngModel",s.asset.source),e.Y8G("disabled",s.loading||s.isViewMode),e.R7$(5),e.R50("ngModel",s.asset.location),e.Y8G("disabled",s.loading||s.isViewMode),e.R7$(5),e.R50("ngModel",s.asset.owner),e.Y8G("disabled",s.loading||s.isViewMode),e.R7$(5),e.AVh("p-invalid",s.formErrors.sensitivity),e.R50("ngModel",s.asset.sensitivity),e.Y8G("options",s.sensitivityOptions)("disabled",s.loading||s.isViewMode),e.R7$(3),e.Y8G("ngIf",s.formErrors.sensitivity),e.R7$(3),e.R50("ngModel",s.asset.status),e.Y8G("options",s.statusOptions)("disabled",s.loading||s.isViewMode),e.R7$(5),e.R50("ngModel",s.asset.category),e.Y8G("options",s.categoryOptions)("disabled",s.loading||s.isViewMode),e.R7$(5),e.R50("ngModel",s.asset.tags),e.Y8G("disabled",s.loading||s.isViewMode),e.R7$(5),e.R50("ngModel",s.asset.description),e.Y8G("disabled",s.loading||s.isViewMode))},dependencies:[v.MD,v.bT,v.vh,j.$n,_.YN,_.me,_.BC,_.vS,x.Sm,A.lG,w.VS,M.TM,f.kr,f.ms,F.iV,c.AV,c.C4],encapsulation:2})}return n})();var Z=r(6150),E=r(6627),G=r(8542),q=r(4827),I=r(7722),T=r(1413),ee=r(3236),$=r(9974),P=r(4360);function D(n,l=ee.E){return(0,$.N)((t,i)=>{let s=null,a=null,d=null;const o=()=>{if(s){s.unsubscribe(),s=null;const y=a;a=null,i.next(y)}};function g(){const y=d+n,Y=l.now();if(Y<y)return s=this.schedule(void 0,y-Y),void i.add(s);o()}t.subscribe((0,P._)(i,y=>{a=y,d=l.now(),s||(s=l.schedule(g,n),i.add(s))},()=>{o(),i.complete()},void 0,()=>{a=s=null}))})}var te=r(3669);function ie(n,l){return n===l}var V=r(6977),ne=r(491),ae=r(5716),oe=r(6160),re=r(4602),le=r(6502),de=r(7164),ce=r(5473),pe=r(7515),O=r(4799),R=r(2288);const S=()=>[];function ge(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div")(5,"label",39),e.EFF(6,"Search"),e.k0s(),e.j41(7,"span",40),e.nrm(8,"i",41),e.j41(9,"input",42),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG();return e.DH7(a.searchTerm,s)||(a.searchTerm=s),e.Njj(s)}),e.bIt("input",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.onSearchChange())}),e.k0s()()(),e.j41(10,"div")(11,"label",39),e.EFF(12,"Type"),e.k0s(),e.j41(13,"p-dropdown",43),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG();return e.DH7(a.selectedType,s)||(a.selectedType=s),e.Njj(s)}),e.bIt("onChange",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.filterAssets())}),e.k0s()(),e.j41(14,"div")(15,"label",39),e.EFF(16,"Sensitivity"),e.k0s(),e.j41(17,"p-dropdown",44),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG();return e.DH7(a.selectedSensitivity,s)||(a.selectedSensitivity=s),e.Njj(s)}),e.bIt("onChange",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.filterAssets())}),e.k0s()(),e.j41(18,"div")(19,"label",39),e.EFF(20,"Status"),e.k0s(),e.j41(21,"p-dropdown",45),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG();return e.DH7(a.selectedStatus,s)||(a.selectedStatus=s),e.Njj(s)}),e.bIt("onChange",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.filterAssets())}),e.k0s()()(),e.j41(22,"div",46)(23,"p-button",47),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.applyFilters())}),e.k0s(),e.j41(24,"p-button",48),e.bIt("click",function(){e.eBV(t);const s=e.XpG();return e.Njj(s.clearFilters())}),e.k0s()()()()()}if(2&n){const t=e.XpG();e.R7$(9),e.R50("ngModel",t.searchTerm),e.R7$(4),e.Y8G("options",t.typeOptions),e.R50("ngModel",t.selectedType),e.Y8G("showClear",!0),e.R7$(4),e.Y8G("options",t.sensitivityOptions),e.R50("ngModel",t.selectedSensitivity),e.Y8G("showClear",!0),e.R7$(4),e.Y8G("options",t.statusOptions),e.R50("ngModel",t.selectedStatus),e.Y8G("showClear",!0),e.R7$(3),e.Y8G("outlined",!0)}}function ue(n,l){1&n&&(e.j41(0,"div",49)(1,"div",50),e.nrm(2,"i",51),e.k0s(),e.j41(3,"h3",52),e.EFF(4,"Loading assets..."),e.k0s(),e.j41(5,"p",53),e.EFF(6,"Please wait while we fetch your data."),e.k0s()())}function me(n,l){1&n&&e.nrm(0,"p-tag",74)}function _e(n,l){1&n&&e.nrm(0,"p-tag",75)}function he(n,l){if(1&n&&(e.j41(0,"div",81),e.nrm(1,"i",89),e.EFF(2),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(2),e.SpI("",t.source," ")}}function fe(n,l){if(1&n){const t=e.RV6();e.j41(0,"tr",76)(1,"td",77)(2,"div",60)(3,"div",78),e.nrm(4,"i",79),e.k0s(),e.j41(5,"div")(6,"div",80),e.EFF(7),e.k0s(),e.j41(8,"div",81),e.EFF(9),e.k0s()()()(),e.j41(10,"td",77)(11,"div",82),e.EFF(12),e.k0s(),e.j41(13,"div",81),e.EFF(14),e.k0s()(),e.j41(15,"td",77)(16,"div",83),e.EFF(17),e.k0s(),e.DNE(18,he,3,1,"div",84),e.k0s(),e.j41(19,"td",77)(20,"div",82),e.EFF(21),e.k0s()(),e.j41(22,"td",77),e.nrm(23,"p-tag",85),e.k0s(),e.j41(24,"td",77),e.nrm(25,"p-tag",85),e.k0s(),e.j41(26,"td",77)(27,"div",64)(28,"p-button",86),e.bIt("click",function(){const s=e.eBV(t).$implicit;e.XpG(3);const a=e.sdS(63);return e.Njj(a.view(s))}),e.k0s(),e.j41(29,"p-button",87),e.bIt("click",function(){const s=e.eBV(t).$implicit;e.XpG(3);const a=e.sdS(63);return e.Njj(a.edit(s))}),e.k0s(),e.j41(30,"p-button",88),e.bIt("click",function(s){const a=e.eBV(t).$implicit,d=e.XpG(3);return e.Njj(d.onDeleteAsset(s,a._id))}),e.k0s()()()()}if(2&n){const t=l.$implicit,i=e.XpG(3);e.R7$(3),e.Y8G("ngClass",i.getAssetColor(t.type)),e.R7$(),e.Y8G("ngClass",i.getAssetIcon(t.type)),e.R7$(3),e.JRh(t.name||"Untitled Asset"),e.R7$(2),e.JRh(t.description||"No description"),e.R7$(3),e.JRh(t.type),e.R7$(2),e.JRh(t.source||"Unknown"),e.R7$(2),e.Y8G("pTooltip",i.getFullLocation(t.location)),e.R7$(),e.SpI(" ",i.truncateLocation(t.location)," "),e.R7$(),e.Y8G("ngIf",t.source),e.R7$(3),e.JRh(t.owner||"Unassigned"),e.R7$(2),e.Y8G("value",t.sensitivity||"Low")("severity",i.getSensitivitySeverity(t.sensitivity)),e.R7$(2),e.Y8G("value",t.status||"Active")("severity",i.getSeverity(t.status)),e.R7$(3),e.Y8G("rounded",!0)("text",!0),e.R7$(),e.Y8G("rounded",!0)("text",!0),e.R7$(),e.Y8G("rounded",!0)("text",!0)}}function ve(n,l){if(1&n&&(e.j41(0,"div",107),e.nrm(1,"i",108),e.j41(2,"span",109),e.EFF(3),e.k0s()()),2&n){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(2),e.Y8G("pTooltip",i.getFullLocation(t.location)),e.R7$(),e.SpI(" ",i.truncateLocation(t.location,25)," ")}}function be(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",90)(1,"div",91)(2,"div",92),e.nrm(3,"i",93),e.k0s(),e.j41(4,"div",94)(5,"div",3)(6,"h3",95),e.EFF(7),e.k0s(),e.nrm(8,"p-tag",96),e.k0s(),e.j41(9,"p",97),e.EFF(10),e.k0s(),e.j41(11,"div",98)(12,"span"),e.nrm(13,"i",99),e.EFF(14),e.k0s(),e.j41(15,"span"),e.nrm(16,"i",100),e.EFF(17),e.k0s(),e.j41(18,"span"),e.nrm(19,"i",101),e.EFF(20),e.k0s()(),e.DNE(21,ve,4,2,"div",102),e.j41(22,"div",103)(23,"p-button",104),e.bIt("click",function(){const s=e.eBV(t).$implicit;e.XpG(3);const a=e.sdS(63);return e.Njj(a.view(s))}),e.k0s(),e.j41(24,"p-button",105),e.bIt("click",function(){const s=e.eBV(t).$implicit;e.XpG(3);const a=e.sdS(63);return e.Njj(a.edit(s))}),e.k0s(),e.j41(25,"p-button",106),e.bIt("click",function(s){const a=e.eBV(t).$implicit,d=e.XpG(3);return e.Njj(d.onDeleteAsset(s,a._id))}),e.k0s()()()()()}if(2&n){const t=l.$implicit,i=e.XpG(3);e.R7$(2),e.Y8G("ngClass",i.getAssetColor(t.type)),e.R7$(),e.Y8G("ngClass",i.getAssetIcon(t.type)),e.R7$(4),e.JRh(t.name||"Untitled Asset"),e.R7$(),e.Y8G("value",t.status||"Active")("severity",i.getSeverity(t.status)),e.R7$(2),e.JRh(t.description||"No description"),e.R7$(4),e.JRh(t.type),e.R7$(3),e.JRh(t.sensitivity||"Low"),e.R7$(3),e.JRh(t.owner||"Unassigned"),e.R7$(),e.Y8G("ngIf",t.location),e.R7$(2),e.Y8G("text",!0),e.R7$(),e.Y8G("text",!0),e.R7$(),e.Y8G("text",!0)}}function ye(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",58)(1,"div",59)(2,"div",3)(3,"div",60)(4,"h2",61),e.EFF(5),e.k0s(),e.DNE(6,me,1,0,"p-tag",62)(7,_e,1,0,"p-tag",63),e.k0s(),e.j41(8,"div",64)(9,"p-button",65),e.bIt("click",function(){e.eBV(t);const s=e.XpG(2);return e.Njj(s.refreshAssets())}),e.k0s()()()(),e.j41(10,"div",66)(11,"table",67)(12,"thead",68)(13,"tr")(14,"th",69),e.EFF(15,"Asset"),e.k0s(),e.j41(16,"th",69),e.EFF(17,"Type"),e.k0s(),e.j41(18,"th",69),e.EFF(19,"Location"),e.k0s(),e.j41(20,"th",69),e.EFF(21,"Owner"),e.k0s(),e.j41(22,"th",69),e.EFF(23,"Sensitivity"),e.k0s(),e.j41(24,"th",69),e.EFF(25,"Status"),e.k0s(),e.j41(26,"th",69),e.EFF(27,"Actions"),e.k0s()()(),e.j41(28,"tbody",70),e.DNE(29,fe,31,20,"tr",71),e.k0s()()(),e.j41(30,"div",72),e.DNE(31,be,26,13,"div",73),e.k0s()()}if(2&n){const t=e.XpG(2);e.R7$(5),e.SpI("Assets List (",(null==t.filteredAssets?null:t.filteredAssets.length)||0," items)"),e.R7$(),e.Y8G("ngIf",t.isFromCache),e.R7$(),e.Y8G("ngIf",!t.isFromCache&&(null==t.filteredAssets?null:t.filteredAssets.length)>0),e.R7$(2),e.Y8G("rounded",!0)("text",!0),e.R7$(20),e.Y8G("ngForOf",t.filteredAssets||e.lJ4(7,S)),e.R7$(2),e.Y8G("ngForOf",t.filteredAssets||e.lJ4(8,S))}}function Ce(n,l){if(1&n&&(e.j41(0,"div",129)(1,"p",130),e.EFF(2),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.description)}}function xe(n,l){if(1&n&&(e.j41(0,"div",64),e.nrm(1,"i",131),e.j41(2,"span",132),e.EFF(3),e.k0s()()),2&n){const t=e.XpG().$implicit,i=e.XpG(3);e.R7$(2),e.Y8G("pTooltip",i.getFullLocation(t.location)),e.R7$(),e.SpI(" ",i.truncateLocation(t.location,35)," ")}}function ke(n,l){if(1&n&&(e.j41(0,"div",64),e.nrm(1,"i",133),e.j41(2,"span",134),e.EFF(3),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.owner)}}function je(n,l){if(1&n&&(e.j41(0,"div",64),e.nrm(1,"i",135),e.j41(2,"span",134),e.EFF(3),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.source)}}function Ae(n,l){1&n&&e.nrm(0,"p-tag",139),2&n&&e.Y8G("value",l.$implicit)}function we(n,l){if(1&n&&e.nrm(0,"p-tag",139),2&n){const t=e.XpG(2).$implicit;e.Y8G("value","+"+(t.tags.length-3))}}function Re(n,l){if(1&n&&(e.j41(0,"div",136),e.DNE(1,Ae,1,1,"p-tag",137)(2,we,1,1,"p-tag",138),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",t.tags.slice(0,3)),e.R7$(),e.Y8G("ngIf",t.tags.length>3)}}function Me(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",112),e.bIt("click",function(){const s=e.eBV(t).$implicit;e.XpG(3);const a=e.sdS(63);return e.Njj(a.view(s))}),e.j41(1,"div",113)(2,"div",114)(3,"div",115),e.nrm(4,"i",116),e.k0s(),e.j41(5,"div",94)(6,"h3",117),e.EFF(7),e.k0s(),e.j41(8,"p",118),e.EFF(9),e.k0s()()(),e.nrm(10,"p-tag",96),e.k0s(),e.DNE(11,Ce,3,1,"div",119),e.j41(12,"div",120)(13,"div",64),e.nrm(14,"i",121),e.j41(15,"span",122),e.EFF(16),e.k0s()(),e.DNE(17,xe,4,2,"div",123)(18,ke,4,1,"div",123)(19,je,4,1,"div",123)(20,Re,3,2,"div",124),e.k0s(),e.j41(21,"div",125)(22,"p-button",126),e.bIt("click",function(s){const a=e.eBV(t).$implicit;return e.XpG(3),e.sdS(63).view(a),e.Njj(s.stopPropagation())}),e.k0s(),e.j41(23,"p-button",127),e.bIt("click",function(s){const a=e.eBV(t).$implicit;return e.XpG(3),e.sdS(63).edit(a),e.Njj(s.stopPropagation())}),e.k0s(),e.j41(24,"p-button",128),e.bIt("click",function(s){const a=e.eBV(t).$implicit,d=e.XpG(3);return e.Njj(d.onDeleteAsset(s,a._id))}),e.k0s()()()}if(2&n){const t=l.$implicit,i=e.XpG(3);e.R7$(3),e.Y8G("ngClass",i.getAssetColor(t.type)),e.R7$(),e.Y8G("ngClass",i.getAssetIcon(t.type)),e.R7$(3),e.JRh(t.name||"Untitled Asset"),e.R7$(2),e.JRh(t.type||"Unknown"),e.R7$(),e.Y8G("value",t.status||"Active")("severity",i.getSeverity(t.status)),e.R7$(),e.Y8G("ngIf",t.description),e.R7$(3),e.Y8G("ngClass",i.getSensitivityColor(t.sensitivity)),e.R7$(),e.Y8G("ngClass",i.getSensitivityColor(t.sensitivity)),e.R7$(),e.SpI("",t.sensitivity||"Low"," Sensitivity"),e.R7$(),e.Y8G("ngIf",t.location),e.R7$(),e.Y8G("ngIf",t.owner),e.R7$(),e.Y8G("ngIf",t.source),e.R7$(),e.Y8G("ngIf",t.tags&&t.tags.length>0),e.R7$(2),e.Y8G("text",!0),e.R7$(),e.Y8G("text",!0),e.R7$(),e.Y8G("text",!0)}}function Fe(n,l){if(1&n&&(e.j41(0,"div",110),e.DNE(1,Me,25,17,"div",111),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.filteredAssets||e.lJ4(1,S))}}function Te(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",49)(1,"div",140),e.nrm(2,"i",141),e.k0s(),e.j41(3,"h3",52),e.EFF(4,"No assets found"),e.k0s(),e.j41(5,"p",142),e.EFF(6,"Create your first asset to start managing your data resources."),e.k0s(),e.j41(7,"p-button",143),e.bIt("click",function(){e.eBV(t),e.XpG(2);const s=e.sdS(63);return e.Njj(s.show())}),e.k0s()()}}function Se(n,l){if(1&n){const t=e.RV6();e.j41(0,"div",144)(1,"div",145)(2,"div",60)(3,"label",146),e.EFF(4,"Items per page:"),e.k0s(),e.j41(5,"p-dropdown",147),e.mxI("ngModelChange",function(s){e.eBV(t);const a=e.XpG(2);return e.DH7(a.tableRowsPerPage,s)||(a.tableRowsPerPage=s),e.Njj(s)}),e.bIt("onChange",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onPageSizeChange(s))}),e.k0s()(),e.j41(6,"div",148)(7,"p-paginator",149),e.bIt("onPageChange",function(s){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onPageChange(s))}),e.k0s()()()()}if(2&n){const t=e.XpG(2);e.R7$(5),e.Y8G("options",t.pageSizeOptions),e.R50("ngModel",t.tableRowsPerPage),e.R7$(2),e.Y8G("rows",t.tableRowsPerPage)("totalRecords",t.totalRecords)("first",t.firstRecord)}}function Ee(n,l){if(1&n&&(e.j41(0,"span"),e.nrm(1,"i",153),e.EFF(2),e.k0s()),2&n){const t=e.XpG(3);e.R7$(2),e.SpI("Pending: ",t.getCacheStats().pendingRequests,"")}}function Ge(n,l){if(1&n&&(e.j41(0,"div",150)(1,"div",4)(2,"span"),e.nrm(3,"i",151),e.EFF(4),e.k0s(),e.j41(5,"span"),e.nrm(6,"i",152),e.EFF(7),e.k0s(),e.DNE(8,Ee,3,1,"span",33),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.SpI("Cache: ",t.getCacheStats().cacheSize," entries"),e.R7$(3),e.SpI("TTL: ",t.getCacheStats().ttl,"min"),e.R7$(),e.Y8G("ngIf",t.getCacheStats().pendingRequests>0)}}function Ie(n,l){if(1&n&&(e.j41(0,"div"),e.DNE(1,ye,32,9,"div",54)(2,Fe,2,2,"div",55)(3,Te,8,0,"div",32)(4,Se,8,5,"div",56)(5,Ge,9,3,"div",57),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf","list"===t.viewMode&&((null==t.assets||null==t.assets.data?null:t.assets.data.length)||0)>0),e.R7$(),e.Y8G("ngIf","card"===t.viewMode&&((null==t.assets||null==t.assets.data?null:t.assets.data.length)||0)>0),e.R7$(),e.Y8G("ngIf",0===((null==t.assets||null==t.assets.data?null:t.assets.data.length)||0)),e.R7$(),e.Y8G("ngIf",((null==t.assets||null==t.assets.data?null:t.assets.data.length)||0)>0&&t.totalRecords>t.tableRowsPerPage),e.R7$(),e.Y8G("ngIf",t.getCacheStats().cacheSize>0)}}let $e=(()=>{class n extends u.q{injector;governanceServices;messageService;destroy$=new T.B;searchSubject=new T.B;filterSubject=new T.B;cache=new Map;CACHE_TTL=3e5;SEARCH_DEBOUNCE=800;FILTER_DEBOUNCE=300;pendingRequests=new Set;assets={data:[],total:0};filteredAssets=[];totalRecords=0;currentPage=0;firstRecord=0;lastRequestKey="";stats={totalAssets:0,activeAssets:0,criticalAssets:0,pendingAssets:0};showFilters=!1;searchTerm="";selectedType=null;selectedSensitivity=null;selectedStatus=null;loading=!1;isFromCache=!1;typeOptions=[{label:"Function",value:"func"},{label:"Database",value:"database"},{label:"File System",value:"filesystem"},{label:"API",value:"api"},{label:"Service",value:"service"},{label:"Application",value:"application"}];sensitivityOptions=[{label:"Low",value:"low"},{label:"Medium",value:"medium"},{label:"High",value:"high"},{label:"Critical",value:"critical"}];statusOptions=[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"},{label:"Maintenance",value:"maintenance"},{label:"Deprecated",value:"deprecated"}];viewMode="list";pageSizeOptions=[{label:"5 per page",value:5},{label:"10 per page",value:10},{label:"25 per page",value:25},{label:"50 per page",value:50},{label:"100 per page",value:100}];constructor(t,i,s){super(t),this.injector=t,this.governanceServices=i,this.messageService=s}ngOnInit(){console.log("Assets component initialized"),this.assets={data:[],total:0},this.filteredAssets=[],this.totalRecords=0,this.currentPage=0,this.firstRecord=0,this.stats={totalAssets:0,activeAssets:0,criticalAssets:0,pendingAssets:0},this.searchSubject.pipe(D(this.SEARCH_DEBOUNCE),function se(n,l=te.D){return n=n??ie,(0,$.N)((t,i)=>{let s,a=!0;t.subscribe((0,P._)(i,d=>{const o=l(d);(a||!n(s,o))&&(a=!1,s=o,i.next(d))}))})}(),(0,V.Q)(this.destroy$)).subscribe(()=>{this.currentPage=0,this.getAssets(0)}),this.filterSubject.pipe(D(this.FILTER_DEBOUNCE),(0,V.Q)(this.destroy$)).subscribe(()=>{this.currentPage=0,this.getAssets(0)}),this.getAssets()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.pendingRequests.clear(),this.cache.clear()}generateCacheKey(t=0){const i={page:t,size:this.tableRowsPerPage,search:this.searchTerm?.trim()||"",type:this.selectedType||"",sensitivity:this.selectedSensitivity||"",status:this.selectedStatus||""};return JSON.stringify(i)}isCacheValid(t){const i=this.cache.get(t);return!!i&&Date.now()-i.timestamp<i.ttl}getCachedData(t){const i=this.cache.get(t);return i?i.data:null}setCachedData(t,i){this.cache.set(t,{data:i,timestamp:Date.now(),ttl:this.CACHE_TTL})}cleanExpiredCache(){const t=Date.now();for(const[i,s]of this.cache.entries())t-s.timestamp>s.ttl&&this.cache.delete(i)}testApiCall(){this.messageService.add({severity:"info",summary:"Testing API",detail:"Testing API connection..."}),this.getAssets(0,!0)}getAssets=(t=0,i=!1,s)=>{this.loading=!0,this.isTableLoading=!0,this.currentPage=t,"number"==typeof s&&(this.firstRecord=s);const a=`${t}-${this.selectedType?.value||""}-${this.selectedSensitivity?.value||""}-${this.selectedStatus?.value||""}-${this.searchTerm}`;if(!i&&this.cache.has(a)){const g=this.cache.get(a);if(g&&Date.now()-g.timestamp<g.ttl)return this.assets=g.data,this.filteredAssets=g.data.data,this.totalRecords=g.data.total||0,this.updateStats(),this.firstRecord=this.currentPage*this.tableRowsPerPage,this.loading=!1,this.isTableLoading=!1,void(this.isFromCache=!0)}if(this.pendingRequests.has(a))return;this.pendingRequests.add(a),this.isFromCache=!1;const o={offset:"number"==typeof this.firstRecord&&this.firstRecord>=0?this.firstRecord:t*this.tableRowsPerPage,size:this.tableRowsPerPage};this.searchTerm&&(o.search=this.searchTerm),this.selectedType?.value&&(o.type=this.selectedType.value),this.selectedSensitivity?.value&&(o.sensitivity=this.selectedSensitivity.value),this.selectedStatus?.value&&(o.status=this.selectedStatus.value),this.governanceServices.getAssets(o).subscribe({next:g=>{this.assets=g,this.filteredAssets=g.data,this.totalRecords=g.total||0,this.updateStats(),this.firstRecord=this.currentPage*this.tableRowsPerPage,this.cache.set(a,{data:g,timestamp:Date.now(),ttl:this.CACHE_TTL}),this.loading=!1,this.isTableLoading=!1,this.pendingRequests.delete(a),this.lastRequestKey=a},error:g=>{console.error("Error loading assets:",g),this.assets={data:[],total:0},this.filteredAssets=[],this.totalRecords=0,this.firstRecord=0,this.currentPage=0,this.loading=!1,this.isTableLoading=!1,this.pendingRequests.delete(a),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load assets"})}})};refreshAssets(){this.cache.clear(),this.getAssets(this.currentPage,!0)}exportAssets(){this.loading=!0,this.governanceServices.getAssets({size:1e3}).subscribe({next:t=>{this.loading=!1,t.data&&(this.downloadAsExcel(t.data),this.messageService.add({severity:"success",summary:"Export Success",detail:"Assets exported successfully"}))},error:t=>{this.loading=!1,console.error("Error exporting assets:",t),this.messageService.add({severity:"error",summary:"Export Error",detail:"Failed to export assets"})}})}downloadAsExcel(t){const i=t.map(o=>({ID:o._id,Name:o.name,Type:o.type,Source:o.source,Location:o.location,Owner:o.owner,Sensitivity:o.sensitivity,Status:o.status,Description:o.description,Tags:o.tags?o.tags.join(", "):""})),s=R.Wp.json_to_sheet(i),a=R.Wp.book_new();R.Wp.book_append_sheet(a,s,"Assets");const d=`assets_export_${(new Date).toISOString().split("T")[0]}.xlsx`;R._h(a,d)}updateStats(){if(this.assets?.data){const t=this.assets.data;this.stats.totalAssets=this.assets.total||t.length,this.stats.activeAssets=t.filter(i=>"active"===i.status).length,this.stats.criticalAssets=t.filter(i=>"critical"===i.sensitivity).length,this.stats.pendingAssets=t.filter(i=>"maintenance"===i.status||"pending"===i.status).length}else this.stats={totalAssets:0,activeAssets:0,criticalAssets:0,pendingAssets:0}}filterAssets(){this.filterSubject.next()}applyFilters(){this.filterSubject.next()}clearFilters(){this.searchTerm="",this.selectedType=null,this.selectedSensitivity=null,this.selectedStatus=null,this.currentPage=0,this.filterSubject.next()}onSearchChange(){this.searchSubject.next(this.searchTerm)}toggleFilters(){this.showFilters=!this.showFilters}selectedAsset=null;showAssetDetailModal=!1;viewAsset(t){this.loading=!0,this.governanceServices.getAsset(t._id).subscribe({next:i=>{this.loading=!1,i?.data?(this.selectedAsset=i.data,this.showAssetDetailModal=!0):(this.selectedAsset=t,this.showAssetDetailModal=!0)},error:i=>{this.loading=!1,console.error("Error fetching asset detail:",i),this.selectedAsset=t,this.showAssetDetailModal=!0,this.messageService.add({severity:"warn",summary:"Limited Data",detail:"Showing available asset information"})}})}closeAssetDetailModal(){this.showAssetDetailModal=!1,this.selectedAsset=null}truncateLocation(t,i=30){return t?t.length>i?t.substring(0,i)+"...":t:"Not specified"}getFullLocation(t){return t||"Location not specified"}copyToClipboard(t){navigator.clipboard.writeText(t).then(()=>{this.messageService.add({severity:"success",summary:"Copied",detail:"Text copied to clipboard"})}).catch(()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to copy text"})})}onDeleteAsset(t,i){t.preventDefault(),t.stopPropagation(),confirm("Are you sure you want to delete this asset? This action cannot be undone.")&&(this.loading=!0,this.governanceServices.deleteAsset(i).subscribe({next:s=>{this.loading=!1,s?.success?(this.messageService.add({severity:"success",summary:"Success",detail:"Asset deleted successfully"}),this.refreshAssets()):this.messageService.add({severity:"error",summary:"Error",detail:s?.message||"Failed to delete asset"})},error:s=>{this.loading=!1,console.error("Error deleting asset:",s),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to delete asset"})}}))}managePermissions(t){this.messageService.add({severity:"info",summary:"Permissions",detail:`Managing permissions for ${t.name}`})}onPageChange(t){this.currentPage=t.page,this.firstRecord=t.first,this.getAssets(t.page,!1,t.first)}getSeverity(t){switch(t){case"active":return"success";case"inactive":case"deprecated":return"danger";case"maintenance":return"warning";default:return"info"}}getSensitivitySeverity(t){switch(t){case"low":return"success";case"medium":return"warning";case"high":case"critical":return"danger";default:return"info"}}getSensitivityColor(t){switch(t?.toLowerCase()){case"critical":return"text-red-500";case"high":return"text-orange-500";case"medium":return"text-yellow-500";default:return"text-green-500"}}getAssetIcon(t){switch(t?.toLowerCase()){case"database":return"pi pi-database";case"api":return"pi pi-globe";case"file":case"filesystem":return"pi pi-file";case"service":return"pi pi-cog";case"application":return"pi pi-desktop";case"func":case"function":return"pi pi-code";default:return"pi pi-box"}}getAssetColor(t){switch(t?.toLowerCase()){case"database":return"from-blue-500 to-blue-600";case"api":return"from-green-500 to-green-600";case"file":case"filesystem":return"from-yellow-500 to-yellow-600";case"service":return"from-purple-500 to-purple-600";case"application":return"from-indigo-500 to-indigo-600";case"func":case"function":return"from-orange-500 to-orange-600";default:return"from-gray-500 to-gray-600"}}toggleViewMode(){this.viewMode="list"===this.viewMode?"card":"list",this.messageService.add({severity:"info",summary:"View Changed",detail:`Switched to ${this.viewMode} view`})}setViewMode(t){this.viewMode=t}onPageSizeChange(t){this.tableRowsPerPage=t.value,this.currentPage=0,this.firstRecord=0,this.cache.clear(),this.getAssets(0,!0),this.messageService.add({severity:"info",summary:"Page Size Changed",detail:`Showing ${this.tableRowsPerPage} items per page`})}clearCache(){this.cache.clear(),this.governanceServices.clearCache(),this.messageService.add({severity:"info",summary:"Cache Cleared",detail:"All cached data has been cleared"})}getCacheStats(){return{cacheSize:this.cache.size,pendingRequests:this.pendingRequests.size,ttl:this.CACHE_TTL/1e3/60}}static \u0275fac=function(i){return new(i||n)(e.rXU(e.zZn),e.rXU(b.N),e.rXU(m.bg))};static \u0275cmp=e.VBU({type:n,selectors:[["app-assets"]],features:[e.Vt3],decls:64,vars:20,consts:[["assetDetail",""],[1,"bg-gray-50","min-h-screen","p-6"],[1,"bg-white","rounded-lg","shadow-sm","p-6","mb-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","bg-gradient-to-br","from-green-500","to-emerald-600","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-database","text-white","text-xl"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"flex","flex-wrap","items-center","gap-2","sm:gap-3"],["icon","pi pi-refresh","severity","info","pTooltip","Refresh Assets",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-trash","severity","warning","pTooltip","Clear Cache",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-download","severity","secondary","pTooltip","Export Assets",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-filter","severity","secondary","pTooltip","Toggle Filters",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-list","severity","secondary","pTooltip","List View",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-th-large","severity","secondary","pTooltip","Card View",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["label","Add Asset","icon","pi pi-plus","severity","primary","size","small",1,"sm:hidden",3,"click"],["icon","pi pi-plus","severity","primary","pTooltip","Add Asset",1,"hidden","sm:inline-flex",3,"click","rounded"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-6","mb-6"],[1,"bg-white","rounded-lg","shadow-sm","p-6"],[1,"text-sm","font-medium","text-gray-600"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-database","text-green-600","text-xl"],[1,"text-3xl","font-bold","text-green-600"],[1,"pi","pi-check-circle","text-green-600","text-xl"],[1,"text-3xl","font-bold","text-red-600"],[1,"w-12","h-12","bg-red-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-exclamation-triangle","text-red-600","text-xl"],[1,"text-3xl","font-bold","text-yellow-600"],[1,"w-12","h-12","bg-yellow-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-clock","text-yellow-600","text-xl"],["class","bg-white rounded-lg shadow-sm mb-6",4,"ngIf"],["class","bg-white rounded-xl border border-gray-200 p-8 sm:p-12 text-center",4,"ngIf"],[4,"ngIf"],[3,"onSave"],[1,"bg-white","rounded-lg","shadow-sm","mb-6"],[1,"p-4","sm:p-6"],[1,"mt-4","pt-4","border-t","border-gray-200"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"p-input-icon-left","w-full"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search assets...",1,"w-full",3,"ngModelChange","input","ngModel"],["optionLabel","label","optionValue","value","placeholder","All Types",1,"w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],["optionLabel","label","optionValue","value","placeholder","All Levels",1,"w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],["optionLabel","label","optionValue","value","placeholder","All Status",1,"w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],[1,"flex","items-center","gap-3","mt-4"],["label","Apply Filters","icon","pi pi-check","size","small",3,"click"],["label","Clear","icon","pi pi-times","size","small",3,"click","outlined"],[1,"bg-white","rounded-xl","border","border-gray-200","p-8","sm:p-12","text-center"],[1,"w-12","h-12","sm:w-16","sm:h-16","bg-blue-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"pi","pi-spin","pi-spinner","text-blue-500","text-xl","sm:text-2xl"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500"],["class","bg-white rounded-xl border border-gray-200 overflow-hidden",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["class","bg-white rounded-xl border border-gray-200 p-4 sm:p-6 mt-6",4,"ngIf"],["class","bg-gray-100 rounded-lg border border-gray-200 p-3 mt-4 text-xs text-gray-600",4,"ngIf"],[1,"bg-white","rounded-xl","border","border-gray-200","overflow-hidden"],[1,"px-4","sm:px-6","py-4","border-b","border-gray-200"],[1,"flex","items-center","gap-3"],[1,"text-lg","font-semibold","text-gray-900"],["value","Cached","severity","info","icon","pi pi-database","size","small","pTooltip","Data loaded from cache",4,"ngIf"],["value","Fresh","severity","success","icon","pi pi-refresh","size","small","pTooltip","Data loaded from API",4,"ngIf"],[1,"flex","items-center","gap-2"],["icon","pi pi-refresh","severity","secondary","pTooltip","Refresh",3,"click","rounded","text"],[1,"overflow-x-auto","hidden","sm:block"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"sm:hidden"],["class","p-4 border-b border-gray-200 last:border-b-0",4,"ngFor","ngForOf"],["value","Cached","severity","info","icon","pi pi-database","size","small","pTooltip","Data loaded from cache"],["value","Fresh","severity","success","icon","pi pi-refresh","size","small","pTooltip","Data loaded from API"],[1,"hover:bg-gray-50","transition-colors"],[1,"px-6","py-4"],[1,"w-10","h-10","bg-gradient-to-br","rounded-lg","flex","items-center","justify-center",3,"ngClass"],[1,"text-white",3,"ngClass"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-900"],["tooltipPosition","top",1,"text-sm","text-gray-900","cursor-help",3,"pTooltip"],["class","text-sm text-gray-500",4,"ngIf"],[3,"value","severity"],["icon","pi pi-eye","severity","info","size","small","pTooltip","View Asset",3,"click","rounded","text"],["icon","pi pi-pencil","severity","secondary","size","small","pTooltip","Edit Asset",3,"click","rounded","text"],["icon","pi pi-trash","severity","danger","size","small","pTooltip","Delete Asset",3,"click","rounded","text"],[1,"pi","pi-link","text-xs","mr-1"],[1,"p-4","border-b","border-gray-200","last:border-b-0"],[1,"flex","items-start","gap-3"],[1,"w-10","h-10","bg-gradient-to-br","rounded-lg","flex","items-center","justify-center","flex-shrink-0",3,"ngClass"],[1,"text-white","text-sm",3,"ngClass"],[1,"flex-1","min-w-0"],[1,"font-medium","text-gray-900","truncate"],["size","small",3,"value","severity"],[1,"text-sm","text-gray-500","mt-1"],[1,"flex","items-center","gap-4","mt-2","text-xs","text-gray-500"],[1,"pi","pi-tag","mr-1"],[1,"pi","pi-shield","mr-1"],[1,"pi","pi-user","mr-1"],["class","text-xs text-gray-500 mt-1",4,"ngIf"],[1,"flex","items-center","gap-2","mt-3"],["icon","pi pi-eye","severity","info","size","small","pTooltip","View",3,"click","text"],["icon","pi pi-pencil","severity","secondary","size","small","pTooltip","Edit",3,"click","text"],["icon","pi pi-trash","severity","danger","size","small","pTooltip","Delete",3,"click","text"],[1,"text-xs","text-gray-500","mt-1"],[1,"pi","pi-map-marker","mr-1"],["tooltipPosition","top",1,"cursor-help",3,"pTooltip"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-xl border border-gray-200 p-6 hover:shadow-lg transition-all duration-200 hover:border-green-300 hover:scale-[1.02] cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","rounded-xl","border","border-gray-200","p-6","hover:shadow-lg","transition-all","duration-200","hover:border-green-300","hover:scale-[1.02]","cursor-pointer",3,"click"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex","items-center","gap-3","flex-1","min-w-0"],[1,"w-14","h-14","bg-gradient-to-br","rounded-lg","flex","items-center","justify-center","animate-pulse",3,"ngClass"],[1,"text-white","text-lg",3,"ngClass"],[1,"font-semibold","text-gray-900","truncate","text-lg"],[1,"text-sm","text-gray-500","truncate"],["class","mb-4",4,"ngIf"],[1,"space-y-3","mb-4"],[1,"pi","pi-shield","text-sm",3,"ngClass"],[1,"text-sm","font-medium",3,"ngClass"],["class","flex items-center gap-2",4,"ngIf"],["class","flex flex-wrap gap-1 mt-2",4,"ngIf"],[1,"flex","items-center","gap-2","mt-4","pt-4","border-t","border-gray-200"],["icon","pi pi-eye","severity","info","size","small","pTooltip","View Asset Details",3,"click","text"],["icon","pi pi-pencil","severity","secondary","size","small","pTooltip","Edit Asset",3,"click","text"],["icon","pi pi-trash","severity","danger","size","small","pTooltip","Delete Asset",3,"click","text"],[1,"mb-4"],[1,"text-sm","text-gray-600","line-clamp-2"],[1,"pi","pi-map-marker","text-gray-400","text-sm"],["tooltipPosition","top",1,"text-sm","text-gray-600","truncate","cursor-help",3,"pTooltip"],[1,"pi","pi-user","text-gray-400","text-sm"],[1,"text-sm","text-gray-600","truncate"],[1,"pi","pi-link","text-gray-400","text-sm"],[1,"flex","flex-wrap","gap-1","mt-2"],["severity","secondary","size","small",3,"value",4,"ngFor","ngForOf"],["severity","secondary","size","small",3,"value",4,"ngIf"],["severity","secondary","size","small",3,"value"],[1,"w-12","h-12","sm:w-16","sm:h-16","bg-green-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"pi","pi-database","text-green-500","text-xl","sm:text-2xl"],[1,"text-gray-500","mb-6"],["label","Create First Asset","icon","pi pi-plus","severity","primary",3,"click"],[1,"bg-white","rounded-xl","border","border-gray-200","p-4","sm:p-6","mt-6"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between","gap-4"],[1,"text-sm","font-medium","text-gray-700"],["optionLabel","label","optionValue","value",1,"w-40",3,"ngModelChange","onChange","options","ngModel"],[1,"flex-1","flex","justify-center","sm:justify-end"],[3,"onPageChange","rows","totalRecords","first"],[1,"bg-gray-100","rounded-lg","border","border-gray-200","p-3","mt-4","text-xs","text-gray-600"],[1,"pi","pi-database","mr-1"],[1,"pi","pi-clock","mr-1"],[1,"pi","pi-spin","pi-spinner","mr-1"]],template:function(i,s){if(1&i){const a=e.RV6();e.nrm(0,"p-toast")(1,"p-confirmDialog"),e.j41(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),e.nrm(7,"i",6),e.k0s(),e.j41(8,"div")(9,"h1",7),e.EFF(10,"Asset Management"),e.k0s(),e.j41(11,"p",8),e.EFF(12,"Manage data assets, resources, and digital inventory"),e.k0s()()(),e.j41(13,"div",9)(14,"p-button",10),e.bIt("click",function(){return e.eBV(a),e.Njj(s.refreshAssets())}),e.k0s(),e.j41(15,"p-button",11),e.bIt("click",function(){return e.eBV(a),e.Njj(s.clearCache())}),e.k0s(),e.j41(16,"p-button",12),e.bIt("click",function(){return e.eBV(a),e.Njj(s.exportAssets())}),e.k0s(),e.j41(17,"p-button",13),e.bIt("click",function(){return e.eBV(a),e.Njj(s.toggleFilters())}),e.k0s(),e.j41(18,"p-button",14),e.bIt("click",function(){return e.eBV(a),e.Njj(s.setViewMode("list"))}),e.k0s(),e.j41(19,"p-button",15),e.bIt("click",function(){return e.eBV(a),e.Njj(s.setViewMode("card"))}),e.k0s(),e.j41(20,"p-button",16),e.bIt("click",function(){e.eBV(a);const o=e.sdS(63);return e.Njj(o.show())}),e.k0s(),e.j41(21,"p-button",17),e.bIt("click",function(){e.eBV(a);const o=e.sdS(63);return e.Njj(o.show())}),e.k0s()()()(),e.j41(22,"div",18)(23,"div",19)(24,"div",3)(25,"div")(26,"p",20),e.EFF(27,"Total Assets"),e.k0s(),e.j41(28,"p",7),e.EFF(29),e.k0s()(),e.j41(30,"div",21),e.nrm(31,"i",22),e.k0s()()(),e.j41(32,"div",19)(33,"div",3)(34,"div")(35,"p",20),e.EFF(36,"Active Assets"),e.k0s(),e.j41(37,"p",23),e.EFF(38),e.k0s()(),e.j41(39,"div",21),e.nrm(40,"i",24),e.k0s()()(),e.j41(41,"div",19)(42,"div",3)(43,"div")(44,"p",20),e.EFF(45,"Critical Assets"),e.k0s(),e.j41(46,"p",25),e.EFF(47),e.k0s()(),e.j41(48,"div",26),e.nrm(49,"i",27),e.k0s()()(),e.j41(50,"div",19)(51,"div",3)(52,"div")(53,"p",20),e.EFF(54,"Pending Review"),e.k0s(),e.j41(55,"p",28),e.EFF(56),e.k0s()(),e.j41(57,"div",29),e.nrm(58,"i",30),e.k0s()()()(),e.DNE(59,ge,25,11,"div",31)(60,ue,7,0,"div",32)(61,Ie,6,5,"div",33),e.k0s(),e.j41(62,"app-asset",34,0),e.bIt("onSave",function(){return e.eBV(a),e.Njj(s.refreshAssets())}),e.k0s()}2&i&&(e.R7$(14),e.Y8G("outlined",!0)("rounded",!0),e.R7$(),e.Y8G("outlined",!0)("rounded",!0),e.R7$(),e.Y8G("outlined",!0)("rounded",!0),e.R7$(),e.Y8G("outlined",!s.showFilters)("rounded",!0),e.R7$(),e.Y8G("outlined","list"!==s.viewMode)("rounded",!0),e.R7$(),e.Y8G("outlined","card"!==s.viewMode)("rounded",!0),e.R7$(2),e.Y8G("rounded",!0),e.R7$(8),e.JRh(s.stats.totalAssets),e.R7$(9),e.JRh(s.stats.activeAssets),e.R7$(9),e.JRh(s.stats.criticalAssets),e.R7$(9),e.JRh(s.stats.pendingAssets),e.R7$(3),e.Y8G("ngIf",s.showFilters),e.R7$(),e.Y8G("ngIf",s.loading),e.R7$(),e.Y8G("ngIf",!s.loading))},dependencies:[v.MD,v.YU,v.Sq,v.bT,_.YN,_.me,_.BC,_.vS,p.bG,C.vw,j.$n,Q,x.um,x.Sm,f.kr,f.ms,Z.EJ,E.IP,E.mg,G.Ss,G.m_,q.P8,I.MB,I.y8,ne.Dw,A.Ph,ae.k2,oe.I0,re.kx,le.KQ,de.mN,ce.bX,pe.df,O.FP,O.TM],styles:[".asset-card[_ngcontent-%COMP%]{transition:all .3s ease}.asset-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 10px 25px #0000001a}.asset-icon[_ngcontent-%COMP%]{transition:transform .3s ease}.asset-icon[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-20px);opacity:0}to{transform:translate(0);opacity:1}}.btn-hover[_ngcontent-%COMP%]{transition:all .2s ease}.btn-hover[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.search-focus[_ngcontent-%COMP%]{transition:all .2s ease}.search-focus[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 0 0 3px #22c55e1a}.asset-type-database[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af)}.asset-type-api[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.asset-type-cloud[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}.asset-type-file[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.asset-type-func[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.asset-type-table[_ngcontent-%COMP%]{background:linear-gradient(135deg,#eab308,#ca8a04)}.asset-type-default[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6b7280,#4b5563)}@media (max-width: 640px){.mobile-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.mobile-padding[_ngcontent-%COMP%]{padding:.75rem}}.status-active[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-inactive[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.status-maintenance[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-deprecated[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.sensitivity-low[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.sensitivity-medium[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.sensitivity-high[_ngcontent-%COMP%]{background-color:#fed7aa;color:#c2410c}.sensitivity-critical[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.asset-dialog[_ngcontent-%COMP%]   .p-dialog-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7);border-bottom:1px solid #d1fae5}.asset-dialog[_ngcontent-%COMP%]   .p-dialog-content[_ngcontent-%COMP%]{padding:2rem}.form-field[_ngcontent-%COMP%]:focus{border-color:#10b981;box-shadow:0 0 0 3px #10b9811a}.pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}"]})}return n})()},5716:(N,k,r)=>{r.d(k,{EA:()=>f,k2:()=>F});var b=r(2881),p=r(1360),C=r(5779),j=r(3491),e=r(6263);const _=({dt:c})=>`\n.p-skeleton {\n    overflow: hidden;\n    background: ${c("skeleton.background")};\n    border-radius: ${c("skeleton.border.radius")};\n}\n\n.p-skeleton::after {\n    content: "";\n    animation: p-skeleton-animation 1.2s infinite;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    transform: translateX(-100%);\n    z-index: 1;\n    background: linear-gradient(90deg, rgba(255, 255, 255, 0), ${c("skeleton.animation.background")}, rgba(255, 255, 255, 0));\n}\n\n[dir='rtl'] .p-skeleton::after {\n    animation-name: p-skeleton-animation-rtl;\n}\n\n.p-skeleton-circle {\n    border-radius: 50%;\n}\n\n.p-skeleton-animation-none::after {\n    animation: none;\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n\n@keyframes p-skeleton-animation-rtl {\n    from {\n        transform: translateX(100%);\n    }\n    to {\n        transform: translateX(-100%);\n    }\n}\n`,x={root:{position:"relative"}},A={root:({props:c})=>["p-skeleton p-component",{"p-skeleton-circle":"circle"===c.shape,"p-skeleton-animation-none":"none"===c.animation}]};let w=(()=>{class c extends e.j{name="skeleton";theme=_;classes=A;inlineStyles=x;static \u0275fac=(()=>{let u;return function(h){return(u||(u=p.xGo(c)))(h||c)}})();static \u0275prov=p.jDH({token:c,factory:c.\u0275fac})}return c})(),f=(()=>{class c extends j.${styleClass;style;shape="rectangle";animation="wave";borderRadius;size;width="100%";height="1rem";_componentStyle=(0,p.WQX)(w);containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-animation-none":"none"===this.animation}}get containerStyle(){const u=this._componentStyle?.inlineStyles.root;let m;return m=this.size?{...this.style,...u,width:this.size,height:this.size,borderRadius:this.borderRadius}:{...u,width:this.width,height:this.height,borderRadius:this.borderRadius,...this.style},m}static \u0275fac=(()=>{let u;return function(h){return(u||(u=p.xGo(c)))(h||c)}})();static \u0275cmp=p.VBU({type:c,selectors:[["p-skeleton"]],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},features:[p.Jv_([w]),p.Vt3],decls:1,vars:7,consts:[[3,"ngClass","ngStyle"]],template:function(m,h){1&m&&p.nrm(0,"div",0),2&m&&(p.HbH(h.styleClass),p.Y8G("ngClass",h.containerClass())("ngStyle",h.containerStyle),p.BMQ("data-pc-name","skeleton")("aria-hidden",!0)("data-pc-section","root"))},dependencies:[b.MD,b.YU,b.B3,C.Gg],encapsulation:2,changeDetection:0})}return c})(),F=(()=>{class c{static \u0275fac=function(m){return new(m||c)};static \u0275mod=p.$C({type:c});static \u0275inj=p.G2t({imports:[f,C.Gg,C.Gg]})}return c})()}}]);