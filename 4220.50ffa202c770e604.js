"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[4220],{1593:(D,y,a)=>{a.d(y,{VS:()=>x});var u=a(2881),c=a(1360),M=a(5779),e=a(3491),b=a(6263);const h=["*"],w=({dt:s})=>`\n.p-floatlabel {\n    display: block;\n    position: relative;\n}\n\n.p-floatlabel label {\n    position: absolute;\n    pointer-events: none;\n    top: 50%;\n    transform: translateY(-50%);\n    transition-property: all;\n    transition-timing-function: ease;\n    line-height: 1;\n    font-weight: ${s("floatlabel.font.weight")};\n    inset-inline-start: ${s("floatlabel.position.x")};\n    color: ${s("floatlabel.color")};\n    transition-duration: ${s("floatlabel.transition.duration")};\n}\n\n.p-floatlabel:has(.p-textarea) label {\n    top: ${s("floatlabel.position.y")};\n    transform: translateY(0);\n}\n\n.p-floatlabel:has(.p-inputicon:first-child) label {\n    inset-inline-start: calc((${s("form.field.padding.x")} * 2) + ${s("icon.size")});\n}\n\n.p-floatlabel:has(.ng-invalid.ng-dirty) label {\n    color: ${s("floatlabel.invalid.color")};\n}\n\n.p-floatlabel:has(input:focus) label,\n.p-floatlabel:has(input.p-filled) label,\n.p-floatlabel:has(input:-webkit-autofill) label,\n.p-floatlabel:has(textarea:focus) label,\n.p-floatlabel:has(textarea.p-filled) label,\n.p-floatlabel:has(.p-inputwrapper-focus) label,\n.p-floatlabel:has(.p-inputwrapper-filled) label {\n    top: ${s("floatlabel.over.active.top")};\n    transform: translateY(0);\n    font-size: ${s("floatlabel.active.font.size")};\n    font-weight: ${s("floatlabel.label.active.font.weight")};\n}\n\n.p-floatlabel:has(input.p-filled) label,\n.p-floatlabel:has(textarea.p-filled) label,\n.p-floatlabel:has(.p-inputwrapper-filled) label {\n    color: ${s("floatlabel.active.color")};\n}\n\n.p-floatlabel:has(input:focus) label,\n.p-floatlabel:has(input:-webkit-autofill) label,\n.p-floatlabel:has(textarea:focus) label,\n.p-floatlabel:has(.p-inputwrapper-focus) label {\n    color: ${s("floatlabel.focus.color")};\n}\n\n.p-floatlabel-in .p-inputtext,\n.p-floatlabel-in .p-textarea,\n.p-floatlabel-in .p-select-label,\n.p-floatlabel-in .p-multiselect-label-container,\n.p-floatlabel-in .p-autocomplete-input-multiple,\n.p-floatlabel-in .p-cascadeselect-label,\n.p-floatlabel-in .p-treeselect-label {\n    padding-top: ${s("floatlabel.in.input.padding.top")};\n}\n\n.p-floatlabel-in:has(input:focus) label,\n.p-floatlabel-in:has(input.p-filled) label,\n.p-floatlabel-in:has(input:-webkit-autofill) label,\n.p-floatlabel-in:has(textarea:focus) label,\n.p-floatlabel-in:has(textarea.p-filled) label,\n.p-floatlabel-in:has(.p-inputwrapper-focus) label,\n.p-floatlabel-in:has(.p-inputwrapper-filled) label {\n    top: ${s("floatlabel.in.active.top")};\n}\n\n.p-floatlabel-on:has(input:focus) label,\n.p-floatlabel-on:has(input.p-filled) label,\n.p-floatlabel-on:has(input:-webkit-autofill) label,\n.p-floatlabel-on:has(textarea:focus) label,\n.p-floatlabel-on:has(textarea.p-filled) label,\n.p-floatlabel-on:has(.p-inputwrapper-focus) label,\n.p-floatlabel-on:has(.p-inputwrapper-filled) label {\n    top: 0;\n    transform: translateY(-50%);\n    border-radius: ${s("floatlabel.on.border.radius")};\n    background: ${s("floatlabel.on.active.background")};\n    padding: ${s("floatlabel.on.active.padding")};\n}\n`,C={root:({props:v})=>["p-floatlabel",{"p-floatlabel-over":"over"===v.variant,"p-floatlabel-on":"on"===v.variant,"p-floatlabel-in":"in"===v.variant}]};let j=(()=>{class s extends b.j{name="floatlabel";theme=w;classes=C;static \u0275fac=(()=>{let g;return function(m){return(g||(g=c.xGo(s)))(m||s)}})();static \u0275prov=c.jDH({token:s,factory:s.\u0275fac})}return s})(),x=(()=>{class s extends e.${_componentStyle=(0,c.WQX)(j);variant="over";static \u0275fac=(()=>{let g;return function(m){return(g||(g=c.xGo(s)))(m||s)}})();static \u0275cmp=c.VBU({type:s,selectors:[["p-floatlabel"],["p-floatLabel"],["p-float-label"]],hostVars:8,hostBindings:function(_,m){2&_&&c.AVh("p-floatlabel",!0)("p-floatlabel-over","over"===m.variant)("p-floatlabel-on","on"===m.variant)("p-floatlabel-in","in"===m.variant)},inputs:{variant:"variant"},features:[c.Jv_([j]),c.Vt3],ngContentSelectors:h,decls:1,vars:0,template:function(_,m){1&_&&(c.NAR(),c.SdG(0))},dependencies:[u.MD,M.Gg],encapsulation:2,changeDetection:0})}return s})()},4220:(D,y,a)=>{a.r(y),a.d(y,{RolesComponent:()=>pe});var u=a(2881),c=a(4341),M=a(4299),e=a(1360),b=a(1141),h=a(1570),w=a(1593),C=a(2242),j=a(63),f=a(8150),x=a(5430),k=a(4827),s=a(6348);const v=()=>({width:"80rem",maxHeight:"90vh"});function g(i,d){if(1&i&&(e.j41(0,"div",27)(1,"div",28),e.nrm(2,"i",29),e.k0s(),e.j41(3,"div")(4,"h2",30),e.EFF(5),e.k0s(),e.j41(6,"p",31),e.EFF(7,"Configure role permissions and settings"),e.k0s()()()),2&i){const t=e.XpG();e.R7$(5),e.JRh(t.title)}}function _(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",21)(1,"p-checkbox",37),e.bIt("ngModelChange",function(n){const l=e.eBV(t).$implicit,p=e.XpG(2);return e.Njj(p.togglePermission(l.value,n))}),e.k0s(),e.j41(2,"label",41),e.bIt("click",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.togglePermission(n.value,!l.isPermissionSelected(n.value)))}),e.EFF(3),e.k0s()()}if(2&i){const t=d.$implicit,o=e.XpG(2);e.R7$(),e.Y8G("ngModel",o.isPermissionSelected(t.value))("binary",!0),e.R7$(2),e.SpI(" ",t.label," ")}}function m(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",27),e.nrm(4,"i",35),e.j41(5,"div")(6,"h4",36),e.EFF(7),e.k0s(),e.j41(8,"p",31),e.EFF(9),e.k0s()()(),e.j41(10,"p-checkbox",37),e.bIt("ngModelChange",function(n){const l=e.eBV(t).$implicit,p=e.XpG();return e.Njj(p.toggleCategory(l,n))}),e.k0s()()(),e.j41(11,"div",38)(12,"div",39),e.DNE(13,_,4,3,"div",40),e.k0s()()()}if(2&i){const t=d.$implicit,o=e.XpG();e.R7$(4),e.Y8G("ngClass",t.icon),e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.description),e.R7$(),e.Y8G("ngModel",o.isCategorySelected(t))("binary",!0),e.R7$(3),e.Y8G("ngForOf",t.permissions)}}function $(i,d){if(1&i){const t=e.RV6();e.j41(0,"p-chip",44),e.bIt("onRemove",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.removeUser(n))}),e.k0s()}2&i&&e.Y8G("label",d.$implicit)("removable",!0)}function V(i,d){if(1&i&&(e.j41(0,"div",4)(1,"h3",5),e.EFF(2,"Current Assignments"),e.k0s(),e.j41(3,"div",42),e.DNE(4,$,1,2,"p-chip",43),e.k0s()()),2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngForOf",t.role.users)}}function B(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",45)(1,"div",21),e.nrm(2,"i",46),e.j41(3,"span",47),e.EFF(4),e.k0s()(),e.j41(5,"div",21)(6,"p-button",48),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.visible=!1)}),e.k0s(),e.j41(7,"p-button",49),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.save())}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(4),e.SpI(" ",t.getSelectedPermissionsCount()," permissions selected "),e.R7$(2),e.Y8G("text",!0),e.R7$(),e.Y8G("disabled",!t.isFormValid())}}let N=(()=>{class i extends s.q{injector;governanceServices;role=null;saveRole=new e.bkB;cancelRole=new e.bkB;title="Create Role";visible=!1;typeOptions=[{label:"System",value:"system"},{label:"Standard",value:"standard"},{label:"Custom",value:"custom"}];levelOptions=[{label:"Basic",value:"basic"},{label:"Standard",value:"standard"},{label:"Advanced",value:"advanced"},{label:"Admin",value:"admin"}];scopeOptions=[{label:"Global",value:"global"},{label:"Department",value:"department"},{label:"Team",value:"team"},{label:"Project",value:"project"}];riskOptions=[{label:"Low",value:"Low"},{label:"Medium",value:"Medium"},{label:"High",value:"High"}];inheritanceOptions=[{label:"Data User",value:"Data User"},{label:"Data Analyst",value:"Data Analyst"},{label:"Data Steward",value:"Data Steward"}];permissionCategories=[{name:"Data Access",description:"Permissions for reading and accessing data",icon:"pi pi-database",permissions:[{label:"Read Public Data",value:"data_read_public"},{label:"Read Team Data",value:"data_read_team"},{label:"Read Department Data",value:"data_read_dept"},{label:"Read All Data",value:"data_read_all"},{label:"Write Staging Data",value:"data_write_staging"},{label:"Write Department Data",value:"data_write_dept"},{label:"Write All Data",value:"data_write_all"},{label:"Delete Data",value:"data_delete"},{label:"Export Limited",value:"export_limited"},{label:"Export Full",value:"export_full"}]},{name:"Analytics & Reporting",description:"Permissions for creating reports and analytics",icon:"pi pi-chart-line",permissions:[{label:"View Reports",value:"report_view"},{label:"Create Reports",value:"report_create"},{label:"Schedule Reports",value:"report_schedule"},{label:"View Dashboards",value:"dashboard_view"},{label:"Create Dashboards",value:"dashboard_create"},{label:"Advanced Dashboards",value:"dashboard_advanced"},{label:"Execute Queries",value:"query_execute"},{label:"Create Visualizations",value:"visualization_create"}]},{name:"Data Management",description:"Permissions for managing data assets and metadata",icon:"pi pi-cog",permissions:[{label:"Browse Catalog",value:"catalog_browse"},{label:"View Catalog",value:"catalog_view"},{label:"Manage Catalog",value:"catalog_manage"},{label:"Manage Metadata",value:"metadata_manage"},{label:"Quality Checks",value:"quality_check"},{label:"View Lineage",value:"lineage_view"},{label:"Modify Schema",value:"schema_modify"},{label:"Data Classification",value:"data_classification"}]},{name:"Pipeline & Infrastructure",description:"Permissions for data engineering and pipelines",icon:"pi pi-sitemap",permissions:[{label:"Create Pipelines",value:"pipeline_create"},{label:"Manage Pipelines",value:"pipeline_manage"},{label:"Schedule Jobs",value:"job_schedule"},{label:"Manage Connections",value:"connection_manage"},{label:"Compute Resources",value:"compute_resources"}]},{name:"Machine Learning",description:"Permissions for ML and data science activities",icon:"pi pi-microsoft",permissions:[{label:"Create ML Models",value:"ml_create"},{label:"Train Models",value:"ml_train"},{label:"Deploy Models",value:"model_deploy"},{label:"Manage Experiments",value:"experiment_manage"},{label:"Feature Store",value:"feature_store"}]},{name:"Business Intelligence",description:"Permissions for BI tools and advanced analytics",icon:"pi pi-chart-bar",permissions:[{label:"Create BI Content",value:"bi_create"},{label:"Manage BI Content",value:"bi_manage"}]},{name:"Governance & Compliance",description:"Permissions for governance, policies, and compliance",icon:"pi pi-shield",permissions:[{label:"View Policies",value:"policy_view"},{label:"Manage Policies",value:"policy_management"},{label:"Enforce Policies",value:"policy_enforce"},{label:"Manage Compliance",value:"compliance_manage"},{label:"Manage Privacy",value:"privacy_manage"},{label:"View All Audits",value:"audit_view_all"},{label:"Review Access",value:"access_review"},{label:"Manage Incidents",value:"incident_manage"}]},{name:"Administration",description:"Permissions for system and user administration",icon:"pi pi-users",permissions:[{label:"User Management",value:"user_management"},{label:"Role Management",value:"role_management"},{label:"Governance Configuration",value:"governance_config"}]}];constructor(t,o){super(t),this.injector=t,this.governanceServices=o}save(){this.role.permissions||(this.role.permissions=[]),this.role._id?this.governanceServices.updateRole(this.role._id,this.role):this.governanceServices.createRole(this.role),setTimeout(()=>{this.showSuccess(this.role._id?"Role updated successfully":"Role created successfully"),this.visible=!1,this.role={permissions:[]},this.saveRole.emit()},500)}show(t){this.visible=!0,this.role={permissions:[]},t?(this.title="Edit Role",setTimeout(()=>{this.role={_id:t,name:"Sample Role",description:"Sample role description",type:"custom",level:"standard",scope:"team",risk_level:"Medium",permissions:["data_read_team","report_view","dashboard_view"],inherits_from:"Data User"}},200)):(this.title="Create Role",this.role={permissions:[],type:"custom",level:"standard",scope:"team",risk_level:"Medium"})}isPermissionSelected(t){return this.role.permissions&&this.role.permissions.includes(t)}togglePermission(t,o){this.role.permissions||(this.role.permissions=[]),o?this.role.permissions.includes(t)||this.role.permissions.push(t):this.role.permissions=this.role.permissions.filter(n=>n!==t)}isCategorySelected(t){return!(!this.role.permissions||!t.permissions)&&t.permissions.every(o=>this.role.permissions.includes(o.value))}toggleCategory(t,o){this.role.permissions||(this.role.permissions=[]),t.permissions.forEach(n=>{this.togglePermission(n.value,o)})}selectAllPermissions(){this.role.permissions=[],this.permissionCategories.forEach(t=>{t.permissions.forEach(o=>{this.role.permissions.includes(o.value)||this.role.permissions.push(o.value)})})}clearAllPermissions(){this.role.permissions=[]}getSelectedPermissionsCount(){return this.role.permissions?this.role.permissions.length:0}isFormValid(){return!!(this.role.name&&this.role.name.trim().length>0)}removeUser(t){this.role.users&&(this.role.users=this.role.users.filter(o=>o!==t))}static \u0275fac=function(o){return new(o||i)(e.rXU(e.zZn),e.rXU(M.N))};static \u0275cmp=e.VBU({type:i,selectors:[["app-role"]],inputs:{role:"role"},outputs:{saveRole:"saveRole",cancelRole:"cancelRole"},features:[e.Vt3],decls:55,vars:24,consts:[["header",""],["footer",""],[3,"visibleChange","visible","modal","closable","resizable"],[1,"space-y-6","p-1"],[1,"bg-gray-50","rounded-lg","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["pInputText","","id","name","autocomplete","off","required","",1,"w-full",3,"ngModelChange","ngModel"],["for","name"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["placeholder","Select type",1,"w-full",3,"ngModelChange","options","ngModel"],["placeholder","Select level",1,"w-full",3,"ngModelChange","options","ngModel"],["placeholder","Select scope",1,"w-full",3,"ngModelChange","options","ngModel"],[1,"md:col-span-2"],["pTextarea","","id","description","rows","3",1,"w-full",2,"resize","none",3,"ngModelChange","ngModel"],["for","description"],["placeholder","Select parent role (optional)",1,"w-full",3,"ngModelChange","options","ngModel","showClear"],[1,"text-gray-500","mt-1"],["placeholder","Select risk level",1,"w-full",3,"ngModelChange","options","ngModel"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"flex","items-center","gap-2"],["label","Select All","icon","pi pi-check","severity","secondary","size","small",3,"click","text"],["label","Clear All","icon","pi pi-times","severity","secondary","size","small",3,"click","text"],[1,"space-y-4"],["class","border border-gray-200 rounded-lg",4,"ngFor","ngForOf"],["class","bg-gray-50 rounded-lg p-6",4,"ngIf"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","bg-gradient-to-br","from-amber-500","to-orange-600","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-shield","text-white","text-lg"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"border","border-gray-200","rounded-lg"],[1,"bg-white","p-4","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-lg","text-gray-600",3,"ngClass"],[1,"font-medium","text-gray-900"],[3,"ngModelChange","ngModel","binary"],[1,"p-4","bg-gray-50"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-3"],["class","flex items-center gap-2",4,"ngFor","ngForOf"],[1,"text-sm","text-gray-700","cursor-pointer",3,"click"],[1,"flex","flex-wrap","gap-2"],[3,"label","removable","onRemove",4,"ngFor","ngForOf"],[3,"onRemove","label","removable"],[1,"flex","items-center","justify-between","w-full"],[1,"pi","pi-info-circle","text-blue-500"],[1,"text-sm","text-gray-600"],["label","Cancel","severity","secondary",3,"click","text"],["label","Save Role","icon","pi pi-save","severity","primary",3,"click","disabled"]],template:function(o,n){if(1&o){const l=e.RV6();e.j41(0,"p-dialog",2),e.mxI("visibleChange",function(r){return e.eBV(l),e.DH7(n.visible,r)||(n.visible=r),e.Njj(r)}),e.DNE(1,g,8,1,"ng-template",null,0,e.C5r),e.j41(3,"div",3)(4,"div",4)(5,"h3",5),e.EFF(6,"Basic Information"),e.k0s(),e.j41(7,"div",6)(8,"p-floatlabel")(9,"input",7),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(n.role.name,r)||(n.role.name=r),e.Njj(r)}),e.k0s(),e.j41(10,"label",8),e.EFF(11,"Role Name *"),e.k0s()(),e.j41(12,"div")(13,"label",9),e.EFF(14,"Role Type"),e.k0s(),e.j41(15,"p-dropdown",10),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(n.role.type,r)||(n.role.type=r),e.Njj(r)}),e.k0s()(),e.j41(16,"div")(17,"label",9),e.EFF(18,"Access Level"),e.k0s(),e.j41(19,"p-dropdown",11),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(n.role.level,r)||(n.role.level=r),e.Njj(r)}),e.k0s()(),e.j41(20,"div")(21,"label",9),e.EFF(22,"Scope"),e.k0s(),e.j41(23,"p-dropdown",12),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(n.role.scope,r)||(n.role.scope=r),e.Njj(r)}),e.k0s()(),e.j41(24,"div",13)(25,"p-floatlabel")(26,"textarea",14),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(n.role.description,r)||(n.role.description=r),e.Njj(r)}),e.k0s(),e.j41(27,"label",15),e.EFF(28,"Description"),e.k0s()()()()(),e.j41(29,"div",4)(30,"h3",5),e.EFF(31,"Role Inheritance"),e.k0s(),e.j41(32,"div",6)(33,"div")(34,"label",9),e.EFF(35,"Inherits From"),e.k0s(),e.j41(36,"p-dropdown",16),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(n.role.inherits_from,r)||(n.role.inherits_from=r),e.Njj(r)}),e.k0s(),e.j41(37,"small",17),e.EFF(38,"This role will inherit all permissions from the selected parent role"),e.k0s()(),e.j41(39,"div")(40,"label",9),e.EFF(41,"Risk Level"),e.k0s(),e.j41(42,"p-dropdown",18),e.mxI("ngModelChange",function(r){return e.eBV(l),e.DH7(n.role.risk_level,r)||(n.role.risk_level=r),e.Njj(r)}),e.k0s()()()(),e.j41(43,"div",4)(44,"div",19)(45,"h3",20),e.EFF(46,"Permissions"),e.k0s(),e.j41(47,"div",21)(48,"p-button",22),e.bIt("click",function(){return e.eBV(l),e.Njj(n.selectAllPermissions())}),e.k0s(),e.j41(49,"p-button",23),e.bIt("click",function(){return e.eBV(l),e.Njj(n.clearAllPermissions())}),e.k0s()()(),e.j41(50,"div",24),e.DNE(51,m,14,6,"div",25),e.k0s()(),e.DNE(52,V,5,1,"div",26),e.k0s(),e.DNE(53,B,8,3,"ng-template",null,1,e.C5r),e.k0s()}2&o&&(e.Aen(e.lJ4(23,v)),e.R50("visible",n.visible),e.Y8G("modal",!0)("closable",!0)("resizable",!1),e.R7$(9),e.R50("ngModel",n.role.name),e.R7$(6),e.Y8G("options",n.typeOptions),e.R50("ngModel",n.role.type),e.R7$(4),e.Y8G("options",n.levelOptions),e.R50("ngModel",n.role.level),e.R7$(4),e.Y8G("options",n.scopeOptions),e.R50("ngModel",n.role.scope),e.R7$(3),e.R50("ngModel",n.role.description),e.R7$(10),e.Y8G("options",n.inheritanceOptions),e.R50("ngModel",n.role.inherits_from),e.Y8G("showClear",!0),e.R7$(6),e.Y8G("options",n.riskOptions),e.R50("ngModel",n.role.risk_level),e.R7$(6),e.Y8G("text",!0),e.R7$(),e.Y8G("text",!0),e.R7$(2),e.Y8G("ngForOf",n.permissionCategories),e.R7$(),e.Y8G("ngIf",n.role.users&&n.role.users.length>0))},dependencies:[u.MD,u.YU,u.Sq,u.bT,b.$n,h.lG,w.VS,C.Sm,c.X1,c.me,c.BC,c.YS,j.TM,c.YN,c.vS,f.kr,f.ms,x.q4,x.Sc,k.P8,k.vu],encapsulation:2})}return i})();var R=a(5779),F=a(6221),P=a(935),S=a(7722),Y=a(491),O=a(6150),X=a(6627),T=a(5716),E=a(4799),A=a(3682),L=a(5144),z=a(1830),G=a(1631),H=a(2637),U=a(1579),J=a(7983),I=a(8542),W=a(1436),K=a(5423),Q=a(8660);const Z=()=>({width:"90vw",maxWidth:"600px"});function q(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",1)(1,"div",37)(2,"div",38)(3,"label",39),e.EFF(4,"Search"),e.k0s(),e.j41(5,"span",40),e.nrm(6,"i",41),e.j41(7,"input",42),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.searchTerm,n)||(l.searchTerm=n),e.Njj(n)}),e.bIt("input",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSearch())}),e.k0s()()(),e.j41(8,"div",38)(9,"label",43),e.EFF(10,"Type"),e.k0s(),e.j41(11,"p-dropdown",44),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.filters.type,n)||(l.filters.type=n),e.Njj(n)}),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilterChange())}),e.k0s()(),e.j41(12,"div",38)(13,"label",45),e.EFF(14,"Status"),e.k0s(),e.j41(15,"p-dropdown",46),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.filters.status,n)||(l.filters.status=n),e.Njj(n)}),e.bIt("onChange",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onFilterChange())}),e.k0s()()(),e.j41(16,"div",47)(17,"p-button",48),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.applyFilters())}),e.k0s(),e.j41(18,"p-button",49),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.clearFilters())}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(7),e.R50("ngModel",t.searchTerm),e.R7$(4),e.Y8G("options",t.typeOptions),e.R50("ngModel",t.filters.type),e.Y8G("showClear",!0),e.R7$(4),e.Y8G("options",t.statusOptions),e.R50("ngModel",t.filters.status),e.Y8G("showClear",!0),e.R7$(3),e.Y8G("outlined",!0)}}function ee(i,d){1&i&&(e.j41(0,"div",18)(1,"div",50),e.nrm(2,"p-skeleton",51)(3,"p-skeleton",51)(4,"p-skeleton",51),e.k0s()())}function te(i,d){1&i&&(e.j41(0,"tr")(1,"th",57),e.EFF(2," Name "),e.nrm(3,"p-sortIcon",58),e.k0s(),e.j41(4,"th"),e.EFF(5,"Description"),e.k0s(),e.j41(6,"th",59),e.EFF(7," Type "),e.nrm(8,"p-sortIcon",60),e.k0s(),e.j41(9,"th"),e.EFF(10,"Status"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Permissions"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Created"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Actions"),e.k0s()())}function ne(i,d){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",61)(3,"span",62),e.EFF(4),e.k0s(),e.j41(5,"span",63),e.EFF(6),e.k0s()()(),e.j41(7,"td")(8,"span",64),e.EFF(9),e.k0s()(),e.j41(10,"td"),e.nrm(11,"p-tag",65),e.k0s(),e.j41(12,"td"),e.nrm(13,"p-tag",65),e.k0s(),e.j41(14,"td")(15,"div",66),e.nrm(16,"p-badge",67),e.j41(17,"span",63),e.EFF(18,"permissions"),e.k0s()()(),e.j41(19,"td")(20,"span",68),e.EFF(21),e.k0s()(),e.j41(22,"td")(23,"div",66)(24,"p-button",69),e.bIt("onClick",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.viewRoleDetails(n))}),e.k0s(),e.j41(25,"p-button",70),e.bIt("onClick",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.openRoleModal(n))}),e.k0s(),e.j41(26,"p-inputSwitch",71),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.is_active,n)||(l.is_active=n),e.Njj(n)}),e.bIt("onChange",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.toggleRoleStatus(n))}),e.k0s(),e.j41(27,"p-button",72),e.bIt("onClick",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.deleteRole(n))}),e.k0s()()()()}if(2&i){const t=d.$implicit,o=e.XpG(2);e.R7$(4),e.JRh(t.name),e.R7$(2),e.JRh(t.kid),e.R7$(3),e.JRh(t.description),e.R7$(2),e.Y8G("value",t.type)("severity",o.getRoleTypeSeverity(t.type)),e.R7$(2),e.Y8G("value",t.is_active?"Active":"Inactive")("severity",o.getRoleStatusSeverity(t.is_active)),e.R7$(3),e.Y8G("value",t.permissions),e.R7$(5),e.JRh(o.formatDate(t.created_at)),e.R7$(3),e.Y8G("outlined",!0),e.R7$(),e.Y8G("outlined",!0),e.R7$(),e.R50("ngModel",t.is_active),e.R7$(),e.Y8G("outlined",!0)}}function oe(i,d){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td",73)(2,"div",74),e.nrm(3,"i",75),e.j41(4,"div")(5,"h3",76),e.EFF(6,"No Roles Found"),e.k0s(),e.j41(7,"p",77),e.EFF(8,"Create your first role to get started"),e.k0s()(),e.j41(9,"p-button",78),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openRoleModal())}),e.k0s()()()()}}function le(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",52)(1,"p-table",53),e.bIt("onLazyLoad",function(n){e.eBV(t);const l=e.XpG();return e.Njj(l.onLazyLoad(n))}),e.DNE(2,te,17,0,"ng-template",54)(3,ne,28,13,"ng-template",55)(4,oe,10,0,"ng-template",56),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("value",t.roles)("paginator",!0)("rows",t.pageSize)("totalRecords",t.totalRecords)("lazy",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",t.pageSizeOptions)}}function ie(i,d){if(1&i&&(e.j41(0,"div",66),e.nrm(1,"i",98),e.j41(2,"span",63),e.EFF(3),e.k0s()()),2&i){const t=e.XpG().$implicit;e.R7$(3),e.JRh(t.contact[0].email)}}function ae(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",87)(1,"div",88)(2,"div",89)(3,"div",90)(4,"h3",91),e.EFF(5),e.k0s(),e.j41(6,"p",92),e.EFF(7),e.k0s(),e.j41(8,"p",64),e.EFF(9),e.k0s()(),e.j41(10,"div",93),e.nrm(11,"p-tag",94),e.k0s()(),e.j41(12,"div",95)(13,"div",3)(14,"div",66),e.nrm(15,"p-badge",67),e.j41(16,"span",63),e.EFF(17,"permissions"),e.k0s()(),e.DNE(18,ie,4,1,"div",96),e.k0s(),e.nrm(19,"p-tag",65),e.k0s(),e.j41(20,"div",97)(21,"div",2)(22,"span",63),e.EFF(23),e.k0s(),e.j41(24,"div",66)(25,"p-button",69),e.bIt("onClick",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.viewRoleDetails(n))}),e.k0s(),e.j41(26,"p-button",70),e.bIt("onClick",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.openRoleModal(n))}),e.k0s(),e.j41(27,"p-inputSwitch",71),e.mxI("ngModelChange",function(n){const l=e.eBV(t).$implicit;return e.DH7(l.is_active,n)||(l.is_active=n),e.Njj(n)}),e.bIt("onChange",function(){const n=e.eBV(t).$implicit,l=e.XpG(2);return e.Njj(l.toggleRoleStatus(n))}),e.k0s()()()()()()}if(2&i){const t=d.$implicit,o=e.XpG(2);e.R7$(5),e.JRh(t.name),e.R7$(2),e.JRh(t.kid),e.R7$(2),e.JRh(t.description),e.R7$(2),e.Y8G("value",t.type)("severity",o.getRoleTypeSeverity(t.type)),e.R7$(4),e.Y8G("value",t.permissions),e.R7$(3),e.Y8G("ngIf",t.contact&&t.contact.length>0),e.R7$(),e.Y8G("value",t.is_active?"Active":"Inactive")("severity",o.getRoleStatusSeverity(t.is_active)),e.R7$(4),e.SpI("Created ",o.formatDate(t.created_at),""),e.R7$(2),e.Y8G("outlined",!0),e.R7$(),e.Y8G("outlined",!0),e.R7$(),e.R50("ngModel",t.is_active)}}function se(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",79),e.DNE(1,ae,28,13,"div",80),e.j41(2,"div",81)(3,"div",82),e.nrm(4,"i",83),e.j41(5,"h3",84),e.EFF(6,"Add New Role"),e.k0s(),e.j41(7,"p",85),e.EFF(8,"Create a new user role"),e.k0s(),e.j41(9,"p-button",86),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openRoleModal())}),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.roles)("ngForTrackBy",t.trackByRoleId)}}function re(i,d){if(1&i){const t=e.RV6();e.j41(0,"div",99),e.nrm(1,"i",100),e.j41(2,"h3",101),e.EFF(3,"No Roles Found"),e.k0s(),e.j41(4,"p",102),e.EFF(5,"Create your first role to start managing user permissions"),e.k0s(),e.j41(6,"p-button",86),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openRoleModal())}),e.k0s()()}}let pe=(()=>{class i{governanceServices;router;toastService;messageService;confirmationService;loadingService;roles=[];loading=!1;showRoleModal=!1;selectedRole=null;viewMode="list";showFilters=!1;searchTerm="";filters={type:"",status:""};totalRecords=0;currentPage=0;pageSize=10;pageSizeOptions=[5,10,25,50];stats={totalRoles:0,activeRoles:0,systemRoles:0,businessRoles:0};typeOptions=[{label:"All Types",value:""},{label:"System",value:"system"},{label:"Business",value:"business"},{label:"Governance",value:"governance"}];statusOptions=[{label:"All Status",value:""},{label:"Active",value:"true"},{label:"Inactive",value:"false"}];constructor(t,o,n,l,p,r){this.governanceServices=t,this.router=o,this.toastService=n,this.messageService=l,this.confirmationService=p,this.loadingService=r}ngOnInit(){this.currentPage=0,this.pageSize=10,this.loadRoles(),this.loadStats()}loadRoles(){this.loading=!0,this.loadingService.showPageLoading("Loading roles...","bars");const t=Number(this.currentPage)||0,o=Number(this.pageSize)||10,n=t*o;console.log("Loading roles with params:",{currentPage:t,pageSize:o,offset:n,originalCurrentPage:this.currentPage,originalPageSize:this.pageSize}),this.governanceServices.getRoles({limit:o,offset:n,search:this.searchTerm||void 0,type:this.filters.type||void 0}).subscribe({next:p=>{p.success&&p.data?(this.roles=p.data.data,this.totalRecords=p.data.pagination.total,this.updateStats()):(this.roles=[],this.totalRecords=0),this.loading=!1,this.loadingService.hide()},error:p=>{console.error("Error loading roles:",p),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load roles"}),this.loading=!1,this.loadingService.hide()}})}loadStats(){this.updateStats()}updateStats(){this.stats.totalRoles=this.totalRecords,this.stats.activeRoles=this.roles.filter(t=>!1!==t.is_active).length,this.stats.systemRoles=this.roles.filter(t=>"system"===t.type).length,this.stats.businessRoles=this.roles.filter(t=>"business"===t.type).length}onLazyLoad(t){this.currentPage=Math.floor((t.first||0)/(t.rows||10)),this.pageSize=Number(t.rows)||10,this.loadRoles()}onPageChange(t){this.currentPage=Number(t.page)||0,this.pageSize=Number(t.rows)||10,this.loadRoles()}onSearch(){this.currentPage=0,this.loadRoles()}onFilterChange(){this.currentPage=0,this.loadRoles()}clearFilters(){this.searchTerm="",this.filters={type:"",status:""},this.currentPage=0,this.loadRoles()}refreshRoles(){this.loadRoles()}exportRoles(){this.messageService.add({severity:"info",summary:"Export",detail:"Export functionality coming soon"})}toggleFilters(){this.showFilters=!this.showFilters}applyFilters(){this.currentPage=0,this.loadRoles()}toggleViewMode(){this.viewMode="list"===this.viewMode?"card":"list"}setViewMode(t){this.viewMode=t}openRoleModal(t=null){this.selectedRole=t,this.showRoleModal=!0}closeRoleModal(){this.showRoleModal=!1,this.selectedRole=null}onRoleSaved(){this.closeRoleModal(),this.loadRoles()}toggleRoleStatus(t){const o=!t.is_active,n=o?"activate":"deactivate";this.governanceServices.updateRole(t.kid,{is_active:o}).subscribe({next:l=>{l.success&&(t.is_active=o,this.messageService.add({severity:"success",summary:"Success",detail:`Role ${n}d successfully`}),this.updateStats())},error:l=>{console.error(`Error ${n}ing role:`,l),this.messageService.add({severity:"error",summary:"Error",detail:`Failed to ${n} role`})}})}deleteRole(t){this.confirmationService.confirm({message:`Are you sure you want to delete the role "${t.name}"?`,header:"Confirm Delete",icon:"pi pi-exclamation-triangle",accept:()=>{this.governanceServices.deleteRole(t.kid).subscribe({next:o=>{o.success&&(this.messageService.add({severity:"success",summary:"Success",detail:"Role deleted successfully"}),this.loadRoles())},error:o=>{console.error("Error deleting role:",o),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to delete role"})}})}})}viewRoleDetails(t){this.router.navigate(["/governance/roles",t.kid])}getRoleTypeSeverity(t){switch(t){case"system":return"danger";case"business":return"info";case"governance":return"warning";default:return"secondary"}}getRoleStatusSeverity(t){return t?"success":"secondary"}formatDate(t){return new Date(t).toLocaleDateString()}trackByRoleId(t,o){return o.kid}static \u0275fac=function(o){return new(o||i)(e.rXU(M.N),e.rXU(W.Ix),e.rXU(K.f),e.rXU(R.bg),e.rXU(R.td),e.rXU(Q.U))};static \u0275cmp=e.VBU({type:i,selectors:[["app-roles"]],features:[e.Jv_([R.bg,R.td])],decls:66,vars:29,consts:[[1,"bg-gray-50","min-h-screen","p-6"],[1,"bg-white","rounded-lg","shadow-sm","p-6","mb-6"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","bg-gradient-to-br","from-green-500","to-blue-600","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-users","text-white","text-xl"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"flex","flex-wrap","items-center","gap-2","sm:gap-3"],["icon","pi pi-refresh","severity","info","pTooltip","Refresh Roles",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-trash","severity","warning","pTooltip","Clear Cache",1,"hidden","sm:inline-flex",3,"outlined","rounded"],["icon","pi pi-download","severity","secondary","pTooltip","Export Roles",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-filter","severity","secondary","pTooltip","Toggle Filters",1,"hidden","sm:inline-flex",3,"click","outlined","rounded"],["icon","pi pi-list","severity","secondary","pTooltip","List View",1,"hidden","sm:inline-flex",3,"onClick","outlined","rounded"],["icon","pi pi-th-large","severity","secondary","pTooltip","Card View",1,"hidden","sm:inline-flex",3,"onClick","outlined","rounded"],["label","Add Role","icon","pi pi-plus","severity","primary","size","small",1,"sm:hidden",3,"onClick"],["icon","pi pi-plus","severity","primary","pTooltip","Add Role",1,"hidden","sm:inline-flex",3,"onClick","rounded"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-6","mb-6"],[1,"bg-white","rounded-lg","shadow-sm","p-6"],[1,"text-sm","font-medium","text-gray-600"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-users","text-blue-600","text-xl"],[1,"text-3xl","font-bold","text-green-600"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-check-circle","text-green-600","text-xl"],[1,"text-3xl","font-bold","text-red-600"],[1,"w-12","h-12","bg-red-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-cog","text-red-600","text-xl"],[1,"text-3xl","font-bold","text-blue-600"],[1,"pi","pi-briefcase","text-blue-600","text-xl"],["class","bg-white rounded-lg shadow-sm p-6 mb-6",4,"ngIf"],["class","bg-white rounded-lg shadow-sm p-6",4,"ngIf"],["class","bg-white rounded-lg shadow-sm",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",4,"ngIf"],["class","bg-white rounded-lg shadow-sm p-12 text-center",4,"ngIf"],["header","Role Details",3,"visibleChange","onHide","visible","modal","closable"],[3,"saveRole","cancelRole","role"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"flex","flex-col","gap-2"],["for","search",1,"text-sm","font-medium","text-gray-700"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["id","search","type","text","pInputText","","placeholder","Search roles...",1,"w-full",3,"ngModelChange","input","ngModel"],["for","type",1,"text-sm","font-medium","text-gray-700"],["id","type","optionLabel","label","optionValue","value","placeholder","Select type",1,"w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],["for","status",1,"text-sm","font-medium","text-gray-700"],["id","status","optionLabel","label","optionValue","value","placeholder","Select status",1,"w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],[1,"flex","justify-end","gap-2"],["label","Apply Filters","icon","pi pi-check","severity","primary",3,"onClick"],["label","Clear Filters","icon","pi pi-filter-slash","severity","secondary",3,"onClick","outlined"],[1,"space-y-4"],["height","4rem"],[1,"bg-white","rounded-lg","shadow-sm"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} roles","styleClass","p-datatable-sm",3,"onLazyLoad","value","paginator","rows","totalRecords","lazy","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","name"],["field","name"],["pSortableColumn","type"],["field","type"],[1,"flex","flex-col"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-600","line-clamp-2"],[3,"value","severity"],[1,"flex","items-center","gap-2"],["severity","info",3,"value"],[1,"text-sm","text-gray-600"],["icon","pi pi-eye","severity","info","size","small","pTooltip","View Details",3,"onClick","outlined"],["icon","pi pi-pencil","severity","secondary","size","small","pTooltip","Edit",3,"onClick","outlined"],["pTooltip","Toggle Status",3,"ngModelChange","onChange","ngModel"],["icon","pi pi-trash","severity","danger","size","small","pTooltip","Delete",3,"onClick","outlined"],["colspan","7",1,"text-center","p-8"],[1,"flex","flex-col","items-center","gap-4"],[1,"pi","pi-users","text-gray-400","text-4xl"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-gray-500"],["label","Add Role","icon","pi pi-plus","severity","primary",3,"onClick"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",4,"ngFor","ngForOf","ngForTrackBy"],[1,"bg-white","rounded-lg","shadow-sm","border-2","border-dashed","border-gray-300","hover:border-gray-400","transition-colors"],[1,"p-6","h-full","flex","flex-col","items-center","justify-center","text-center"],[1,"pi","pi-plus","text-gray-400","text-3xl","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-sm","text-gray-500","mb-4"],["label","Create Role","icon","pi pi-plus","severity","primary",3,"onClick"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","hover:shadow-md","transition-shadow"],[1,"p-6"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex-1"],[1,"text-lg","font-semibold","text-gray-900","mb-1"],[1,"text-sm","text-gray-500","mb-2"],[1,"flex","items-center","gap-2","ml-4"],[1,"text-xs",3,"value","severity"],[1,"flex","items-center","justify-between","mb-4"],["class","flex items-center gap-2",4,"ngIf"],[1,"border-t","pt-4"],[1,"pi","pi-envelope","text-gray-400"],[1,"bg-white","rounded-lg","shadow-sm","p-12","text-center"],[1,"pi","pi-users","text-gray-400","text-6xl","mb-4"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"]],template:function(o,n){1&o&&(e.nrm(0,"p-toast")(1,"p-confirmDialog"),e.j41(2,"div",0)(3,"div",1)(4,"div",2)(5,"div",3)(6,"div",4),e.nrm(7,"i",5),e.k0s(),e.j41(8,"div")(9,"h1",6),e.EFF(10,"Role Management"),e.k0s(),e.j41(11,"p",7),e.EFF(12,"Define and manage user roles and permissions"),e.k0s()()(),e.j41(13,"div",8)(14,"p-button",9),e.bIt("click",function(){return n.refreshRoles()}),e.k0s(),e.nrm(15,"p-button",10),e.j41(16,"p-button",11),e.bIt("click",function(){return n.exportRoles()}),e.k0s(),e.j41(17,"p-button",12),e.bIt("click",function(){return n.toggleFilters()}),e.k0s(),e.j41(18,"p-button",13),e.bIt("onClick",function(){return n.setViewMode("list")}),e.k0s(),e.j41(19,"p-button",14),e.bIt("onClick",function(){return n.setViewMode("card")}),e.k0s(),e.j41(20,"p-button",15),e.bIt("onClick",function(){return n.openRoleModal()}),e.k0s(),e.j41(21,"p-button",16),e.bIt("onClick",function(){return n.openRoleModal()}),e.k0s()()()(),e.j41(22,"div",17)(23,"div",18)(24,"div",2)(25,"div")(26,"p",19),e.EFF(27,"Total Roles"),e.k0s(),e.j41(28,"p",6),e.EFF(29),e.k0s()(),e.j41(30,"div",20),e.nrm(31,"i",21),e.k0s()()(),e.j41(32,"div",18)(33,"div",2)(34,"div")(35,"p",19),e.EFF(36,"Active Roles"),e.k0s(),e.j41(37,"p",22),e.EFF(38),e.k0s()(),e.j41(39,"div",23),e.nrm(40,"i",24),e.k0s()()(),e.j41(41,"div",18)(42,"div",2)(43,"div")(44,"p",19),e.EFF(45,"System Roles"),e.k0s(),e.j41(46,"p",25),e.EFF(47),e.k0s()(),e.j41(48,"div",26),e.nrm(49,"i",27),e.k0s()()(),e.j41(50,"div",18)(51,"div",2)(52,"div")(53,"p",19),e.EFF(54,"Business Roles"),e.k0s(),e.j41(55,"p",28),e.EFF(56),e.k0s()(),e.j41(57,"div",20),e.nrm(58,"i",29),e.k0s()()()(),e.DNE(59,q,19,8,"div",30)(60,ee,5,0,"div",31)(61,le,5,7,"div",32)(62,se,10,2,"div",33)(63,re,7,0,"div",34),e.k0s(),e.j41(64,"p-dialog",35),e.mxI("visibleChange",function(p){return e.DH7(n.showRoleModal,p)||(n.showRoleModal=p),p}),e.bIt("onHide",function(){return n.closeRoleModal()}),e.j41(65,"app-role",36),e.bIt("saveRole",function(){return n.onRoleSaved()})("cancelRole",function(){return n.closeRoleModal()}),e.k0s()()),2&o&&(e.R7$(14),e.Y8G("outlined",!0)("rounded",!0),e.R7$(),e.Y8G("outlined",!0)("rounded",!0),e.R7$(),e.Y8G("outlined",!0)("rounded",!0),e.R7$(),e.Y8G("outlined",!n.showFilters)("rounded",!0),e.R7$(),e.Y8G("outlined","list"!==n.viewMode)("rounded",!0),e.R7$(),e.Y8G("outlined","card"!==n.viewMode)("rounded",!0),e.R7$(2),e.Y8G("rounded",!0),e.R7$(8),e.JRh(n.stats.totalRoles),e.R7$(9),e.JRh(n.stats.activeRoles),e.R7$(9),e.JRh(n.stats.systemRoles),e.R7$(9),e.JRh(n.stats.businessRoles),e.R7$(3),e.Y8G("ngIf",n.showFilters),e.R7$(),e.Y8G("ngIf",n.loading),e.R7$(),e.Y8G("ngIf",!n.loading&&"list"===n.viewMode),e.R7$(),e.Y8G("ngIf",!n.loading&&"card"===n.viewMode),e.R7$(),e.Y8G("ngIf",!n.loading&&0===n.roles.length),e.R7$(),e.Aen(e.lJ4(28,Z)),e.R50("visible",n.showRoleModal),e.Y8G("modal",!0)("closable",!0),e.R7$(),e.Y8G("role",n.selectedRole))},dependencies:[u.MD,u.Sq,u.bT,c.YN,c.me,c.BC,c.vS,N,b.tm,b.$n,R.Ei,F.bG,F.XI,F.Tg,F.yc,P.$C,P.vw,C.um,C.Sm,f.kr,f.ms,h.Ph,h.lG,S.MB,S.y8,Y.Dw,O.EJ,O.Ex,X.IP,T.k2,T.EA,E.FP,E.TM,A.JB,L.Mk,z.mE,G.H_,G.HW,k.P8,H.h6,U.dD,J.dl,I.Ss,I.m_],styles:[".roles-container[_ngcontent-%COMP%]{padding:1.5rem}.roles-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.roles-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:2rem}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.total[_ngcontent-%COMP%]{background:#3b82f6}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.active[_ngcontent-%COMP%]{background:#10b981}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.custom[_ngcontent-%COMP%]{background:#f59e0b}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-icon.system[_ngcontent-%COMP%]{background:#8b5cf6}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#6b7280;font-size:.875rem}.roles-container[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]{margin-bottom:1.5rem}.roles-container[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1rem}.roles-container[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]   .filter-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#374151}.roles-container[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   .filter-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:flex-end}.roles-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .role-name[_ngcontent-%COMP%]   .role-description[_ngcontent-%COMP%]{display:block;color:#6b7280;font-size:.875rem;margin-top:.25rem}.roles-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.25rem}.roles-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:2rem;text-align:center}.roles-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#6b7280;margin:1rem 0 .5rem}.roles-container[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#9ca3af;margin:0}@media (max-width: 768px){.roles-container[_ngcontent-%COMP%]{padding:1rem}.roles-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch}.roles-container[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%], .roles-container[_ngcontent-%COMP%]   .filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}return i})()}}]);