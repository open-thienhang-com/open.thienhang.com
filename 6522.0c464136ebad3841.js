"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[6522],{935:(k,f,s)=>{s.d(f,{$C:()=>O,vw:()=>T});var m=s(2881),n=s(1360),_=s(5779),b=s(3491),y=s(6263);const v=["icon"],E=["*"];function M(e,h){if(1&e&&n.nrm(0,"span",4),2&e){const o=n.XpG(2);n.Y8G("ngClass",o.icon)}}function D(e,h){if(1&e&&(n.qex(0),n.DNE(1,M,1,1,"span",3),n.bVm()),2&e){const o=n.XpG();n.R7$(),n.Y8G("ngIf",o.icon)}}function x(e,h){}function C(e,h){1&e&&n.DNE(0,x,0,0,"ng-template")}function F(e,h){if(1&e&&(n.j41(0,"span",5),n.DNE(1,C,1,0,null,6),n.k0s()),2&e){const o=n.XpG();n.R7$(),n.Y8G("ngTemplateOutlet",o.iconTemplate||o._iconTemplate)}}const R=({dt:e})=>`\n.p-tag {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    background: ${e("tag.primary.background")};\n    color: ${e("tag.primary.color")};\n    font-size: ${e("tag.font.size")};\n    font-weight: ${e("tag.font.weight")};\n    padding: ${e("tag.padding")};\n    border-radius: ${e("tag.border.radius")};\n    gap: ${e("tag.gap")};\n}\n\n.p-tag-icon {\n    font-size: ${e("tag.icon.size")};\n    width: ${e("tag.icon.size")};\n    height:${e("tag.icon.size")};\n}\n\n.p-tag-rounded {\n    border-radius: ${e("tag.rounded.border.radius")};\n}\n\n.p-tag-success {\n    background: ${e("tag.success.background")};\n    color: ${e("tag.success.color")};\n}\n\n.p-tag-info {\n    background: ${e("tag.info.background")};\n    color: ${e("tag.info.color")};\n}\n\n.p-tag-warn {\n    background: ${e("tag.warn.background")};\n    color: ${e("tag.warn.color")};\n}\n\n.p-tag-danger {\n    background: ${e("tag.danger.background")};\n    color: ${e("tag.danger.color")};\n}\n\n.p-tag-secondary {\n    background: ${e("tag.secondary.background")};\n    color: ${e("tag.secondary.color")};\n}\n\n.p-tag-contrast {\n    background: ${e("tag.contrast.background")};\n    color: ${e("tag.contrast.color")};\n}\n`,w={root:({props:e})=>["p-tag p-component",{"p-tag-info":"info"===e.severity,"p-tag-success":"success"===e.severity,"p-tag-warn":"warn"===e.severity,"p-tag-danger":"danger"===e.severity,"p-tag-secondary":"secondary"===e.severity,"p-tag-contrast":"contrast"===e.severity,"p-tag-rounded":e.rounded}],icon:"p-tag-icon",label:"p-tag-label"};let t=(()=>{class e extends y.j{name="tag";theme=R;classes=w;static \u0275fac=(()=>{let o;return function(c){return(o||(o=n.xGo(e)))(c||e)}})();static \u0275prov=n.jDH({token:e,factory:e.\u0275fac})}return e})(),T=(()=>{class e extends b.${get style(){return this._style}set style(o){this._style=o,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;iconTemplate;templates;_iconTemplate;_style;_componentStyle=(0,n.WQX)(t);ngAfterContentInit(){this.templates?.forEach(o=>{"icon"===o.getType()&&(this._iconTemplate=o.template)})}containerClass(){let o="p-tag p-component";return this.severity&&(o+=` p-tag-${this.severity}`),this.rounded&&(o+=" p-tag-rounded"),this.styleClass&&(o+=` ${this.styleClass}`),o}static \u0275fac=(()=>{let o;return function(c){return(o||(o=n.xGo(e)))(c||e)}})();static \u0275cmp=n.VBU({type:e,selectors:[["p-tag"]],contentQueries:function(d,c,i){if(1&d&&(n.wni(i,v,4),n.wni(i,_.Ei,4)),2&d){let u;n.mGM(u=n.lsd())&&(c.iconTemplate=u.first),n.mGM(u=n.lsd())&&(c.templates=u)}},hostVars:4,hostBindings:function(d,c){2&d&&(n.Aen(c.style),n.HbH(c.containerClass()))},inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",n.L39]},features:[n.Jv_([t]),n.Vt3],ngContentSelectors:E,decls:5,vars:3,consts:[[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-label"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(d,c){1&d&&(n.NAR(),n.SdG(0),n.DNE(1,D,2,1,"ng-container",0)(2,F,2,1,"span",1),n.j41(3,"span",2),n.EFF(4),n.k0s()),2&d&&(n.R7$(),n.Y8G("ngIf",!c.iconTemplate&&!c._iconTemplate),n.R7$(),n.Y8G("ngIf",c.iconTemplate||c._iconTemplate),n.R7$(2),n.JRh(c.value))},dependencies:[m.MD,m.YU,m.bT,m.T3,_.Gg],encapsulation:2,changeDetection:0})}return e})(),O=(()=>{class e{static \u0275fac=function(d){return new(d||e)};static \u0275mod=n.$C({type:e});static \u0275inj=n.G2t({imports:[T,_.Gg,_.Gg]})}return e})()},6522:(k,f,s)=>{s.r(f),s.d(f,{DatabaseExplorerComponent:()=>c});var m=s(2881),n=s(9417),_=s(491),b=s(1141),y=s(6221),v=s(935),E=s(8542),M=s(8150),D=s(2242),x=s(1570),C=s(4827),F=s(494),R=s(4945),w=s(5207),t=s(1360),$=s(5779);const T=()=>[5,10,25];function O(i,u){if(1&i&&(t.j41(0,"span",23),t.EFF(1),t.k0s()),2&i){const a=t.XpG().$implicit,r=t.XpG();t.R7$(),t.Lme(" ",r.getCountByType(a.value)," ",1===r.getCountByType(a.value)?"instance":"instances"," ")}}function e(i,u){if(1&i){const a=t.RV6();t.j41(0,"div",20),t.bIt("click",function(){const l=t.eBV(a).$implicit,g=t.XpG();return t.Njj(g.filterByType(l.value))}),t.nrm(1,"i"),t.j41(2,"span",21),t.EFF(3),t.k0s(),t.DNE(4,O,2,2,"span",22),t.k0s()}if(2&i){const a=u.$implicit,r=t.XpG();t.AVh("border-2",a.value===r.selectedDatabaseType)("border-blue-500",a.value===r.selectedDatabaseType),t.R7$(),t.HbH(a.icon+" text-4xl mb-2 "+a.color),t.R7$(2),t.JRh(a.label),t.R7$(),t.Y8G("ngIf",r.getCountByType(a.value)>0)}}function h(i,u){1&i&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Name"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Type"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Status"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Connection"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Owner"),t.k0s(),t.j41(11,"th"),t.EFF(12,"Tables"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Size"),t.k0s(),t.j41(15,"th"),t.EFF(16,"Last Synced"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Actions"),t.k0s()())}function o(i,u){if(1&i&&(t.j41(0,"tr")(1,"td")(2,"div",24),t.nrm(3,"i",25),t.j41(4,"div")(5,"div",26),t.EFF(6),t.k0s(),t.j41(7,"div",27),t.EFF(8),t.nI1(9,"slice"),t.k0s()()()(),t.j41(10,"td")(11,"div",28)(12,"span",29),t.EFF(13),t.k0s(),t.j41(14,"span",27),t.EFF(15),t.k0s()()(),t.j41(16,"td"),t.nrm(17,"p-tag",30),t.k0s(),t.j41(18,"td")(19,"div",28)(20,"span"),t.EFF(21),t.k0s(),t.j41(22,"span",27),t.EFF(23),t.k0s()()(),t.j41(24,"td"),t.EFF(25),t.k0s(),t.j41(26,"td")(27,"div",28)(28,"span"),t.EFF(29),t.k0s(),t.j41(30,"span",27),t.EFF(31),t.k0s()()(),t.j41(32,"td"),t.EFF(33),t.k0s(),t.j41(34,"td")(35,"span",31),t.nI1(36,"date"),t.EFF(37),t.nI1(38,"date"),t.k0s()(),t.j41(39,"td")(40,"div",32),t.nrm(41,"button",33)(42,"button",34)(43,"button",35),t.k0s()()()),2&i){const a=u.$implicit,r=t.XpG();t.R7$(3),t.HbH(r.getIconClass(a.type)),t.R7$(3),t.JRh(a.name),t.R7$(2),t.Lme("",t.brH(9,18,a.description,0,30),"",a.description.length>30?"...":"",""),t.R7$(5),t.JRh(a.type),t.R7$(2),t.SpI("v",a.version,""),t.R7$(2),t.Y8G("severity",r.getStatusSeverity(a.status))("value",a.status)("rounded",!0),t.R7$(4),t.JRh(a.host),t.R7$(2),t.SpI("Port: ",a.port,""),t.R7$(2),t.JRh(a.owner),t.R7$(4),t.SpI("",a.tables," tables"),t.R7$(2),t.SpI("",a.schemas," schemas"),t.R7$(2),t.JRh(a.size),t.R7$(2),t.Y8G("pTooltip",t.i5U(36,22,a.lastSynced,"medium")),t.R7$(2),t.SpI(" ",t.i5U(38,25,a.lastSynced,"short")," ")}}function d(i,u){1&i&&(t.j41(0,"tr")(1,"td",36)(2,"div",37),t.nrm(3,"i",38),t.j41(4,"p",39),t.EFF(5,"No database connections found matching your criteria"),t.k0s(),t.nrm(6,"button",40),t.k0s()()())}let c=(()=>{class i{databases=[];filteredDatabases=[];searchQuery="";selectedStatus=null;selectedDatabaseType=null;databaseTypes=[{label:"All Databases",value:null,icon:"pi pi-database",color:"text-blue-500"},{label:"MongoDB",value:"mongodb",icon:"pi pi-server",color:"text-green-500"},{label:"PostgreSQL",value:"postgresql",icon:"pi pi-server",color:"text-blue-600"},{label:"MySQL",value:"mysql",icon:"pi pi-server",color:"text-orange-500"},{label:"Trino",value:"trino",icon:"pi pi-server",color:"text-purple-500"},{label:"Oracle",value:"oracle",icon:"pi pi-server",color:"text-red-500"}];statusOptions=[{label:"All Statuses",value:null},{label:"Online",value:"online"},{label:"Warning",value:"warning"},{label:"Offline",value:"offline"}];ngOnInit(){this.loadMockData(),this.applyFilters()}loadMockData(){const a=["mongodb","postgresql","mysql","trino","oracle"],r=["online","offline","warning"],l=["Data Engineering","Analytics Team","ML Ops","Data Science","Platform Team"];for(let g=1;g<=25;g++){const p=a[Math.floor(Math.random()*a.length)],I=Math.floor(500*Math.random())+1,B=Math.floor(20*Math.random())+1,j=Math.floor(1e3*Math.random())+1,S=new Date(2023+Math.floor(2*Math.random()),Math.floor(12*Math.random()),Math.floor(28*Math.random())+1),P=new Date;P.setHours(P.getHours()-Math.floor(72*Math.random()));const L={id:`db-${g}`,name:`${p.charAt(0).toUpperCase()+p.slice(1)}-DB-${g}`,type:p,version:this.getRandomVersion(p),status:r[Math.floor(Math.random()*r.length)],host:`${p}-server-${Math.floor(10*Math.random())}.datamesh.internal`,port:this.getDefaultPort(p),description:`${p.charAt(0).toUpperCase()+p.slice(1)} database for analytics and reporting.`,owner:l[Math.floor(Math.random()*l.length)],created:S,lastSynced:P,schemas:B,tables:I,size:`${j} GB`,tags:this.getRandomTags()};this.databases.push(L)}}getRandomVersion(a){switch(a){case"mongodb":return["4.4","5.0","6.0"][Math.floor(3*Math.random())];case"postgresql":return["12.9","13.7","14.4","15.1"][Math.floor(4*Math.random())];case"mysql":return["5.7","8.0","8.1"][Math.floor(3*Math.random())];case"trino":return["398","401","410"][Math.floor(3*Math.random())];case"oracle":return["19c","21c","23c"][Math.floor(3*Math.random())];default:return"1.0"}}getDefaultPort(a){switch(a){case"mongodb":return 27017;case"postgresql":return 5432;case"mysql":return 3306;case"trino":return 8080;case"oracle":return 1521;default:return 1e3+Math.floor(9e3*Math.random())}}getRandomTags(){const a=["production","development","testing","analytics","reporting","customer-data","inventory","finance"],r=Math.floor(4*Math.random())+1,l=[];for(let g=0;g<r;g++){const p=a[Math.floor(Math.random()*a.length)];l.includes(p)||l.push(p)}return l}applyFilters(){this.filteredDatabases=this.databases.filter(a=>!(this.selectedDatabaseType&&a.type!==this.selectedDatabaseType||this.selectedStatus&&a.status!==this.selectedStatus||this.searchQuery&&!a.name.toLowerCase().includes(this.searchQuery.toLowerCase())&&!a.description.toLowerCase().includes(this.searchQuery.toLowerCase())&&!a.host.toLowerCase().includes(this.searchQuery.toLowerCase())))}filterByType(a){this.selectedDatabaseType=a,this.applyFilters()}getCountByType(a){return a?this.databases.filter(r=>r.type===a).length:this.databases.length}getIconClass(a){switch(a){case"mongodb":return"pi pi-server text-green-500";case"postgresql":return"pi pi-server text-blue-600";case"mysql":return"pi pi-server text-orange-500";case"trino":return"pi pi-server text-purple-500";case"oracle":return"pi pi-server text-red-500";default:return"pi pi-database text-gray-500"}}getStatusSeverity(a){switch(a){case"online":return"success";case"warning":return"warning";case"offline":return"danger";default:return"info"}}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=t.VBU({type:i,selectors:[["app-database-explorer"]],decls:24,vars:10,consts:[[1,"p-4","md:p-6"],[1,"mb-6"],[1,"flex","flex-wrap","justify-between","items-center","gap-4","mb-4"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400"],["pButton","","label","Add Database Connection","icon","pi pi-plus",1,"p-button-primary"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-4","lg:grid-cols-6","gap-4","mb-6"],["class","bg-white dark:bg-gray-800 p-4 rounded-lg shadow flex flex-col items-center cursor-pointer hover:shadow-md transition-shadow",3,"border-2","border-blue-500","click",4,"ngFor","ngForOf"],[1,"bg-white","dark:bg-gray-800","p-4","rounded-lg","shadow","mb-6"],[1,"flex","flex-wrap","gap-4"],[1,"flex-1","min-w-[200px]"],[1,"p-input-icon-left","w-full"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search databases...",1,"w-full",3,"ngModelChange","input","ngModel"],[1,"w-full","md:w-auto"],["optionLabel","label","optionValue","value","placeholder","Filter by status",3,"ngModelChange","onChange","options","ngModel"],["styleClass","p-datatable-sm p-datatable-gridlines","responsiveLayout","stack","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","paginator","rows","rowsPerPageOptions","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"bg-white","dark:bg-gray-800","p-4","rounded-lg","shadow","flex","flex-col","items-center","cursor-pointer","hover:shadow-md","transition-shadow",3,"click"],[1,"text-sm","font-medium","text-center"],["class","text-xs text-blue-600 dark:text-blue-400 mt-1",4,"ngIf"],[1,"text-xs","text-blue-600","dark:text-blue-400","mt-1"],[1,"flex","items-center","gap-2"],[1,"text-lg"],[1,"font-medium"],[1,"text-xs","text-gray-500"],[1,"flex","flex-col"],[1,"capitalize"],[3,"severity","value","rounded"],[3,"pTooltip"],[1,"flex","gap-2"],["pButton","","icon","pi pi-eye","pTooltip","View details",1,"p-button-rounded","p-button-text","p-button-sm"],["pButton","","icon","pi pi-sync","pTooltip","Sync now",1,"p-button-rounded","p-button-text","p-button-sm"],["pButton","","icon","pi pi-cog","pTooltip","Settings",1,"p-button-rounded","p-button-text","p-button-sm"],["colspan","9",1,"text-center","p-6"],[1,"flex","flex-col","items-center"],[1,"pi","pi-database","text-5xl","text-gray-300","mb-4"],[1,"text-gray-500","mb-4"],["pButton","","label","Add New Database","icon","pi pi-plus",1,"p-button-outlined"]],template:function(r,l){1&r&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),t.EFF(5,"Database Explorer"),t.k0s(),t.j41(6,"p",4),t.EFF(7,"Browse and manage database connections"),t.k0s()(),t.nrm(8,"button",5),t.k0s(),t.j41(9,"div",6),t.DNE(10,e,5,8,"div",7),t.k0s()(),t.j41(11,"div",8)(12,"div",9)(13,"div",10)(14,"span",11),t.nrm(15,"i",12),t.j41(16,"input",13),t.mxI("ngModelChange",function(p){return t.DH7(l.searchQuery,p)||(l.searchQuery=p),p}),t.bIt("input",function(){return l.applyFilters()}),t.k0s()()(),t.j41(17,"div",14)(18,"p-dropdown",15),t.mxI("ngModelChange",function(p){return t.DH7(l.selectedStatus,p)||(l.selectedStatus=p),p}),t.bIt("onChange",function(){return l.applyFilters()}),t.k0s()()()(),t.j41(19,"p-card")(20,"p-table",16),t.DNE(21,h,19,0,"ng-template",17)(22,o,44,28,"ng-template",18)(23,d,7,0,"ng-template",19),t.k0s()()()),2&r&&(t.R7$(10),t.Y8G("ngForOf",l.databaseTypes),t.R7$(6),t.R50("ngModel",l.searchQuery),t.R7$(2),t.Y8G("options",l.statusOptions),t.R50("ngModel",l.selectedStatus),t.R7$(2),t.Y8G("value",l.filteredDatabases)("paginator",!0)("rows",10)("rowsPerPageOptions",t.lJ4(9,T))("showCurrentPageReport",!0))},dependencies:[m.MD,m.Sq,m.bT,m.P9,m.vh,n.YN,n.me,n.BC,n.vS,_.Dw,_.Zp,$.Ei,b.tm,b._f,y.bG,y.XI,v.$C,v.vw,E.Ss,E.m_,M.kr,M.ms,D.um,D.Sm,x.Ph,C.P8,F.Ko,R.fd,w.iI],styles:["[_nghost-%COMP%]     .p-card{--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}[_nghost-%COMP%]     .p-card .p-card-content{padding:0}"]})}return i})()}}]);