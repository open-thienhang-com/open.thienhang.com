import{y as B,r as f,j as e,z as F,D as I,e as b,A as k,l as E,E as T,F as H}from"./index-CZxwAXbl.js";import{C as $,a as A}from"./index.esm-BOhZrsQ0.js";import{C as m,a as r}from"./CRow-BFihry9H.js";import{c as L}from"./cil-arrow-left-D66Kb3Zq.js";import{C as z}from"./CForm-Di4mrq4y.js";import{C as n}from"./CFormLabel-9KOKoO1t.js";import{C as l}from"./CFormInput-CXlsoodv.js";import{C as q}from"./CFormTextarea-DLIgUf--.js";import{C as M,a as R}from"./CInputGroupText-DZeafPMx.js";import{C as x}from"./CFormCheck-uXarn4As.js";import{c as G}from"./cil-save-CHBg7z_U.js";import"./CFormControlWrapper-DAJd-i6P.js";import"./CFormControlValidation-DSYTCUKV.js";const ae=()=>{const _=B(),[C,v]=f.useState(!1),[s,u]=f.useState({title:"Premium Apartment in City Center",description:"Beautiful modern apartment with all amenities in the heart of the city. Perfect for business travelers and tourists.",price_per_day:150,total_area:85,bedrooms:2,bathrooms:1,hotline:"+1-555-0123",email:"info@thienhang.com",currency:"USD",is_furnished:!0,is_garage:!1,is_booked:!1,is_active:!0,property:{name:"ThienHang Premium Residence",description:"Modern residential complex with luxury amenities",has_pool:!0,has_elevator:!0,total_apartments:50},address:{country:"Vietnam",city:"Ho Chi Minh City",street:"Nguyen Hue",house_number:"123",latitude:10.7769,longitude:106.7009},propertyAddress:{country:"Vietnam",city:"Ho Chi Minh City",street:"Nguyen Hue",house_number:"123",latitude:10.7769,longitude:106.7009},amenities:[{name:"WiFi",description:"High-speed internet connection",is_available:!0},{name:"Air Conditioning",description:"Central air conditioning system",is_available:!0},{name:"Kitchen",description:"Fully equipped modern kitchen",is_available:!0}]}),i=(a,t=null,o=null,c=null)=>{const{name:j,value:d,type:h,checked:y}=a.target,g=h==="checkbox"?y:h==="number"?parseFloat(d)||0:d;u(t&&o!==null&&c?p=>({...p,[t]:p[t].map((N,S)=>S===o?{...N,[c]:g}:N)}):t?p=>({...p,[t]:{...p[t],[j]:g}}):p=>({...p,[j]:g}))},w=()=>{u(a=>({...a,amenities:[...a.amenities,{name:"",description:"",is_available:!0}]}))},P=a=>{u(t=>({...t,amenities:t.amenities.filter((o,c)=>c!==a)}))},D=async a=>{var t,o,c,j;a.preventDefault(),v(!0);try{const d={property:{name:s.property.name,description:s.property.description,has_pool:s.property.has_pool,has_elevator:s.property.has_elevator,total_apartments:s.property.total_apartments,address:s.propertyAddress},amenities:s.amenities.map(y=>({name:y.name,description:y.description,is_available:y.is_available})),address:s.address,hotline:s.hotline,email:s.email,title:s.title,description:s.description,price_per_day:s.price_per_day,total_area:s.total_area,is_furnished:s.is_furnished,is_garage:s.is_garage,bedrooms:s.bedrooms,bathrooms:s.bathrooms,is_booked:s.is_booked,is_active:s.is_active,currency:s.currency};console.log("Creating hotel with payload:",d);const h=await T.post("/services/hotel/apartment/apartment",d);console.log("Hotel created successfully:",h.data),H.success(h.data.message||"Hotel created successfully!"),_("/hotels")}catch(d){console.error("Error creating hotel:",d);const h=((o=(t=d.response)==null?void 0:t.data)==null?void 0:o.message)||((j=(c=d.response)==null?void 0:c.data)==null?void 0:j.error)||"Failed to create hotel. Please try again.";H.error(h)}finally{v(!1)}};return e.jsx($,{children:e.jsx(m,{children:e.jsx(r,{xs:12,children:e.jsxs(F,{children:[e.jsx(I,{children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"mb-0",children:"Create New Hotel"}),e.jsxs(b,{color:"secondary",variant:"outline",onClick:()=>_("/hotels"),children:[e.jsx(A,{icon:L,className:"me-2"}),"Back to Hotels"]})]})}),e.jsx(k,{children:e.jsxs(z,{onSubmit:D,children:[e.jsxs(m,{className:"mb-4",children:[e.jsx(r,{xs:12,children:e.jsx("h5",{className:"text-primary border-bottom pb-2",children:"Basic Information"})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"title",children:"Title *"}),e.jsx(l,{type:"text",id:"title",name:"title",value:s.title,onChange:i,required:!0})]})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"email",children:"Email *"}),e.jsx(l,{type:"email",id:"email",name:"email",value:s.email,onChange:i,required:!0})]})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"hotline",children:"Hotline *"}),e.jsx(l,{type:"text",id:"hotline",name:"hotline",value:s.hotline,onChange:i,required:!0})]})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"currency",children:"Currency"}),e.jsx(l,{type:"text",id:"currency",name:"currency",value:s.currency,onChange:i})]})}),e.jsx(r,{xs:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(q,{id:"description",name:"description",rows:3,value:s.description,onChange:i})]})})]}),e.jsxs(m,{className:"mb-4",children:[e.jsx(r,{xs:12,children:e.jsx("h5",{className:"text-primary border-bottom pb-2",children:"Pricing & Space"})}),e.jsx(r,{md:3,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"price_per_day",children:"Price per Day *"}),e.jsxs(M,{children:[e.jsx(R,{children:"$"}),e.jsx(l,{type:"number",id:"price_per_day",name:"price_per_day",value:s.price_per_day,onChange:i,required:!0,min:"0",step:"0.01"})]})]})}),e.jsx(r,{md:3,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"total_area",children:"Total Area (mÂ²) *"}),e.jsx(l,{type:"number",id:"total_area",name:"total_area",value:s.total_area,onChange:i,required:!0,min:"0"})]})}),e.jsx(r,{md:3,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"bedrooms",children:"Bedrooms *"}),e.jsx(l,{type:"number",id:"bedrooms",name:"bedrooms",value:s.bedrooms,onChange:i,required:!0,min:"0"})]})}),e.jsx(r,{md:3,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"bathrooms",children:"Bathrooms *"}),e.jsx(l,{type:"number",id:"bathrooms",name:"bathrooms",value:s.bathrooms,onChange:i,required:!0,min:"0"})]})})]}),e.jsxs(m,{className:"mb-4",children:[e.jsx(r,{xs:12,children:e.jsx("h5",{className:"text-primary border-bottom pb-2",children:"Features"})}),e.jsx(r,{md:3,children:e.jsx(x,{id:"is_furnished",name:"is_furnished",checked:s.is_furnished,onChange:i,label:"Furnished"})}),e.jsx(r,{md:3,children:e.jsx(x,{id:"is_garage",name:"is_garage",checked:s.is_garage,onChange:i,label:"Has Garage"})}),e.jsx(r,{md:3,children:e.jsx(x,{id:"is_active",name:"is_active",checked:s.is_active,onChange:i,label:"Active"})}),e.jsx(r,{md:3,children:e.jsx(x,{id:"is_booked",name:"is_booked",checked:s.is_booked,onChange:i,label:"Currently Booked"})})]}),e.jsxs(m,{className:"mb-4",children:[e.jsx(r,{xs:12,children:e.jsx("h5",{className:"text-primary border-bottom pb-2",children:"Property Information"})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"property_name",children:"Property Name *"}),e.jsx(l,{type:"text",id:"property_name",name:"name",value:s.property.name,onChange:a=>i(a,"property"),required:!0})]})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"total_apartments",children:"Total Apartments"}),e.jsx(l,{type:"number",id:"total_apartments",name:"total_apartments",value:s.property.total_apartments,onChange:a=>i(a,"property"),min:"0"})]})}),e.jsx(r,{xs:12,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"property_description",children:"Property Description"}),e.jsx(q,{id:"property_description",name:"description",rows:2,value:s.property.description,onChange:a=>i(a,"property")})]})}),e.jsx(r,{md:6,children:e.jsx(x,{id:"has_pool",name:"has_pool",checked:s.property.has_pool,onChange:a=>i(a,"property"),label:"Has Pool"})}),e.jsx(r,{md:6,children:e.jsx(x,{id:"has_elevator",name:"has_elevator",checked:s.property.has_elevator,onChange:a=>i(a,"property"),label:"Has Elevator"})})]}),e.jsxs(m,{className:"mb-4",children:[e.jsx(r,{xs:12,children:e.jsx("h5",{className:"text-primary border-bottom pb-2",children:"Address"})}),e.jsx(r,{md:3,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"country",children:"Country *"}),e.jsx(l,{type:"text",id:"country",name:"country",value:s.address.country,onChange:a=>i(a,"address"),required:!0})]})}),e.jsx(r,{md:3,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"city",children:"City *"}),e.jsx(l,{type:"text",id:"city",name:"city",value:s.address.city,onChange:a=>i(a,"address"),required:!0})]})}),e.jsx(r,{md:4,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"street",children:"Street *"}),e.jsx(l,{type:"text",id:"street",name:"street",value:s.address.street,onChange:a=>i(a,"address"),required:!0})]})}),e.jsx(r,{md:2,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"house_number",children:"House No. *"}),e.jsx(l,{type:"text",id:"house_number",name:"house_number",value:s.address.house_number,onChange:a=>i(a,"address"),required:!0})]})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"latitude",children:"Latitude"}),e.jsx(l,{type:"number",id:"latitude",name:"latitude",value:s.address.latitude,onChange:a=>i(a,"address"),step:"any"})]})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(n,{htmlFor:"longitude",children:"Longitude"}),e.jsx(l,{type:"number",id:"longitude",name:"longitude",value:s.address.longitude,onChange:a=>i(a,"address"),step:"any"})]})})]}),e.jsxs(m,{className:"mb-4",children:[e.jsx(r,{xs:12,children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center border-bottom pb-2 mb-3",children:[e.jsx("h5",{className:"text-primary mb-0",children:"Amenities"}),e.jsx(b,{color:"primary",variant:"outline",size:"sm",onClick:w,children:"Add Amenity"})]})}),s.amenities.map((a,t)=>e.jsx(r,{xs:12,children:e.jsx(F,{className:"mb-3 border-start border-4 border-primary",children:e.jsx(k,{children:e.jsxs(m,{children:[e.jsx(r,{md:4,children:e.jsxs("div",{className:"mb-2",children:[e.jsx(n,{htmlFor:`amenity_name_${t}`,children:"Name"}),e.jsx(l,{type:"text",id:`amenity_name_${t}`,value:a.name,onChange:o=>i(o,"amenities",t,"name"),required:!0})]})}),e.jsx(r,{md:6,children:e.jsxs("div",{className:"mb-2",children:[e.jsx(n,{htmlFor:`amenity_description_${t}`,children:"Description"}),e.jsx(l,{type:"text",id:`amenity_description_${t}`,value:a.description,onChange:o=>i(o,"amenities",t,"description")})]})}),e.jsx(r,{md:2,children:e.jsxs("div",{className:"d-flex align-items-end justify-content-between h-100",children:[e.jsx(x,{id:`amenity_available_${t}`,checked:a.is_available,onChange:o=>i(o,"amenities",t,"is_available"),label:"Available"}),e.jsx(b,{color:"danger",variant:"outline",size:"sm",onClick:()=>P(t),children:"Remove"})]})})]})})})},t))]}),e.jsx(m,{children:e.jsx(r,{xs:12,children:e.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[e.jsx(b,{color:"secondary",onClick:()=>_("/hotels"),disabled:C,children:"Cancel"}),e.jsx(b,{color:"primary",type:"submit",disabled:C,children:C?e.jsxs(e.Fragment,{children:[e.jsx(E,{size:"sm",className:"me-2"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(A,{icon:G,className:"me-2"}),"Create Hotel"]})})]})})})]})})]})})})})};export{ae as default};
