import{G as M,y as O,r as u,E as Q,n as V,j as s,z as n,A as o,l as W,B as y,e as x,D as f}from"./index-CZxwAXbl.js";import{C as N,a}from"./index.esm-BOhZrsQ0.js";import{C as d,a as c}from"./CRow-BFihry9H.js";import{C as Y}from"./CButtonGroup-C_7ZmqrE.js";import{c as Z}from"./cil-arrow-left-D66Kb3Zq.js";import{c as ss,a as h,b as j,d as es,e as as,f as rs,g as ls}from"./cil-x-circle-bpK8zAMw.js";import{c as is,a as cs}from"./cil-location-pin-DgNdO3OW.js";import{c as ts,a as ns}from"./cil-phone-DE2e6Wm2.js";import{C as T,a as g}from"./CListGroupItem-DST3O9rB.js";import{c as os,a as i}from"./DefaultLayout-DoGqnKgH.js";import{c as ds}from"./cil-user-Dlmw-Gem.js";const Cs=()=>{var z,B,A,k,P,H,E,S,I,D,F,L,G,R;const{id:m}=M(),v=O(),[e,X]=u.useState(null),[q,b]=u.useState(!0),[C,p]=u.useState(null);u.useEffect(()=>{m&&_(m)},[m]);const _=async r=>{var t,U,$;b(!0),p(null);try{let l;try{console.log("🏨 Fetching hotel detail via proxy...",r),l=await Q.get(`/services/hotel/apartment/apartment/${r}`)}catch{console.log("⚠️ Proxy failed, trying direct API..."),l=await V.get(`/services/hotel/apartment/apartment/${r}`)}console.log("✅ Hotel detail API response:",l.data),l.data&&l.data.data?X(l.data.data):p("Hotel not found")}catch(l){console.error("❌ Error fetching hotel detail:",l),((t=l.response)==null?void 0:t.status)===404?p("Hotel not found"):p((($=(U=l.response)==null?void 0:U.data)==null?void 0:$.message)||l.message||"Failed to fetch hotel details")}finally{b(!1)}},J=(r,t="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(r),K=r=>r.is_active?r.is_booked?s.jsx(i,{color:"warning",size:"lg",children:"Booked"}):s.jsx(i,{color:"success",size:"lg",children:"Available"}):s.jsx(i,{color:"secondary",size:"lg",children:"Inactive"}),w=()=>{v("/hotels")};return q?s.jsx(N,{children:s.jsx(d,{children:s.jsx(c,{xs:12,children:s.jsx(n,{children:s.jsxs(o,{className:"text-center py-5",children:[s.jsx(W,{color:"primary",variant:"grow"}),s.jsx("div",{className:"mt-3",children:"Loading hotel details..."})]})})})})}):C?s.jsx(N,{children:s.jsx(d,{children:s.jsx(c,{xs:12,children:s.jsx(n,{children:s.jsx(o,{children:s.jsxs(y,{color:"danger",children:[s.jsx("strong",{children:"Error:"})," ",C,s.jsx("div",{className:"mt-3",children:s.jsxs(Y,{children:[s.jsx(x,{color:"primary",size:"sm",onClick:()=>_(m),children:"Retry"}),s.jsx(x,{color:"secondary",size:"sm",onClick:w,children:"Back to Hotels"})]})})]})})})})})}):e?s.jsxs(N,{children:[s.jsx(d,{className:"mb-4",children:s.jsx(c,{children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs(x,{color:"primary",variant:"outline",onClick:w,className:"mb-3",children:[s.jsx(a,{icon:Z,className:"me-2"}),"Back to Hotels"]}),s.jsxs(x,{color:"warning",variant:"outline",onClick:()=>v(`/hotels/${m}/edit`),className:"mb-3",children:[s.jsx(a,{icon:ss,className:"me-2"}),"Edit Hotel"]})]})})}),s.jsxs(d,{children:[s.jsx(c,{lg:8,children:s.jsxs(n,{className:"mb-4",children:[s.jsx(f,{children:s.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"mb-1",children:["🏨 ",e.title||"Hotel Apartment"]}),s.jsxs("small",{className:"text-muted",children:["ID: ",e._id]})]}),s.jsx("div",{children:K(e)})]})}),s.jsxs(o,{children:[s.jsx("p",{className:"text-muted mb-4",children:e.description}),s.jsxs(d,{children:[s.jsxs(c,{md:6,children:[s.jsx("h6",{children:"📍 Address"}),s.jsxs("div",{className:"d-flex align-items-start mb-3",children:[s.jsx(a,{icon:is,className:"me-2 mt-1"}),s.jsxs("div",{children:[(z=e.address)==null?void 0:z.street," ",(B=e.address)==null?void 0:B.house_number,s.jsx("br",{}),(A=e.address)==null?void 0:A.city,", ",(k=e.address)==null?void 0:k.country,((P=e.address)==null?void 0:P.latitude)&&((H=e.address)==null?void 0:H.longitude)&&s.jsxs("div",{className:"text-muted small",children:["📍 ",e.address.latitude,", ",e.address.longitude]})]})]}),s.jsx("h6",{children:"📞 Contact Information"}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"d-flex align-items-center mb-2",children:[s.jsx(a,{icon:ts,className:"me-2"}),s.jsx("span",{children:e.hotline||"Not available"})]}),s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx(a,{icon:ns,className:"me-2"}),s.jsx("span",{children:e.email||"Not available"})]})]})]}),s.jsxs(c,{md:6,children:[s.jsx("h6",{children:"🏠 Apartment Details"}),s.jsxs(T,{className:"mb-3",children:[s.jsxs(g,{className:"d-flex justify-content-between",children:[s.jsxs("span",{className:"d-flex align-items-center",children:[s.jsx(a,{icon:os,className:"me-2"}),"Bedrooms"]}),s.jsx(i,{color:"primary",children:e.bedrooms||0})]}),s.jsxs(g,{className:"d-flex justify-content-between",children:[s.jsxs("span",{className:"d-flex align-items-center",children:[s.jsx(a,{icon:cs,className:"me-2"}),"Bathrooms"]}),s.jsx(i,{color:"primary",children:e.bathrooms||0})]}),s.jsxs(g,{className:"d-flex justify-content-between",children:[s.jsxs("span",{className:"d-flex align-items-center",children:[s.jsx(a,{icon:ds,className:"me-2"}),"Total Area"]}),s.jsxs(i,{color:"info",children:[e.total_area||0," m²"]})]})]}),s.jsx("h6",{children:"✨ Features"}),s.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[s.jsxs(i,{color:e.is_furnished?"success":"secondary",className:"d-flex align-items-center",children:[s.jsx(a,{icon:e.is_furnished?h:j,className:"me-1",size:"sm"}),s.jsx(a,{icon:es,className:"me-1",size:"sm"}),"Furnished"]}),s.jsxs(i,{color:e.is_garage?"success":"secondary",className:"d-flex align-items-center",children:[s.jsx(a,{icon:e.is_garage?h:j,className:"me-1",size:"sm"}),s.jsx(a,{icon:as,className:"me-1",size:"sm"}),"Garage"]})]})]})]})]})]})}),s.jsxs(c,{lg:4,children:[s.jsxs(n,{className:"mb-4",children:[s.jsx(f,{children:s.jsx("h5",{className:"mb-0",children:"💰 Pricing"})}),s.jsxs(o,{className:"text-center",children:[s.jsx("div",{className:"display-6 text-success mb-2",children:J(e.price_per_day,e.currency)}),s.jsx("div",{className:"text-muted",children:"per day"}),e.is_booked?s.jsx(y,{color:"warning",className:"mt-3 mb-0",children:"Currently Booked"}):s.jsx(x,{color:"success",size:"lg",className:"mt-3",disabled:!e.is_active,children:e.is_active?"Book Now":"Not Available"})]})]}),s.jsxs(n,{className:"mb-4",children:[s.jsx(f,{children:s.jsx("h5",{className:"mb-0",children:"🏢 Property Information"})}),s.jsxs(o,{children:[s.jsx("h6",{children:((E=e.property)==null?void 0:E.name)||"Unknown Property"}),s.jsx("p",{className:"text-muted small",children:(S=e.property)==null?void 0:S.description}),s.jsxs("div",{className:"mb-3",children:[s.jsx("strong",{children:"Total Apartments:"})," ",((I=e.property)==null?void 0:I.total_apartments)||0]}),s.jsx("h6",{children:"Property Features:"}),s.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[s.jsxs(i,{color:(D=e.property)!=null&&D.has_pool?"info":"secondary",className:"d-flex align-items-center",children:[s.jsx(a,{icon:(F=e.property)!=null&&F.has_pool?h:j,className:"me-1",size:"sm"}),s.jsx(a,{icon:rs,className:"me-1",size:"sm"}),"Swimming Pool"]}),s.jsxs(i,{color:(L=e.property)!=null&&L.has_elevator?"secondary":"light",className:"d-flex align-items-center",children:[s.jsx(a,{icon:(G=e.property)!=null&&G.has_elevator?h:j,className:"me-1",size:"sm"}),s.jsx(a,{icon:ls,className:"me-1",size:"sm"}),"Elevator"]})]}),((R=e.property)==null?void 0:R.address)&&s.jsxs("div",{className:"mt-3",children:[s.jsx("h6",{children:"Property Address:"}),s.jsxs("small",{className:"text-muted",children:[e.property.address.street," ",e.property.address.house_number,s.jsx("br",{}),e.property.address.city,", ",e.property.address.country]})]})]})]}),e.amenities&&e.amenities.length>0&&s.jsxs(n,{children:[s.jsx(f,{children:s.jsx("h5",{className:"mb-0",children:"🎯 Amenities"})}),s.jsx(o,{children:s.jsx(T,{flush:!0,children:e.amenities.map((r,t)=>s.jsxs(g,{className:"d-flex justify-content-between align-items-center px-0",children:[s.jsxs("div",{children:[s.jsx("strong",{children:r.name}),r.description&&s.jsx("div",{className:"text-muted small",children:r.description})]}),s.jsx(i,{color:r.is_available?"success":"secondary",children:s.jsx(a,{icon:r.is_available?h:j,size:"sm"})})]},t))})})]})]})]})]}):s.jsx(N,{children:s.jsx(d,{children:s.jsx(c,{xs:12,children:s.jsx(y,{color:"warning",children:"Hotel not found"})})})})};export{Cs as default};
