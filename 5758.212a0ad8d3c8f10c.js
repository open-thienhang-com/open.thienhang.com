"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[5758],{5758:(_t,M,s)=>{s.r(M),s.d(M,{PlanComponent:()=>yt});var t=s(1360),I=s(9377),d=s(2881),u=s(9417);const G=(a,i,e)=>({"bg-blue-50 border border-blue-200 text-blue-700":a,"bg-green-50 border border-green-200 text-green-700":i,"bg-red-50 border border-red-200 text-red-700":e});function $(a,i){1&a&&t.nrm(0,"div",63)}function A(a,i){1&a&&(t.qSk(),t.j41(0,"svg",28),t.nrm(1,"path",64),t.k0s())}function B(a,i){1&a&&(t.qSk(),t.j41(0,"svg",28),t.nrm(1,"path",65),t.k0s())}function V(a,i){if(1&a&&(t.j41(0,"div",59)(1,"div",14),t.DNE(2,$,1,0,"div",60)(3,A,2,0,"svg",61)(4,B,2,0,"svg",61),t.j41(5,"span",62),t.EFF(6),t.k0s()()()),2&a){const e=t.XpG();t.Y8G("ngClass",t.sMw(5,G,"info"===e.uploadStatus.type,"success"===e.uploadStatus.type,"error"===e.uploadStatus.type)),t.R7$(2),t.Y8G("ngIf","info"===e.uploadStatus.type),t.R7$(),t.Y8G("ngIf","success"===e.uploadStatus.type),t.R7$(),t.Y8G("ngIf","error"===e.uploadStatus.type),t.R7$(2),t.JRh(e.uploadStatus.message)}}function z(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",66),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.onUpload())}),t.EFF(1," Upload "),t.k0s()}}function Y(a,i){if(1&a&&(t.j41(0,"div",67)(1,"p",68)(2,"span",69),t.EFF(3),t.k0s()(),t.j41(4,"p",42),t.EFF(5),t.k0s()()),2&a){const e=t.XpG();t.R7$(),t.Y8G("title",e.selectedFile.name),t.R7$(2),t.JRh(e.selectedFile.name),t.R7$(2),t.SpI("(",(e.selectedFile.size/1024/1024).toFixed(2)," MB)")}}function N(a,i){1&a&&(t.j41(0,"div",70)(1,"div",71),t.nrm(2,"div",72),t.j41(3,"p",42),t.EFF(4,"\u0110ang t\u1ea3i danh s\xe1ch..."),t.k0s()()())}function X(a,i){1&a&&(t.j41(0,"div",73)(1,"div",71),t.qSk(),t.j41(2,"svg",74),t.nrm(3,"path",75),t.k0s(),t.joV(),t.j41(4,"p",76),t.EFF(5,"Ch\u01b0a c\xf3 l\u1ecbch n\xe0o"),t.k0s(),t.j41(6,"p",77),t.EFF(7,"Upload file \u0111\u1ec3 t\u1ea1o l\u1ecbch m\u1edbi"),t.k0s()()())}function L(a,i){if(1&a){const e=t.RV6();t.j41(0,"div",78),t.bIt("click",function(){const r=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.onViewPlan(o.getPlanId(r)))}),t.j41(1,"div",79)(2,"div",80)(3,"button",81),t.bIt("click",function(r){const o=t.eBV(e).$implicit,l=t.XpG();return l.onDeletePlan(l.getPlanId(o)),t.Njj(r.stopPropagation())}),t.qSk(),t.j41(4,"svg",82),t.nrm(5,"path",83),t.k0s()()(),t.joV(),t.j41(6,"div",84)(7,"div",85),t.qSk(),t.j41(8,"svg",86),t.nrm(9,"path",87),t.k0s()(),t.joV(),t.j41(10,"h4",88),t.EFF(11),t.k0s(),t.j41(12,"div",89),t.qSk(),t.j41(13,"svg",90),t.nrm(14,"path",91),t.k0s(),t.joV(),t.j41(15,"span"),t.EFF(16),t.nI1(17,"date"),t.k0s()()()(),t.j41(18,"div",92)(19,"div",93)(20,"div",94)(21,"div",95),t.EFF(22),t.k0s(),t.j41(23,"div",96),t.EFF(24,"Chuy\u1ebfn"),t.k0s()(),t.j41(25,"div",97)(26,"div",98),t.EFF(27),t.k0s(),t.j41(28,"div",96),t.EFF(29,"Xe"),t.k0s()()()()()}if(2&a){const e=i.$implicit,n=t.XpG();t.R7$(10),t.Y8G("title",n.getPlanDisplayName(e)),t.R7$(),t.JRh(n.getPlanDisplayName(e)),t.R7$(5),t.JRh(e.created_at?t.i5U(17,5,e.created_at,"short"):"N/A"),t.R7$(6),t.JRh(e.shifts||0),t.R7$(5),t.JRh(e.vehicles||0)}}let J=(()=>{class a{plans=[];loading=!1;uploadStatus=null;viewPlan=new t.bkB;deletePlan=new t.bkB;uploadPlan=new t.bkB;selectedFile=null;searchQuery="";sortBy="newest";itemsPerPage=12;currentPage=1;get filteredPlans(){let e=[...this.plans];if(this.searchQuery.trim()){const n=this.searchQuery.toLowerCase();e=e.filter(r=>(r.name||"").toLowerCase().includes(n)||(r.id||"").toLowerCase().includes(n))}return e.sort((n,r)=>{switch(this.sortBy){case"newest":return new Date(r.created_at||0).getTime()-new Date(n.created_at||0).getTime();case"oldest":return new Date(n.created_at||0).getTime()-new Date(r.created_at||0).getTime();case"name-asc":return(n.name||"").localeCompare(r.name||"");case"name-desc":return(r.name||"").localeCompare(n.name||"");default:return 0}}),e}get paginatedPlans(){const e=(this.currentPage-1)*this.itemsPerPage;return this.filteredPlans.slice(e,e+this.itemsPerPage)}get totalPages(){return Math.ceil(this.filteredPlans.length/this.itemsPerPage)}get totalFilteredPlans(){return this.filteredPlans.length}onViewPlan(e){this.viewPlan.emit(e)}onDeletePlan(e){confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a plan n\xe0y?")&&this.deletePlan.emit(e)}onFileSelected(e){const n=e.target;n.files&&n.files.length>0&&(this.selectedFile=n.files[0])}onUpload(){if(this.selectedFile){this.uploadPlan.emit(this.selectedFile),this.selectedFile=null;const e=document.getElementById("plan-file-input");e&&(e.value="")}}onSearchChange(){this.currentPage=1}onSortChange(){this.currentPage=1}onItemsPerPageChange(){this.currentPage=1}loadPlans(){this.currentPage=1,this.searchQuery=""}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e)}goToFirstPage(){this.currentPage=1}goToLastPage(){this.currentPage=this.totalPages}goToPrevPage(){this.currentPage>1&&this.currentPage--}goToNextPage(){this.currentPage<this.totalPages&&this.currentPage++}getPlanId(e){return e.id||String(e.created_at)||""}getPlanDisplayName(e){return e.name||"Plan"}getPlanDescription(e){const n=e.created_at;let r="";return r+=n?new Date(n).toLocaleString():"Ng\xe0y t\u1ea1o: N/A",r}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=t.VBU({type:a,selectors:[["app-plan-selection"]],inputs:{plans:"plans",loading:"loading",uploadStatus:"uploadStatus"},outputs:{viewPlan:"viewPlan",deletePlan:"deletePlan",uploadPlan:"uploadPlan"},decls:92,vars:16,consts:[["id","plan-card",1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6","mb-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500","mt-1"],[1,"flex","items-center","gap-3"],["id","plans-count",1,"text-sm","text-gray-600","font-medium"],["class","mb-4 p-3 rounded-lg",3,"ngClass",4,"ngIf"],[1,"mb-6","space-y-4","plan-filters","sticky","top-4","z-20","bg-white","p-3","rounded-md"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["id","plan-search-input","type","text","placeholder","T\xecm ki\u1ebfm l\u1ecbch theo t\xean ho\u1eb7c ID...",1,"w-full","pl-10","pr-4","py-3","text-sm","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-primary",3,"ngModelChange","input","ngModel"],[1,"flex","flex-wrap","items-center","gap-3"],[1,"flex","items-center","gap-2"],[1,"text-sm","text-gray-700","font-medium"],["id","plan-sort-select",1,"px-3","py-2","text-sm","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-primary",3,"ngModelChange","change","ngModel"],["value","newest"],["value","oldest"],["value","name-asc"],["value","name-desc"],["id","plan-per-page-select",1,"px-3","py-2","text-sm","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-primary","focus:border-primary",3,"ngModelChange","change","ngModel"],["value","6"],["value","12","selected",""],["value","24"],["value","48"],[1,"ml-auto"],["type","button","id","btn-refresh-plans",1,"inline-flex","items-center","gap-2","px-3","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],["id","plan-list-container",1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-3","min-h-[400px]","items-stretch"],[1,"plan-card","upload-card","bg-gradient-to-br","from-orange-50","to-orange-100","border-2","border-dashed","border-orange-300","hover:border-orange-400","transition-all","duration-200","flex","flex-col"],[1,"flex","flex-col","items-center","justify-center","text-center","flex-1","p-4","min-h-[200px]"],[1,"plan-icon-container","mb-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-orange-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"text-sm","font-bold","text-gray-800","mb-1"],[1,"text-xs","text-gray-600","mb-3","px-2"],[1,"flex","flex-col","items-center","gap-1.5","w-full","px-2"],["id","plan-file-input","type","file","accept",".json,.xlsx,.xls",1,"hidden",3,"change"],["for","plan-file-input",1,"w-full","px-3","py-1.5","bg-orange-500","hover:bg-orange-600","text-white","rounded","cursor-pointer","transition-colors","text-xs","font-semibold","text-center"],["class","w-full px-3 py-1.5 bg-green-500 hover:bg-green-600 text-white rounded transition-colors text-xs font-semibold",3,"click",4,"ngIf"],[1,"text-xs","text-gray-500"],["class","mt-2 text-xs text-gray-600 px-2 w-full",4,"ngIf"],["id","plans-loading-placeholder","class","col-span-full flex items-center justify-center py-12",4,"ngIf"],["class","col-span-full flex items-center justify-center py-12",4,"ngIf"],["class","plan-card flex flex-col cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","mt-6","pt-6","border-t","border-gray-200","gap-4"],["type","button","id","btn-first-page",1,"inline-flex","items-center","justify-center","w-8","h-8","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 19l-7-7 7-7m8 14l-7-7 7-7"],["type","button","id","btn-prev-page",1,"inline-flex","items-center","gap-1","px-3","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-sm","text-gray-600","font-medium"],["id","current-page",1,"font-bold","text-primary"],["id","total-pages",1,"font-bold"],["type","button","id","btn-next-page",1,"inline-flex","items-center","gap-1","px-3","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["type","button","id","btn-last-page",1,"inline-flex","items-center","justify-center","w-8","h-8","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 5l7 7-7 7M5 5l7 7-7 7"],[1,"mb-4","p-3","rounded-lg",3,"ngClass"],["class","animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500",4,"ngIf"],["class","w-4 h-4","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],[1,"text-sm"],[1,"animate-spin","rounded-full","h-4","w-4","border-b-2","border-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-full","px-3","py-1.5","bg-green-500","hover:bg-green-600","text-white","rounded","transition-colors","text-xs","font-semibold",3,"click"],[1,"mt-2","text-xs","text-gray-600","px-2","w-full"],[1,"truncate",3,"title"],[1,"font-medium"],["id","plans-loading-placeholder",1,"col-span-full","flex","items-center","justify-center","py-12"],[1,"text-center"],[1,"inline-block","animate-spin","rounded-full","h-8","w-8","border-4","border-gray-200","border-t-orange-500","mb-2"],[1,"col-span-full","flex","items-center","justify-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","mx-auto","mb-3","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-gray-400","mt-1"],[1,"plan-card","flex","flex-col","cursor-pointer",3,"click"],[1,"px-3","py-4","bg-white","flex-shrink-0","relative","min-h-[180px]"],[1,"absolute","top-2","right-2","z-10"],["title","X\xf3a",1,"p-1","text-gray-400","hover:text-red-500","transition-colors","bg-white/80","rounded",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3.5","h-3.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"flex","flex-col","items-center","justify-center","pt-1","pb-2"],[1,"w-16","h-16","rounded-full","bg-gradient-to-br","from-orange-400","to-orange-600","flex","items-center","justify-center","shadow-lg","mb-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-8","h-8","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"],[1,"font-bold","text-gray-900","text-base","text-center","truncate","w-full","px-2","mb-2",3,"title"],[1,"flex","items-center","gap-1","text-xs","text-gray-500"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3.5","h-3.5","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"],[1,"px-3","py-3","flex-1","flex","flex-col","bg-white","justify-end"],[1,"grid","grid-cols-2","gap-2"],[1,"text-center","p-2","bg-gradient-to-br","from-orange-50","to-orange-100","rounded","border","border-orange-200"],[1,"text-xl","font-bold","text-orange-600","leading-tight"],[1,"text-xs","text-gray-600","mt-0.5"],[1,"text-center","p-2","bg-gradient-to-br","from-purple-50","to-purple-100","rounded","border","border-purple-200"],[1,"text-xl","font-bold","text-purple-600","leading-tight"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),t.EFF(4,"Danh S\xe1ch L\u1ecbch"),t.k0s(),t.j41(5,"p",3),t.EFF(6,"Ch\u1ecdn l\u1ecbch c\xf3 s\u1eb5n ho\u1eb7c t\u1ea1o m\u1edbi \u0111\u1ec3 b\u1eaft \u0111\u1ea7u"),t.k0s()(),t.j41(7,"div",4)(8,"span",5),t.EFF(9),t.k0s()()(),t.DNE(10,V,7,9,"div",6),t.j41(11,"div",7)(12,"div",8)(13,"div",9),t.qSk(),t.j41(14,"svg",10),t.nrm(15,"path",11),t.k0s()(),t.joV(),t.j41(16,"input",12),t.mxI("ngModelChange",function(l){return t.DH7(r.searchQuery,l)||(r.searchQuery=l),l}),t.bIt("input",function(){return r.onSearchChange()}),t.k0s()(),t.j41(17,"div",13)(18,"div",14)(19,"label",15),t.EFF(20,"S\u1eafp x\u1ebfp:"),t.k0s(),t.j41(21,"select",16),t.mxI("ngModelChange",function(l){return t.DH7(r.sortBy,l)||(r.sortBy=l),l}),t.bIt("change",function(){return r.onSortChange()}),t.j41(22,"option",17),t.EFF(23,"M\u1edbi nh\u1ea5t"),t.k0s(),t.j41(24,"option",18),t.EFF(25,"C\u0169 nh\u1ea5t"),t.k0s(),t.j41(26,"option",19),t.EFF(27,"T\xean A-Z"),t.k0s(),t.j41(28,"option",20),t.EFF(29,"T\xean Z-A"),t.k0s()()(),t.j41(30,"div",14)(31,"label",15),t.EFF(32,"Hi\u1ec3n th\u1ecb:"),t.k0s(),t.j41(33,"select",21),t.mxI("ngModelChange",function(l){return t.DH7(r.itemsPerPage,l)||(r.itemsPerPage=l),l}),t.bIt("change",function(){return r.onItemsPerPageChange()}),t.j41(34,"option",22),t.EFF(35,"6 l\u1ecbch"),t.k0s(),t.j41(36,"option",23),t.EFF(37,"12 l\u1ecbch"),t.k0s(),t.j41(38,"option",24),t.EFF(39,"24 l\u1ecbch"),t.k0s(),t.j41(40,"option",25),t.EFF(41,"48 l\u1ecbch"),t.k0s()()(),t.j41(42,"div",26)(43,"button",27),t.bIt("click",function(){return r.loadPlans()}),t.qSk(),t.j41(44,"svg",28),t.nrm(45,"path",29),t.k0s(),t.EFF(46," L\xe0m m\u1edbi "),t.k0s()()()(),t.joV(),t.j41(47,"div",30)(48,"div",31)(49,"div",32)(50,"div",33),t.qSk(),t.j41(51,"svg",34),t.nrm(52,"path",35),t.k0s()(),t.joV(),t.j41(53,"h4",36),t.EFF(54,"T\u1ea1o L\u1ecbch M\u1edbi"),t.k0s(),t.j41(55,"p",37),t.EFF(56,"K\xe9o th\u1ea3 ho\u1eb7c click \u0111\u1ec3 t\u1ea3i l\xean"),t.k0s(),t.j41(57,"div",38)(58,"input",39),t.bIt("change",function(l){return r.onFileSelected(l)}),t.k0s(),t.j41(59,"label",40),t.EFF(60," Ch\u1ecdn File "),t.k0s(),t.DNE(61,z,2,0,"button",41),t.j41(62,"p",42),t.EFF(63,".xlsx, .xls, .json"),t.k0s()(),t.DNE(64,Y,6,3,"div",43),t.k0s()(),t.DNE(65,N,5,0,"div",44)(66,X,8,0,"div",45)(67,L,30,8,"div",46),t.k0s(),t.j41(68,"div",47)(69,"div",14)(70,"button",48),t.bIt("click",function(){return r.goToFirstPage()}),t.qSk(),t.j41(71,"svg",28),t.nrm(72,"path",49),t.k0s()(),t.joV(),t.j41(73,"button",50),t.bIt("click",function(){return r.goToPrevPage()}),t.qSk(),t.j41(74,"svg",28),t.nrm(75,"path",51),t.k0s(),t.EFF(76," Tr\u01b0\u1edbc "),t.k0s()(),t.joV(),t.j41(77,"div",52),t.EFF(78," Trang "),t.j41(79,"span",53),t.EFF(80),t.k0s(),t.EFF(81," / "),t.j41(82,"span",54),t.EFF(83),t.k0s()(),t.j41(84,"div",14)(85,"button",55),t.bIt("click",function(){return r.goToNextPage()}),t.EFF(86," Sau "),t.qSk(),t.j41(87,"svg",28),t.nrm(88,"path",56),t.k0s()(),t.joV(),t.j41(89,"button",57),t.bIt("click",function(){return r.goToLastPage()}),t.qSk(),t.j41(90,"svg",28),t.nrm(91,"path",58),t.k0s()()()()()),2&n&&(t.R7$(9),t.SpI("",r.totalFilteredPlans," l\u1ecbch"),t.R7$(),t.Y8G("ngIf",r.uploadStatus),t.R7$(6),t.R50("ngModel",r.searchQuery),t.R7$(5),t.R50("ngModel",r.sortBy),t.R7$(12),t.R50("ngModel",r.itemsPerPage),t.R7$(28),t.Y8G("ngIf",r.selectedFile),t.R7$(3),t.Y8G("ngIf",r.selectedFile),t.R7$(),t.Y8G("ngIf",r.loading),t.R7$(),t.Y8G("ngIf",!r.loading&&0===r.totalFilteredPlans),t.R7$(),t.Y8G("ngForOf",r.paginatedPlans),t.R7$(3),t.Y8G("disabled",1===r.currentPage),t.R7$(3),t.Y8G("disabled",1===r.currentPage),t.R7$(7),t.JRh(r.currentPage),t.R7$(3),t.JRh(r.totalPages),t.R7$(2),t.Y8G("disabled",r.currentPage===r.totalPages),t.R7$(4),t.Y8G("disabled",r.currentPage===r.totalPages))},dependencies:[d.MD,d.YU,d.Sq,d.bT,d.vh,u.YN,u.xH,u.y7,u.me,u.wz,u.BC,u.vS],styles:[".plan-card[_ngcontent-%COMP%]{min-height:auto!important;height:fit-content}.plan-card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-shrink:0}.plan-card[_ngcontent-%COMP%]   .flex-1[_ngcontent-%COMP%]{min-height:0}#plan-list-container[_ngcontent-%COMP%]{gap:.75rem}.upload-card[_ngcontent-%COMP%]{min-height:auto}.plan-icon-container[_ngcontent-%COMP%]{padding:.5rem;border-radius:.5rem;background:#ffffff4d;backdrop-filter:blur(4px)}@media (max-width: 640px){#plan-list-container[_ngcontent-%COMP%]{gap:.5rem}.plan-card[_ngcontent-%COMP%]{min-height:auto}}.plan-card[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{gap:.5rem}.plan-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.75rem}",'.plan-card[_ngcontent-%COMP%]{display:flex;cursor:pointer;flex-direction:column;overflow:hidden;border-radius:.5rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.plan-card[_ngcontent-%COMP%]:hover{--tw-border-opacity: 1;border-color:rgb(253 186 116 / var(--tw-border-opacity, 1))}.plan-card[_ngcontent-%COMP%]{height:100%;min-height:200px}.plan-card[_ngcontent-%COMP%]:hover{--tw-translate-y: -.125rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.plan-card.selected[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(249 115 22 / var(--tw-border-opacity, 1));--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000);--tw-ring-opacity: 1;--tw-ring-color: rgb(255 237 213 / var(--tw-ring-opacity, 1))}.plan-card-image[_ngcontent-%COMP%]{position:relative;height:12rem;width:100%;overflow:hidden;background-image:linear-gradient(to bottom right,var(--tw-gradient-stops));--tw-gradient-from: #ffedd5 var(--tw-gradient-from-position);--tw-gradient-to: rgb(255 237 213 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #fff7ed var(--tw-gradient-to-position)}.plan-card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:cover}.plan-card-image[_ngcontent-%COMP%]:before{content:"";pointer-events:none;position:absolute;inset:0;background-image:linear-gradient(to top,var(--tw-gradient-stops));--tw-gradient-from: rgb(0 0 0 / .2) var(--tw-gradient-from-position);--tw-gradient-to: rgb(0 0 0 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: transparent var(--tw-gradient-to-position)}.plan-card-badge[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:.75rem;border-radius:9999px;padding:.25rem .75rem;font-size:.75rem;line-height:1.5;letter-spacing:.025em;font-weight:700;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.plan-card-badge.active[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.plan-card-badge.inactive[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.plan-card-content[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;flex-direction:column;padding:1.25rem}.plan-card-title[_ngcontent-%COMP%]{margin-bottom:.5rem;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;min-height:3.5rem;font-size:1.125rem;line-height:1.6;letter-spacing:.01em;font-weight:700;--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.plan-card-meta[_ngcontent-%COMP%]{margin-bottom:1rem;display:flex;flex:1 1 0%;flex-direction:column;gap:.5rem;font-size:.875rem;line-height:1.5;letter-spacing:.025em;--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.plan-card-meta-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.plan-card-meta-item[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:1rem;width:1rem;flex-shrink:0;--tw-text-opacity: 1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.plan-card-stats[_ngcontent-%COMP%]{margin-bottom:.75rem;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.5rem;border-top-width:1px;--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1));padding-top:.75rem;padding-bottom:.75rem}.plan-card-stat[_ngcontent-%COMP%]{text-align:center}.plan-card-stat-value[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.6;letter-spacing:.01em;font-weight:700;--tw-text-opacity: 1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.plan-card-stat-label[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.75rem;line-height:1.5;letter-spacing:.025em;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.plan-card-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.plan-card-btn[_ngcontent-%COMP%]{display:flex;flex:1 1 0%;align-items:center;justify-content:center;gap:.25rem;border-radius:.5rem;padding:.5rem 1rem;font-size:.875rem;line-height:1.5;letter-spacing:.025em;font-weight:600;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.plan-card-btn[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:1rem;width:1rem}.plan-card-btn-primary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.plan-card-btn-primary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(234 88 12 / var(--tw-bg-opacity, 1))}.plan-card-btn-secondary[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.plan-card-btn-secondary[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.upload-card[_ngcontent-%COMP%]{border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.plan-badge[_ngcontent-%COMP%]{background-color:#ffffffe6;--tw-backdrop-blur: blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.plan-icon-container[_ngcontent-%COMP%]{background-color:#fff3;--tw-backdrop-blur: blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}']})}return a})();var q=s(1053),K=s(6368),U=s(467),j=s(5315);const H=(a,i,e)=>({"diff-positive":a,"diff-negative":i,"diff-neutral":e});function Q(a,i){1&a&&(t.qSk(),t.j41(0,"svg",25),t.nrm(1,"path",26),t.k0s())}function W(a,i){1&a&&t.nrm(0,"div",27)}function Z(a,i){if(1&a&&(t.j41(0,"div",28)(1,"div",29)(2,"div",30)(3,"div",31)(4,"div",32),t.EFF(5,"T\u1ed5ng \u0110i\u1ec3m"),t.k0s(),t.j41(6,"div",33),t.EFF(7),t.k0s(),t.j41(8,"div",34),t.EFF(9,"/ 100 \u0111i\u1ec3m"),t.k0s(),t.j41(10,"div",35),t.nrm(11,"div",36),t.k0s(),t.j41(12,"div",37),t.EFF(13),t.k0s()()(),t.j41(14,"div",38)(15,"div",39)(16,"div",40),t.EFF(17,"\u2705"),t.k0s(),t.j41(18,"div",41),t.EFF(19,"Hi\u1ec7u Qu\u1ea3"),t.k0s()(),t.j41(20,"div",42),t.EFF(21),t.k0s(),t.j41(22,"div",43),t.nrm(23,"div",44),t.k0s()(),t.j41(24,"div",38)(25,"div",39)(26,"div",40),t.EFF(27,"\u23f0"),t.k0s(),t.j41(28,"div",41),t.EFF(29,"\u0110\xfang Gi\u1edd"),t.k0s()(),t.j41(30,"div",42),t.EFF(31),t.k0s(),t.j41(32,"div",43),t.nrm(33,"div",44),t.k0s()(),t.j41(34,"div",38)(35,"div",39)(36,"div",40),t.EFF(37,"\u{1f4b0}"),t.k0s(),t.j41(38,"div",41),t.EFF(39,"Chi Ph\xed"),t.k0s()(),t.j41(40,"div",42),t.EFF(41),t.k0s(),t.j41(42,"div",43),t.nrm(43,"div",44),t.k0s()(),t.j41(44,"div",38)(45,"div",39)(46,"div",40),t.EFF(47,"\u{1f3af}"),t.k0s(),t.j41(48,"div",41),t.EFF(49,"Ch\u1ea5t L\u01b0\u1ee3ng"),t.k0s()(),t.j41(50,"div",42),t.EFF(51),t.k0s(),t.j41(52,"div",43),t.nrm(53,"div",44),t.k0s()()()()),2&a){const e=t.XpG();t.R7$(7),t.JRh(e.overallScore),t.R7$(4),t.xc7("width",e.overallScore,"%"),t.R7$(),t.Y8G("ngClass",e.getScoreGradeClass(e.overallScore)),t.R7$(),t.SpI(" ",e.getScoreGrade(e.overallScore)," "),t.R7$(),t.AVh("metric-green",!0),t.R7$(7),t.JRh(e.efficiency),t.R7$(2),t.xc7("width",e.parseFloat(e.efficiency),"%"),t.R7$(),t.AVh("metric-blue",!0),t.R7$(7),t.JRh(e.ontime),t.R7$(2),t.xc7("width",e.parseFloat(e.ontime),"%"),t.R7$(),t.AVh("metric-yellow",!0),t.R7$(7),t.JRh(e.cost),t.R7$(2),t.xc7("width",e.parseFloat(e.cost),"%"),t.R7$(),t.AVh("metric-purple",!0),t.R7$(7),t.JRh(e.quality),t.R7$(2),t.xc7("width",e.parseFloat(e.quality),"%")}}function tt(a,i){if(1&a&&(t.j41(0,"div",78),t.EFF(1),t.k0s()),2&a){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.formula)}}function et(a,i){if(1&a&&(t.j41(0,"span",81),t.EFF(1),t.k0s()),2&a){const e=t.XpG(2).$implicit;t.R7$(),t.Lme(" (",e.diffPercent>=0?"+":"","",e.diffPercent.toFixed(1),"%) ")}}function nt(a,i){if(1&a&&(t.j41(0,"span",79),t.EFF(1),t.DNE(2,et,2,2,"span",80),t.k0s()),2&a){const e=t.XpG().$implicit;t.Y8G("ngClass",t.sMw(3,H,e.diff.startsWith("+")&&!e.inverse,e.diff.startsWith("-")||e.diff.startsWith("+")&&e.inverse,"0"===e.diff)),t.R7$(),t.SpI(" ",e.diff," "),t.R7$(),t.Y8G("ngIf",void 0!==e.diffPercent&&"0"!==e.diff&&"--"!==e.diff)}}function rt(a,i){1&a&&(t.j41(0,"span",82),t.EFF(1,"--"),t.k0s())}function at(a,i){1&a&&(t.j41(0,"span",83),t.EFF(1,"\u2713"),t.k0s())}function ot(a,i){1&a&&(t.j41(0,"span",84),t.EFF(1,"\u2717"),t.k0s())}function it(a,i){1&a&&(t.j41(0,"span",85),t.EFF(1,"\u25cb"),t.k0s())}function lt(a,i){if(1&a&&(t.j41(0,"tr",70)(1,"td",62),t.EFF(2),t.k0s(),t.j41(3,"td",63)(4,"div",71),t.EFF(5),t.k0s(),t.DNE(6,tt,2,1,"div",72),t.k0s(),t.j41(7,"td",64)(8,"span"),t.EFF(9),t.k0s()(),t.j41(10,"td",65)(11,"span"),t.EFF(12),t.k0s()(),t.j41(13,"td",66)(14,"span"),t.EFF(15),t.k0s()(),t.j41(16,"td",67),t.DNE(17,nt,3,7,"span",73)(18,rt,2,0,"span",74),t.k0s(),t.j41(19,"td",68),t.DNE(20,at,2,0,"span",75)(21,ot,2,0,"span",76)(22,it,2,0,"span",77),t.k0s()()),2&a){const e=i.$implicit,n=t.XpG(2);t.AVh("has-data",n.hasActualData),t.BMQ("data-kpi-key",e.kpiKey),t.R7$(2),t.JRh(e.kpiIndex),t.R7$(3),t.JRh(e.kpiName),t.R7$(),t.Y8G("ngIf",e.formula),t.R7$(2),t.AVh("empty",!n.hasActualData||"--"===e.history),t.R7$(),t.SpI(" ",e.history||"--"," "),t.R7$(2),t.AVh("empty",!n.hasActualData||"--"===e.plan),t.R7$(),t.Lme(" ",e.plan,"","--"!==e.plan?" "+e.unit:""," "),t.R7$(2),t.AVh("empty",!n.hasActualData),t.R7$(),t.Lme(" ",e.actual,"","--"!==e.actual?" "+e.unit:""," "),t.R7$(2),t.Y8G("ngIf",n.hasActualData&&"--"!==e.diff),t.R7$(),t.Y8G("ngIf",!n.hasActualData||"--"===e.diff),t.R7$(2),t.Y8G("ngIf",n.hasActualData&&"\u2713"===e.achieved),t.R7$(),t.Y8G("ngIf",n.hasActualData&&"\u2717"===e.achieved),t.R7$(),t.Y8G("ngIf",!n.hasActualData||"\u25cb"===e.achieved)}}function ct(a,i){if(1&a){const e=t.RV6();t.qex(0),t.j41(1,"div",45)(2,"div",46),t.bIt("click",function(){const r=t.eBV(e).$implicit,o=t.XpG();return t.Njj(o.toggleGroup(r.id))}),t.j41(3,"div",47)(4,"div",48),t.EFF(5),t.k0s(),t.j41(6,"div",49)(7,"div",50)(8,"span",51),t.EFF(9),t.k0s(),t.j41(10,"span"),t.EFF(11),t.k0s()(),t.j41(12,"div",52),t.EFF(13),t.k0s()()(),t.j41(14,"div",53)(15,"div",54)(16,"span",55),t.EFF(17),t.k0s(),t.j41(18,"span",56),t.EFF(19),t.k0s()(),t.qSk(),t.j41(20,"svg",57),t.nrm(21,"path",58),t.k0s()()(),t.joV(),t.j41(22,"div",59)(23,"div",60)(24,"table",61)(25,"thead")(26,"tr")(27,"th",62),t.EFF(28,"STT"),t.k0s(),t.j41(29,"th",63),t.EFF(30,"Ch\u1ec9 S\u1ed1 KPI"),t.k0s(),t.j41(31,"th",64),t.EFF(32,"L\u1ecbch S\u1eed"),t.k0s(),t.j41(33,"th",65),t.EFF(34,"K\u1ebf Ho\u1ea1ch"),t.k0s(),t.j41(35,"th",66),t.EFF(36,"Th\u1ef1c T\u1ebf"),t.k0s(),t.j41(37,"th",67),t.EFF(38,"Ch\xeanh L\u1ec7ch"),t.k0s(),t.j41(39,"th",68),t.EFF(40,"Tr\u1ea1ng Th\xe1i"),t.k0s()()(),t.j41(41,"tbody"),t.DNE(42,lt,23,22,"tr",69),t.k0s()()()()(),t.bVm()}if(2&a){const e=i.$implicit,n=t.XpG();t.R7$(),t.Y8G("ngClass","group-"+e.color),t.R7$(4),t.JRh(e.id),t.R7$(4),t.JRh(e.icon),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.description),t.R7$(4),t.JRh(n.getGroupAchievedCount(e.id)),t.R7$(2),t.SpI("/ ",n.getKPIsForGroup(e.id).length,""),t.R7$(),t.AVh("expanded",n.isGroupExpanded(e.id)),t.R7$(2),t.AVh("expanded",n.isGroupExpanded(e.id)),t.R7$(20),t.Y8G("ngForOf",n.getKPIsForGroup(e.id))}}let st=(()=>{class a{planService;canEvaluate=!1;showDashboard=!1;loading=!1;overallScore=0;efficiency="--";ontime="--";cost="--";quality="--";evaluationResults=[];hasActualData=!1;expandedGroups=new Set([1,2,3,4,5,6,7]);kpiGroups=[{id:1,name:"1\ufe0f\u20e3 Hi\u1ec7u qu\u1ea3 khai th\xe1c",icon:"\u{1f4ca}",description:"Utilization & Efficiency",color:"green",kpis:[{name:"T\u1ed5ng s\u1ed1 xe",unit:"xe",key:"total_vehicles",target:null},{name:"T\u1ef7 l\u1ec7 s\u1eed d\u1ee5ng xe",unit:"%",key:"truck_utilization",target:80,formula:"Th\u1eddi gian xe ch\u1ea1y c\xf3 h\xe0ng / T\u1ed5ng th\u1eddi gian s\u1eb5n s\xe0ng"},{name:"T\u1ef7 l\u1ec7 s\u1eed d\u1ee5ng t\u1ea3i tr\u1ecdng",unit:"%",key:"capacity_utilization",target:75,formula:"S\u1ea3n l\u01b0\u1ee3ng th\u1ef1c t\u1ebf / S\u1ee9c ch\u1ee9a thi\u1ebft k\u1ebf"},{name:"N\u0103ng su\u1ea5t",unit:"\u0111\u01a1n/ng\xe0y",key:"throughput",target:null,formula:"T\u1ed5ng \u0111\u01a1n giao + l\u1ea5y / Th\u1eddi gian th\u1ef1c hi\u1ec7n"},{name:"Th\u1eddi gian ch\u1edd",unit:"%",key:"idle_time",target:15,formula:"Th\u1eddi gian xe ch\u1edd / T\u1ed5ng th\u1eddi gian ca",inverse:!0},{name:"S\u1ed1 chuy\u1ebfn / xe",unit:"chuy\u1ebfn/xe",key:"trips_per_truck",target:5}]},{id:2,name:"2\ufe0f\u20e3 \u0110\xfang gi\u1edd & \u0111\u1ed9 tin c\u1eady",icon:"\u23f0",description:"On-time & Reliability",color:"blue",kpis:[{name:"T\u1ef7 l\u1ec7 l\u1ea5y h\xe0ng \u0111\xfang gi\u1edd",unit:"%",key:"ontime_pickup_rate",target:90},{name:"T\u1ef7 l\u1ec7 giao h\xe0ng \u0111\xfang gi\u1edd",unit:"%",key:"ontime_delivery_rate",target:95},{name:"Tu\xe2n th\u1ee7 l\u1ecbch tr\xecnh",unit:"%",key:"schedule_adherence",target:85,formula:"S\u1ed1 \u0111i\u1ec3m check-in \u0111\xfang l\u1ecbch / T\u1ed5ng \u0111i\u1ec3m"},{name:"\u0110\u1ed9 tr\u1ec5 P90",unit:"ph\xfat",key:"p90_delay",target:30,inverse:!0},{name:"\u0110\u1ed9 tr\u1ec5 P95",unit:"ph\xfat",key:"p95_delay",target:45,inverse:!0},{name:"Ph\u01b0\u01a1ng sai th\u1eddi gian \u0111\u1ebfn",unit:"ph\xfat",key:"variance_arrival",target:20,inverse:!0}]},{id:3,name:"3\ufe0f\u20e3 Ch\u1ea5t l\u01b0\u1ee3ng l\u1ecbch t\u1ea3i",icon:"\u{1f3af}",description:"Schedule Quality",color:"purple",kpis:[{name:"T\u1ef7 l\u1ec7 xung \u0111\u1ed9t",unit:"%",key:"conflict_rate",target:5,formula:"Tr\xf9ng gi\u1edd \u2013 tr\xf9ng xe \u2013 tr\xf9ng t\xe0i x\u1ebf",inverse:!0},{name:"T\u1ef7 l\u1ec7 kh\u1ea3 thi",unit:"%",key:"feasibility_rate",target:95,formula:"L\u1ecbch ch\u1ea1y \u0111\u01b0\u1ee3c / L\u1ecbch t\u1ea1o ra"},{name:"T\u1ea7n su\u1ea5t s\u1eafp x\u1ebfp l\u1ea1i",unit:"l\u1ea7n/ng\xe0y",key:"reschedule_freq",target:2,inverse:!0},{name:"Th\u1eddi gian \u0111\u1ec7m",unit:"%",key:"buffer_time",target:80,formula:"Th\u1eddi gian \u0111\u1ec7m / Th\u1eddi gian chu\u1ea9n"}]},{id:4,name:"4\ufe0f\u20e3 Chi ph\xed & hi\u1ec7u qu\u1ea3 kinh t\u1ebf",icon:"\u{1f4b0}",description:"Cost & Economic Efficiency",color:"yellow",kpis:[{name:"Chi ph\xed / \u0111\u01a1n h\xe0ng",unit:"\u0111/\u0111\u01a1n",key:"cost_per_order",target:5e4,inverse:!0},{name:"Chi ph\xed / chuy\u1ebfn",unit:"\u0111/chuy\u1ebfn",key:"cost_per_trip",target:5e5,inverse:!0},{name:"Chi ph\xed nhi\xean li\u1ec7u / km",unit:"\u0111/km",key:"fuel_cost_per_km",target:8e3,inverse:!0},{name:"Chi ph\xed t\u0103ng ca",unit:"%",key:"overtime_cost",target:10,inverse:!0},{name:"Ch\xeanh l\u1ec7ch chi ph\xed",unit:"%",key:"cost_variance",target:5,inverse:!0},{name:"T\u1ef7 l\u1ec7 ch\u1ea1y r\u1ed7ng",unit:"%",key:"empty_run_ratio",target:20,formula:"Km ch\u1ea1y r\u1ed7ng / T\u1ed5ng km",inverse:!0}]},{id:5,name:"5\ufe0f\u20e3 Tr\u1ea3i nghi\u1ec7m v\u1eadn h\xe0nh",icon:"\u{1f477}",description:"Operational Experience",color:"indigo",kpis:[{name:"C\xe2n b\u1eb1ng kh\u1ed1i l\u01b0\u1ee3ng c\xf4ng vi\u1ec7c",unit:"ph\xfat",key:"driver_workload_stddev",target:60,formula:"\u0110\u1ed9 l\u1ec7ch chu\u1ea9n",inverse:!0},{name:"T\u1ef7 l\u1ec7 t\u0103ng ca",unit:"%",key:"overtime_rate",target:15,inverse:!0},{name:"T\u1ef7 l\u1ec7 can thi\u1ec7p th\u1ee7 c\xf4ng",unit:"%",key:"manual_intervention",target:10,inverse:!0},{name:"T\u1ef7 l\u1ec7 ngo\u1ea1i l\u1ec7",unit:"%",key:"exception_rate",target:8,formula:"K\u1eb9t xe, delay, sai \u0111i\u1ec3m, sai tuy\u1ebfn",inverse:!0}]},{id:6,name:"6\ufe0f\u20e3 Kh\u1ea3 n\u0103ng th\xedch \u1ee9ng",icon:"\u{1f504}",description:"Resilience & Scalability",color:"pink",kpis:[{name:"Th\u1eddi gian ph\u1ee5c h\u1ed3i",unit:"ph\xfat",key:"recovery_time",target:30,inverse:!0},{name:"\u0110\u1ed9 \u1ed5n \u0111\u1ecbnh l\u1ecbch",unit:"%",key:"plan_stability",target:80,formula:"% chuy\u1ebfn gi\u1eef nguy\xean khi t\u1ed1i \u01b0u l\u1ea1i"},{name:"X\u1eed l\xfd t\u0103ng \u0111\u1ed9t bi\u1ebfn nhu c\u1ea7u",unit:"%",key:"surge_handling",target:85},{name:"T\u1ef7 l\u1ec7 th\xe0nh c\xf4ng k\u1ecbch b\u1ea3n gi\u1ea3 \u0111\u1ecbnh",unit:"%",key:"whatif_success",target:90}]},{id:7,name:"7\ufe0f\u20e3 Ch\u1ec9 s\u1ed1 t\u1ed5ng h\u1ee3p",icon:"\u2b50",description:"Executive KPI",color:"orange",kpis:[{name:"Ch\u1ec9 s\u1ed1 hi\u1ec7u qu\u1ea3 l\u1ecbch tr\xecnh",unit:"\u0111i\u1ec3m",key:"efficiency_index",target:80,formula:"\u03b1\xb7Hi\u1ec7u qu\u1ea3 + \u03b2\xb7\u0110\xfang gi\u1edd \u2212 \u03b3\xb7Chi ph\xed"},{name:"M\u1ee9c \u0111\u1ed9 \u0111\u1ea1t d\u1ecbch v\u1ee5",unit:"%",key:"service_level",target:90},{name:"C\xe2n b\u1eb1ng chi ph\xed - d\u1ecbch v\u1ee5",unit:"\u0111i\u1ec3m",key:"cost_service_balance",target:75},{name:"\u0110i\u1ec3m t\u1ed5ng th\u1ec3 l\u1ecbch tr\xecnh",unit:"/100",key:"overall_score",target:85}]}];constructor(e){this.planService=e}ngOnInit(){this.checkPlanAvailability(),this.renderSkeletonTable()}renderSkeletonTable(){this.evaluationResults=[],this.kpiGroups.forEach((e,n)=>{e.kpis.forEach((r,o)=>{this.evaluationResults.push({group:e.name,groupId:e.id,groupColor:e.color,kpiIndex:`${n+1}.${o+1}`,kpiKey:r.key,kpiName:r.name,unit:r.unit||"",formula:r.formula||void 0,history:"--",plan:"--",actual:"--",diff:"--",diffPercent:void 0,achieved:"\u25cb",note:r.inverse?"C\xe0ng th\u1ea5p c\xe0ng t\u1ed1t":"C\xe0ng cao c\xe0ng t\u1ed1t",inverse:r.inverse||!1})})}),console.log("[EvaluationComponent] Rendered skeleton table with",this.evaluationResults.length,"KPIs across",this.kpiGroups.length,"groups")}checkPlanAvailability(){try{const e=window.planningState;this.canEvaluate=!(!e?.currentPlan&&!e?.selectedPlan)}catch(e){console.warn("Error checking plan availability:",e),this.canEvaluate=!1}}evaluateSchedule(){var e=this;return(0,U.A)(function*(){if(e.canEvaluate){e.loading=!0,e.showDashboard=!1;try{const n=window.planningState,r=n?.currentPlan||n?.selectedPlan;if(!r)throw new Error("Kh\xf4ng t\xecm th\u1ea5y plan \u0111\u1ec3 \u0111\xe1nh gi\xe1");yield new Promise(l=>setTimeout(l,1e3));const o=e.calculateMetrics(r);e.overallScore=o.overallScore,e.efficiency=o.efficiency+"%",e.ontime=o.ontime+"%",e.cost=o.cost+"%",e.quality=o.quality+"%",e.evaluationResults=e.generateEvaluationResults(r,o),e.hasActualData=!0,e.showDashboard=!0}catch(n){console.error("Error evaluating schedule:",n),alert("L\u1ed7i khi \u0111\xe1nh gi\xe1: "+(n?.message||"Unknown error"))}finally{e.loading=!1}}else alert("Vui l\xf2ng ch\u1ecdn plan tr\u01b0\u1edbc khi \u0111\xe1nh gi\xe1")})()}calculateMetrics(e){if(!e||!e.shifts)return{overallScore:0,efficiency:0,ontime:0,cost:0,quality:0};const n=Array.isArray(e.shifts)?e.shifts:[];let r=0,o=0,l=0,w=0,b=0,h=0,x=0;n.forEach(k=>{const S=Array.isArray(k.vehicles)?k.vehicles:[];r+=S.length,S.forEach(C=>{const T=C.vehicle_payload_capacity_kg||2e3;b+=T;const R=Array.isArray(C.demands)?C.demands:[];o+=R.length;let F=0,P=0,D=!1,E=!0;R.forEach(v=>{P+=v.pickup_weight_kg||0,P-=v.delivery_weight_kg||0,F=Math.max(F,P),P>T&&(D=!0),l+=v.distance_km||0,(!v.expected_checkin_time||!v.expected_checkout_time)&&(E=!1)}),w+=F,!D&&E&&h++,E&&x++})});const c=b>0?Math.round(w/b*100):0,y=r>0?Math.round(h/r*100):0,g=r>0?Math.round(x/r*100):0,m=o>0?l/o:0,p=m>0?Math.max(0,Math.round(100-m/10)):80,_=Math.round((y+g)/2);return{overallScore:Math.round(.25*c+.3*g+.2*p+.25*_),efficiency:c,ontime:g,cost:p,quality:_,totalVehicles:r,totalStops:o,totalDistance:l,feasibility:y}}generateEvaluationResults(e,n){const r=[],w=15e5+3500*n.totalDistance,b={total_vehicles:n.totalVehicles,truck_utilization:n.efficiency,capacity_utilization:n.efficiency,throughput:n.totalStops>0?Math.round(n.totalStops/(n.totalVehicles||1)*10)/10:0,idle_time:Math.max(0,100-n.efficiency),trips_per_truck:n.totalVehicles>0?Math.round(n.totalStops/n.totalVehicles/8*10)/10:0,ontime_pickup_rate:n.ontime,ontime_delivery_rate:n.ontime,schedule_adherence:n.ontime,p90_delay:n.ontime>90?10:30,p95_delay:n.ontime>95?15:45,variance_arrival:n.ontime>90?15:25,conflict_rate:n.feasibility>=95?2:8,feasibility_rate:n.feasibility,reschedule_freq:n.feasibility>=95?1:3,buffer_time:n.efficiency>80?85:70,cost_per_order:n.totalStops>0?Math.round(w/n.totalStops):0,cost_per_trip:n.totalVehicles>0?Math.round(w/n.totalVehicles):0,fuel_cost_per_km:8e3,overtime_cost:n.ontime<90?15:8,cost_variance:n.efficiency>75?3:8,empty_run_ratio:n.efficiency>80?15:25,driver_workload_stddev:n.efficiency>80?45:70,overtime_rate:n.ontime<90?20:12,manual_intervention:n.feasibility>=95?5:15,exception_rate:n.ontime>90?5:12,recovery_time:n.feasibility>=95?20:40,plan_stability:n.feasibility>=95?85:70,surge_handling:n.efficiency>75?88:75,whatif_success:90,efficiency_index:n.overallScore,service_level:n.ontime,cost_service_balance:Math.round((n.cost+n.ontime)/2),overall_score:n.overallScore};return this.kpiGroups.forEach((h,x)=>{h.kpis.forEach((c,y)=>{const g=null!==c.target?c.target:b[c.key]||0,m=b[c.key]||0,p=m-g,_=0!==g?p/g*100:0,O=c.inverse?m<=(c.target||g):m>=(c.target||g),k=p>0?`+${this.formatValue(p,c.unit)}`:p<0?String(this.formatValue(p,c.unit)):"0";r.push({group:h.name,groupId:h.id,groupColor:h.color,kpiIndex:`${x+1}.${y+1}`,kpiKey:c.key,kpiName:c.name,formula:c.formula,unit:c.unit,history:"--",plan:null!==c.target?this.formatValue(g,c.unit):"--",actual:this.formatValue(m,c.unit),diff:k,diffPercent:_,achieved:O?"\u2713":"\u2717",note:c.inverse?"C\xe0ng th\u1ea5p c\xe0ng t\u1ed1t":"C\xe0ng cao c\xe0ng t\u1ed1t",inverse:c.inverse})})}),r}formatValue(e,n){return"string"==typeof e?e:null==e?"N/A":"%"===n||"/100"===n?e.toFixed(1):"\u0111i\u1ec3m"===n||"/100"===n?e.toFixed(0):"number"==typeof e?e>=1e3?e.toLocaleString("vi-VN",{maximumFractionDigits:1}):e.toFixed(1):String(e)}getKPIsForGroup(e){return this.evaluationResults.filter(n=>n.groupId===e)}getGroupBgClass(e){return{green:"bg-green-50",blue:"bg-blue-50",purple:"bg-purple-50",yellow:"bg-yellow-50",indigo:"bg-indigo-50",pink:"bg-pink-50",orange:"bg-orange-50"}[e]||"bg-gray-50"}getGroupBorderClass(e){return{green:"border-green-300",blue:"border-blue-300",purple:"border-purple-300",yellow:"border-yellow-300",indigo:"border-indigo-300",pink:"border-pink-300",orange:"border-orange-300"}[e]||"border-gray-300"}getGroupTextClass(e){return{green:"text-green-900",blue:"text-blue-900",purple:"text-purple-900",yellow:"text-yellow-900",indigo:"text-indigo-900",pink:"text-pink-900",orange:"text-orange-900"}[e]||"text-gray-900"}getGroupTextSecondaryClass(e){return{green:"text-green-600",blue:"text-blue-600",purple:"text-purple-600",yellow:"text-yellow-600",indigo:"text-indigo-600",pink:"text-pink-600",orange:"text-orange-600"}[e]||"text-gray-600"}parseFloat(e){return parseFloat(e)}toggleGroup(e){this.expandedGroups.has(e)?this.expandedGroups.delete(e):this.expandedGroups.add(e)}isGroupExpanded(e){return this.expandedGroups.has(e)}getScoreGrade(e){return e>=90?"Xu\u1ea5t S\u1eafc":e>=80?"T\u1ed1t":e>=70?"Kh\xe1":e>=60?"Trung B\xecnh":"C\u1ea7n C\u1ea3i Thi\u1ec7n"}getScoreGradeClass(e){return e>=90?"grade-excellent":e>=80?"grade-good":e>=70?"grade-fair":e>=60?"grade-average":"grade-poor"}getAchievedCount(){return this.hasActualData?this.evaluationResults.filter(e=>"\u2713"===e.achieved).length:0}getGroupAchievedCount(e){return this.hasActualData?this.getKPIsForGroup(e).filter(n=>"\u2713"===n.achieved).length:0}static \u0275fac=function(n){return new(n||a)(t.rXU(j.J))};static \u0275cmp=t.VBU({type:a,selectors:[["app-evaluation"]],decls:38,vars:10,consts:[[1,"evaluation-container"],[1,"evaluation-header"],[1,"header-content"],[1,"header-left"],[1,"header-icon"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"header-text"],[1,"header-title"],[1,"header-subtitle"],["type","button",1,"evaluate-button",3,"click","disabled"],[1,"button-content"],["class","w-5 h-5","fill","none","stroke","currentColor","viewBox","0 0 24 24",4,"ngIf"],["class","spinner",4,"ngIf"],["class","dashboard-section",4,"ngIf"],[1,"kpi-section"],[1,"kpi-header"],[1,"kpi-title"],[1,"kpi-stats"],[1,"stat-item"],[1,"stat-value"],[1,"stat-label"],[1,"stat-divider"],[1,"kpi-groups-container"],[4,"ngFor","ngForOf"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"],[1,"spinner"],[1,"dashboard-section"],[1,"dashboard-grid"],[1,"score-card-main"],[1,"score-content"],[1,"score-label"],[1,"score-value"],[1,"score-max"],[1,"score-progress"],[1,"score-progress-bar"],[1,"score-grade",3,"ngClass"],[1,"metric-card"],[1,"metric-header"],[1,"metric-icon"],[1,"metric-label"],[1,"metric-value"],[1,"metric-bar"],[1,"metric-bar-fill"],[1,"kpi-group-card",3,"ngClass"],[1,"group-header",3,"click"],[1,"group-header-left"],[1,"group-number"],[1,"group-info"],[1,"group-name"],[1,"group-icon"],[1,"group-description"],[1,"group-header-right"],[1,"group-summary"],[1,"group-achieved"],[1,"group-total"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"group-toggle-icon"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"group-content"],[1,"kpi-table-wrapper"],[1,"kpi-table"],[1,"col-stt"],[1,"col-name"],[1,"col-history"],[1,"col-plan"],[1,"col-actual"],[1,"col-diff"],[1,"col-status"],["class","kpi-row",3,"has-data",4,"ngFor","ngForOf"],[1,"kpi-row"],[1,"kpi-name"],["class","kpi-formula",4,"ngIf"],["class","diff-badge",3,"ngClass",4,"ngIf"],["class","empty",4,"ngIf"],["class","status-badge status-success",4,"ngIf"],["class","status-badge status-fail",4,"ngIf"],["class","status-badge status-pending",4,"ngIf"],[1,"kpi-formula"],[1,"diff-badge",3,"ngClass"],["class","diff-percent",4,"ngIf"],[1,"diff-percent"],[1,"empty"],[1,"status-badge","status-success"],[1,"status-badge","status-fail"],[1,"status-badge","status-pending"]],template:function(n,r){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t.qSk(),t.j41(5,"svg",5),t.nrm(6,"path",6),t.k0s()(),t.joV(),t.j41(7,"div",7)(8,"h2",8),t.EFF(9,"\u0110\xe1nh Gi\xe1 L\u1ecbch T\u1ea3i"),t.k0s(),t.j41(10,"p",9),t.EFF(11,"Ph\xe2n t\xedch hi\u1ec7u su\u1ea5t theo 7 nh\xf3m ti\xeau ch\xed KPI"),t.k0s()()(),t.j41(12,"button",10),t.bIt("click",function(){return r.evaluateSchedule()}),t.j41(13,"span",11),t.DNE(14,Q,2,0,"svg",12)(15,W,1,0,"div",13),t.j41(16,"span"),t.EFF(17),t.k0s()()()()(),t.DNE(18,Z,54,25,"div",14),t.j41(19,"div",15)(20,"div",16)(21,"h3",17),t.EFF(22,"Chi Ti\u1ebft \u0110\xe1nh Gi\xe1 KPI"),t.k0s(),t.j41(23,"div",18)(24,"span",19)(25,"span",20),t.EFF(26),t.k0s(),t.j41(27,"span",21),t.EFF(28,"\u0110\u1ea1t"),t.k0s()(),t.j41(29,"span",22),t.EFF(30,"/"),t.k0s(),t.j41(31,"span",19)(32,"span",20),t.EFF(33),t.k0s(),t.j41(34,"span",21),t.EFF(35,"T\u1ed5ng"),t.k0s()()()(),t.j41(36,"div",23),t.DNE(37,ct,43,12,"ng-container",24),t.k0s()()()),2&n&&(t.R7$(12),t.AVh("disabled",!r.canEvaluate||r.loading),t.Y8G("disabled",!r.canEvaluate||r.loading),t.R7$(2),t.Y8G("ngIf",!r.loading),t.R7$(),t.Y8G("ngIf",r.loading),t.R7$(2),t.JRh(r.loading?"\u0110ang \u0111\xe1nh gi\xe1...":"Th\u1ef1c Hi\u1ec7n \u0110\xe1nh Gi\xe1"),t.R7$(),t.Y8G("ngIf",r.showDashboard),t.R7$(8),t.JRh(r.getAchievedCount()),t.R7$(7),t.JRh(r.evaluationResults.length),t.R7$(4),t.Y8G("ngForOf",r.kpiGroups))},dependencies:[d.MD,d.YU,d.Sq,d.bT],styles:[".evaluation-container[_ngcontent-%COMP%]{overflow:hidden;border-radius:.75rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);border:1px solid #e5e7eb}.evaluation-header[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #2563eb var(--tw-gradient-from-position);--tw-gradient-to: rgb(37 99 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), #3b82f6 var(--tw-gradient-via-position), var(--tw-gradient-to);--tw-gradient-to: #4f46e5 var(--tw-gradient-to-position);padding:1.25rem 1.5rem;background:linear-gradient(135deg,#2563eb,#3b82f6,#4f46e5)}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-icon[_ngcontent-%COMP%]{display:flex;height:3rem;width:3rem;align-items:center;justify-content:center;border-radius:.75rem;background-color:#fff3;--tw-backdrop-blur: blur(4px);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);background:#ffffff26}.header-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.header-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.header-title[_ngcontent-%COMP%]{margin-bottom:.25rem;font-size:1.5rem;line-height:1.5;letter-spacing:.005em;font-weight:700;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.header-subtitle[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5;letter-spacing:.025em;--tw-text-opacity: 1;color:rgb(219 234 254 / var(--tw-text-opacity, 1))}.evaluate-button[_ngcontent-%COMP%]{border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:.75rem 1.5rem;font-weight:600;--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.evaluate-button[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.evaluate-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.evaluate-button[_ngcontent-%COMP%]:hover:disabled{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.evaluate-button.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5}.button-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.spinner[_ngcontent-%COMP%]{display:inline-block;height:1.25rem;width:1.25rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:9999px;border-width:2px;--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1));border-top-color:transparent}.dashboard-section[_ngcontent-%COMP%]{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));background-image:linear-gradient(to bottom right,var(--tw-gradient-stops));--tw-gradient-from: #f9fafb var(--tw-gradient-from-position);--tw-gradient-to: rgb(249 250 251 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #eff6ff var(--tw-gradient-to-position);padding:1.5rem}.dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:1rem}@media (min-width: 768px){.dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 992px){.dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(5,minmax(0,1fr))}}.score-card-main[_ngcontent-%COMP%]{border-radius:.75rem;border-width:2px;--tw-border-opacity: 1;border-color:rgb(147 197 253 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1.5rem;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (min-width: 768px){.score-card-main[_ngcontent-%COMP%]{grid-column:span 2 / span 2}}@media (min-width: 992px){.score-card-main[_ngcontent-%COMP%]{grid-column:span 1 / span 1}}.score-card-main[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff,#f0f9ff)}.score-content[_ngcontent-%COMP%]{text-align:center}.score-label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:.75rem;line-height:1.5;font-weight:600;text-transform:uppercase;letter-spacing:.025em;--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.score-value[_ngcontent-%COMP%]{margin-bottom:.25rem;font-size:3rem;line-height:1.2;letter-spacing:-.01em;font-weight:700;--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.score-max[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:.875rem;line-height:1.5;letter-spacing:.025em;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.score-progress[_ngcontent-%COMP%]{margin-bottom:.75rem;height:.75rem;overflow:hidden;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.score-progress-bar[_ngcontent-%COMP%]{height:100%;background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #60a5fa var(--tw-gradient-from-position);--tw-gradient-to: rgb(96 165 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #4f46e5 var(--tw-gradient-to-position);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:1s;transition-timing-function:cubic-bezier(0,0,.2,1)}.score-grade[_ngcontent-%COMP%]{display:inline-block;border-radius:9999px;padding:.25rem .75rem;font-size:.75rem;line-height:1.5;letter-spacing:.025em;font-weight:600}.score-grade.grade-excellent[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.score-grade.grade-good[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.score-grade.grade-fair[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(161 98 7 / var(--tw-text-opacity, 1))}.score-grade.grade-average[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.score-grade.grade-poor[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.metric-card[_ngcontent-%COMP%]{border-radius:.75rem;border-width:1px;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1rem;--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.metric-card[_ngcontent-%COMP%]:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.metric-card.metric-green[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.metric-card.metric-blue[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.metric-card.metric-yellow[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.metric-card.metric-purple[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.metric-header[_ngcontent-%COMP%]{margin-bottom:.75rem;display:flex;align-items:center;gap:.5rem}.metric-icon[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.6;letter-spacing:.01em}.metric-label[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.5;letter-spacing:.025em;font-weight:600;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.metric-value[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1.5rem;line-height:1.5;letter-spacing:.005em;font-weight:700}.metric-card.metric-green[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.metric-card.metric-blue[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.metric-card.metric-yellow[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(202 138 4 / var(--tw-text-opacity, 1))}.metric-card.metric-purple[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.metric-bar[_ngcontent-%COMP%]{height:.5rem;overflow:hidden;border-radius:9999px;--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.metric-bar-fill[_ngcontent-%COMP%]{height:100%;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:1s;transition-timing-function:cubic-bezier(0,0,.2,1)}.metric-card.metric-green[_ngcontent-%COMP%]   .metric-bar-fill[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #4ade80 var(--tw-gradient-from-position);--tw-gradient-to: rgb(74 222 128 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #16a34a var(--tw-gradient-to-position)}.metric-card.metric-blue[_ngcontent-%COMP%]   .metric-bar-fill[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #60a5fa var(--tw-gradient-from-position);--tw-gradient-to: rgb(96 165 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #2563eb var(--tw-gradient-to-position)}.metric-card.metric-yellow[_ngcontent-%COMP%]   .metric-bar-fill[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #facc15 var(--tw-gradient-from-position);--tw-gradient-to: rgb(250 204 21 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #ca8a04 var(--tw-gradient-to-position)}.metric-card.metric-purple[_ngcontent-%COMP%]   .metric-bar-fill[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--tw-gradient-stops));--tw-gradient-from: #c084fc var(--tw-gradient-from-position);--tw-gradient-to: rgb(192 132 252 / 0) var(--tw-gradient-to-position);--tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);--tw-gradient-to: #9333ea var(--tw-gradient-to-position)}.kpi-section[_ngcontent-%COMP%]{padding:1.5rem}.kpi-header[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:flex;align-items:center;justify-content:space-between}.kpi-title[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.6;letter-spacing:.01em;font-weight:700;--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.kpi-stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.stat-value[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.6;letter-spacing:.01em;font-weight:700;--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.stat-label[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.5;letter-spacing:.025em;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.stat-divider[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:.25rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.kpi-groups-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.kpi-group-card[_ngcontent-%COMP%]{overflow:hidden;border-radius:.75rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.kpi-group-card[_ngcontent-%COMP%]:hover{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.kpi-group-card.group-green[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.kpi-group-card.group-blue[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.kpi-group-card.group-purple[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.kpi-group-card.group-yellow[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.kpi-group-card.group-indigo[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1))}.kpi-group-card.group-pink[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(251 207 232 / var(--tw-border-opacity, 1))}.kpi-group-card.group-orange[_ngcontent-%COMP%]{--tw-border-opacity: 1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.group-header[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center;justify-content:space-between;padding:1rem 1.5rem;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.group-header[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.group-header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.group-number[_ngcontent-%COMP%]{display:flex;height:2.5rem;width:2.5rem;align-items:center;justify-content:center;border-radius:.5rem;font-size:1.125rem;line-height:1.6;letter-spacing:.01em;font-weight:700;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.kpi-group-card.group-green[_ngcontent-%COMP%]   .group-number[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.kpi-group-card.group-blue[_ngcontent-%COMP%]   .group-number[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.kpi-group-card.group-purple[_ngcontent-%COMP%]   .group-number[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}.kpi-group-card.group-yellow[_ngcontent-%COMP%]   .group-number[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.kpi-group-card.group-indigo[_ngcontent-%COMP%]   .group-number[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(99 102 241 / var(--tw-bg-opacity, 1))}.kpi-group-card.group-pink[_ngcontent-%COMP%]   .group-number[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(236 72 153 / var(--tw-bg-opacity, 1))}.kpi-group-card.group-orange[_ngcontent-%COMP%]   .group-number[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.group-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.group-name[_ngcontent-%COMP%]{margin-bottom:.25rem;display:flex;align-items:center;gap:.5rem;font-weight:700;--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.group-icon[_ngcontent-%COMP%]{font-size:1.125rem;line-height:1.6;letter-spacing:.01em}.group-description[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.5;letter-spacing:.025em;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.group-header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.group-summary[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5;letter-spacing:.025em}.group-achieved[_ngcontent-%COMP%]{font-weight:700;--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.group-total[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.group-toggle-icon[_ngcontent-%COMP%]{height:1.25rem;width:1.25rem;--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1));transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.group-toggle-icon.expanded[_ngcontent-%COMP%]{--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group-content[_ngcontent-%COMP%]{max-height:0px;overflow:hidden;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.group-content.expanded[_ngcontent-%COMP%]{max-height:5000px}.kpi-table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.kpi-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.kpi-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.kpi-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding:.75rem 1rem;text-align:left;font-size:.75rem;line-height:1.5;font-weight:600;text-transform:uppercase;letter-spacing:.05em;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.kpi-table[_ngcontent-%COMP%]   .col-stt[_ngcontent-%COMP%]{width:3rem;text-align:center}.kpi-table[_ngcontent-%COMP%]   .col-name[_ngcontent-%COMP%]{width:25%}.kpi-table[_ngcontent-%COMP%]   .col-history[_ngcontent-%COMP%], .kpi-table[_ngcontent-%COMP%]   .col-plan[_ngcontent-%COMP%], .kpi-table[_ngcontent-%COMP%]   .col-actual[_ngcontent-%COMP%]{width:5rem;text-align:center}.kpi-table[_ngcontent-%COMP%]   .col-diff[_ngcontent-%COMP%]{width:6rem;text-align:center}.kpi-table[_ngcontent-%COMP%]   .col-status[_ngcontent-%COMP%]{width:4rem;text-align:center}.kpi-row[_ngcontent-%COMP%]{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.kpi-row[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.kpi-row.has-data[_ngcontent-%COMP%]:hover{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.kpi-name[_ngcontent-%COMP%]{font-weight:500;--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.kpi-formula[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.75rem;line-height:1.5;letter-spacing:.025em;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.kpi-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem 1rem;font-size:.875rem;line-height:1.5;letter-spacing:.025em}.kpi-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.diff-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;border-radius:.375rem;padding:.25rem .5rem;font-size:.75rem;line-height:1.5;letter-spacing:.025em;font-weight:600}.diff-badge.diff-positive[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.diff-badge.diff-negative[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.diff-badge.diff-neutral[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.diff-percent[_ngcontent-%COMP%]{margin-left:.25rem;font-size:.75rem;line-height:1.5;letter-spacing:.025em;opacity:.75}.status-badge[_ngcontent-%COMP%]{display:inline-flex;height:2rem;width:2rem;align-items:center;justify-content:center;border-radius:9999px;font-size:.875rem;line-height:1.5;letter-spacing:.025em;font-weight:700}.status-badge.status-success[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.status-badge.status-fail[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.status-badge.status-pending[_ngcontent-%COMP%]{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.evaluate-button[_ngcontent-%COMP%]{width:100%}.dashboard-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(0,1fr))}.score-card-main[_ngcontent-%COMP%]{grid-column:span 1 / span 1}.kpi-header[_ngcontent-%COMP%], .group-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.group-header-right[_ngcontent-%COMP%]{width:100%;justify-content:space-between}.kpi-table[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.5;letter-spacing:.025em}.kpi-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .kpi-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}"]})}return a})();var dt=s(5623),gt=s(1823);const f=(a,i)=>({"border-primary text-primary":a,"border-transparent text-gray-600 hover:text-gray-800 hover:border-gray-300":i});function pt(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",68),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.switchPlanningTab("preview"))}),t.EFF(1," \u{1f441}\ufe0f Preview "),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("ngClass",t.l_i(1,f,"preview"===e.currentTab,"preview"!==e.currentTab))}}function ut(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",69),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.switchPlanningTab("simulation"))}),t.EFF(1," \u{1f680} Simulation "),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("ngClass",t.l_i(1,f,"simulation"===e.currentTab,"simulation"!==e.currentTab))}}function ht(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",70),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.switchPlanningTab("evaluation"))}),t.EFF(1," \u{1f4c5} Evaluation "),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("ngClass",t.l_i(1,f,"evaluation"===e.currentTab,"evaluation"!==e.currentTab))}}function mt(a,i){if(1&a){const e=t.RV6();t.j41(0,"button",71),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.switchPlanningTab("cost"))}),t.EFF(1," \u{1f4b0} Expenses "),t.k0s()}if(2&a){const e=t.XpG();t.Y8G("ngClass",t.l_i(1,f,"cost"===e.currentTab,"cost"!==e.currentTab))}}function bt(a,i){if(1&a){const e=t.RV6();t.j41(0,"div")(1,"app-plan-selection",72),t.bIt("viewPlan",function(r){t.eBV(e);const o=t.XpG();return t.Njj(o.viewPlan(r))})("deletePlan",function(r){t.eBV(e);const o=t.XpG();return t.Njj(o.deletePlan(r))})("uploadPlan",function(r){t.eBV(e);const o=t.XpG();return t.Njj(o.uploadPlan(r))}),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(),t.Y8G("plans",e.plans)("loading",e.loading)("uploadStatus",e.uploadStatus)}}function ft(a,i){if(1&a&&(t.j41(0,"div"),t.nrm(1,"app-plan-preview",73),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.Y8G("plan",e.currentPlan)("planId",e.selectedPlanId)}}function wt(a,i){if(1&a&&(t.j41(0,"div"),t.nrm(1,"app-trip-simulation",74),t.k0s()),2&a){const e=t.XpG();t.R7$(),t.Y8G("planId",(null==e.currentPlan?null:e.currentPlan.id)||e.selectedPlanId)}}function vt(a,i){1&a&&(t.j41(0,"div"),t.nrm(1,"app-evaluation"),t.k0s())}function xt(a,i){1&a&&(t.j41(0,"div"),t.nrm(1,"app-cost-estimation"),t.k0s())}let yt=(()=>{class a{planService;platformId;cdr;currentTab="selection";currentPlan=null;selectedPlanId=null;plans=[];loading=!1;uploadStatus=null;constructor(e,n,r){this.planService=e,this.platformId=n,this.cdr=r}get hasSelectedPlan(){return!(!this.selectedPlanId&&!this.currentPlan?.id)}ngOnInit(){this.loading=!0,this.loadPlans()}switchPlanningTab(e){if("selection"===e||this.hasSelectedPlan){if(this.currentTab=e,"simulation"===e&&!this.currentPlan?.id&&!this.selectedPlanId)try{const n=window.planningState;n?.selectedPlanId&&(this.selectedPlanId=n.selectedPlanId,n.selectedPlan?this.currentPlan=n.selectedPlan:n.currentPlan&&(this.currentPlan=n.currentPlan),this.cdr.detectChanges())}catch(n){console.warn("Failed to read planningState:",n)}}else console.warn("[PlanComponent] Cannot switch to tab without a selected plan:",e)}close3DModal(){console.log("[PlanComponent] Closing 3D modal")}loadPlans(){this.loading=!0,this.cdr.detectChanges(),this.planService.getPlans({limit:50,offset:0}).subscribe({next:e=>{e.ok&&e.data&&Array.isArray(e.data.data)?(this.plans=e.data.data,console.log("Loaded plans from API:",this.plans)):(console.warn("Invalid response format for plans, falling back to localStorage"),this.loadPlansFromStorage()),this.loading=!1,this.cdr.detectChanges()},error:e=>{console.error("Failed to load plans from API, falling back to localStorage:",e),this.loadPlansFromStorage(),this.loading=!1,this.cdr.detectChanges()}})}loadPlansFromStorage(){if((0,I.UE)(this.platformId))try{const e=localStorage.getItem("plans_v1");e&&(this.plans=JSON.parse(e))}catch(e){console.error("Failed to load plans from storage:",e)}}viewPlan(e){this.selectedPlanId=e,this.currentPlan=null,this.uploadStatus={message:`\u0110ang chuy\u1ec3n t\u1edbi xem tr\u01b0\u1edbc plan ${e}...`,type:"info"};try{window.planningState=window.planningState||{},window.planningState.selectedPlanId=e,window.planningState.selectedPlan={id:e},window.planningState.currentPlan={id:e}}catch(n){console.warn("Failed to update planningState:",n)}this.switchPlanningTab("preview"),this.planService.getPlan(e).subscribe({next:n=>{if(n.ok&&n.data){let r=n.data;for(;r&&r.data;)r=r.data;this.currentPlan=r||{id:e};try{window.planningState=window.planningState||{},window.planningState.selectedPlan=r||{id:e},window.planningState.currentPlan=r||{id:e},window.planningState.selectedPlanId=e}catch(o){console.warn("Failed to update planningState with full plan:",o)}this.cdr.detectChanges()}},error:n=>{console.warn("Failed to load plan details:",n),this.currentPlan={id:e};try{window.planningState=window.planningState||{},window.planningState.selectedPlanId=e,window.planningState.selectedPlan={id:e},window.planningState.currentPlan={id:e}}catch(r){console.warn("Failed to update planningState:",r)}this.cdr.detectChanges()}})}loadPlanFromStorage(e){try{const n=localStorage.getItem("plans_v1");if(n){const o=JSON.parse(n).find(l=>(l.planId||l.id||l.metadata?.createdAt||String(l.createdAt))==e);o&&(this.currentPlan=o,this.switchPlanningTab("preview"))}}catch(n){console.error("Failed to load plan from storage:",n)}}deletePlan(e){confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n x\xf3a plan n\xe0y?")&&((this.selectedPlanId===e||this.currentPlan?.id===e)&&(this.selectedPlanId=null,this.currentPlan=null,this.currentTab="selection"),this.loading=!0,this.uploadStatus={message:`\u0110ang x\xf3a plan ${e}...`,type:"info"},this.cdr.detectChanges(),this.planService.deletePlan(e).subscribe({next:n=>{n.ok?(this.uploadStatus={message:"X\xf3a plan th\xe0nh c\xf4ng",type:"success"},this.loadPlans()):this.uploadStatus={message:"Kh\xf4ng th\u1ec3 x\xf3a plan t\u1eeb API",type:"error"},this.loading=!1,this.cdr.detectChanges()},error:n=>{console.error("Delete error:",n),this.uploadStatus={message:"X\xf3a plan th\u1ea5t b\u1ea1i",type:"error"},this.loading=!1,this.cdr.detectChanges()}}))}uploadPlan(e){if(!e)return;this.loading=!0,this.uploadStatus={message:`\u0110ang upload ${e.name}...`,type:"info"},this.cdr.detectChanges();const n=new FormData;n.append("file",e,e.name),this.planService.uploadPlan(n).subscribe({next:r=>{r.ok?(this.uploadStatus={message:"Import th\xe0nh c\xf4ng",type:"success"},this.loadPlans()):this.uploadStatus={message:"API tr\u1ea3 v\u1ec1 l\u1ed7i: "+(r.data?.message||r.data?.detail||"Import failed"),type:"error"},this.loading=!1,this.cdr.detectChanges()},error:r=>{console.error("Upload error:",r),this.uploadStatus={message:"Upload th\u1ea5t b\u1ea1i",type:"error"},this.loading=!1,this.cdr.detectChanges()}})}static \u0275fac=function(n){return new(n||a)(t.rXU(j.J),t.rXU(t.Agw),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:a,selectors:[["app-plan"]],decls:140,vars:13,consts:[["id","content-plan",1,"tab-content"],["title","Evaluation","subtitle","\u0110\xe1nh gi\xe1 v\xe0 ph\xe2n t\xedch k\u1ebf ho\u1ea1ch v\u1eadn chuy\u1ec3n","icon","\u{1f4ca}"],[1,"w-full","p-6"],[1,"mb-6"],[1,"border-b","border-gray-200"],["aria-label","Planning Tabs",1,"flex","gap-2","-mb-px"],["type","button","id","tab-btn-selection",1,"planning-tab-btn","px-4","py-3","text-sm","font-medium","border-b-2","transition-colors",3,"click","ngClass"],["type","button","id","tab-btn-preview","class","planning-tab-btn px-4 py-3 text-sm font-medium border-b-2 transition-colors",3,"ngClass","click",4,"ngIf"],["type","button","id","tab-btn-simulation","class","planning-tab-btn px-4 py-3 text-sm font-medium border-b-2 transition-colors",3,"ngClass","click",4,"ngIf"],["type","button","id","tab-btn-evaluation","class","planning-tab-btn px-4 py-3 text-sm font-medium border-b-2 transition-colors",3,"ngClass","click",4,"ngIf"],["type","button","id","tab-btn-cost","class","planning-tab-btn px-4 py-3 text-sm font-medium border-b-2 transition-colors",3,"ngClass","click",4,"ngIf"],["id","planning-tab-content",1,"min-h-[600px]"],[4,"ngIf"],["id","route-3d-modal",1,"fixed","inset-0","bg-black","bg-opacity-50","hidden","z-50","flex","items-center","justify-center",2,"display","none"],[1,"bg-white","rounded-xl","shadow-2xl","w-11/12","h-5/6","max-w-7xl","overflow-hidden","flex","flex-col"],[1,"bg-gradient-to-r","from-orange-500","to-orange-600","px-6","py-4","flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"],["id","modal-route-title",1,"text-xl","font-bold","text-white"],["id","modal-route-subtitle",1,"text-sm","text-orange-100"],[1,"text-white","hover:text-orange-200","transition",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"flex-1","flex","overflow-hidden"],[1,"flex-1","relative","bg-gradient-to-br","from-gray-900","to-gray-800"],["id","route-3d-canvas",1,"w-full","h-full"],[1,"absolute","top-4","left-4","bg-white","bg-opacity-90","rounded-lg","shadow-lg","p-3","text-xs","space-y-2"],[1,"font-bold","text-gray-800","mb-2"],[1,"text-gray-600"],[1,"absolute","top-4","right-4","bg-white","bg-opacity-90","rounded-lg","shadow-lg","p-3","min-w-[200px]"],[1,"font-bold","text-gray-800","mb-2","text-sm"],[1,"space-y-1","text-xs"],[1,"flex","justify-between"],["id","stats-total-stops",1,"font-semibold","text-gray-900"],["id","stats-distance",1,"font-semibold","text-gray-900"],["id","stats-avg-speed",1,"font-semibold","text-gray-900"],["id","stats-duration",1,"font-semibold","text-gray-900"],["id","3d-loading",1,"absolute","inset-0","bg-gray-900","bg-opacity-75","flex","items-center","justify-center","hidden"],[1,"text-center"],[1,"inline-block","animate-spin","rounded-full","h-12","w-12","border-4","border-orange-500","border-t-transparent","mb-3"],[1,"text-white","font-medium"],[1,"w-80","bg-gray-50","border-l","border-gray-200","overflow-y-auto"],[1,"p-4"],[1,"font-bold","text-gray-800","mb-3","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["id","route-info-panel",1,"space-y-3"],[1,"bg-white","rounded-lg","border","border-gray-200","p-3"],[1,"text-xs","text-gray-500","mb-1"],["id","info-route-code",1,"font-bold","text-gray-900"],["id","info-date-shift",1,"font-semibold","text-gray-900"],["id","info-vehicle-type",1,"font-semibold","text-gray-900"],[1,"text-xs","text-gray-500","mb-2"],[1,"space-y-1.5"],[1,"flex","justify-between","text-xs"],["id","info-pickup",1,"font-semibold","text-green-600"],["id","info-delivery",1,"font-semibold","text-blue-600"],["id","info-loaded",1,"font-semibold","text-orange-600"],["id","info-drop-rate",1,"font-semibold"],["id","info-ontime-rate",1,"font-semibold"],["id","info-fill-rate",1,"font-semibold"],[1,"mt-4"],[1,"font-bold","text-gray-800","mb-2","text-sm","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],["id","stops-list",1,"space-y-2","max-h-96","overflow-y-auto"],["type","button","id","tab-btn-preview",1,"planning-tab-btn","px-4","py-3","text-sm","font-medium","border-b-2","transition-colors",3,"click","ngClass"],["type","button","id","tab-btn-simulation",1,"planning-tab-btn","px-4","py-3","text-sm","font-medium","border-b-2","transition-colors",3,"click","ngClass"],["type","button","id","tab-btn-evaluation",1,"planning-tab-btn","px-4","py-3","text-sm","font-medium","border-b-2","transition-colors",3,"click","ngClass"],["type","button","id","tab-btn-cost",1,"planning-tab-btn","px-4","py-3","text-sm","font-medium","border-b-2","transition-colors",3,"click","ngClass"],[3,"viewPlan","deletePlan","uploadPlan","plans","loading","uploadStatus"],[3,"plan","planId"],[3,"planId"]],template:function(n,r){1&n&&(t.j41(0,"div",0),t.nrm(1,"app-page-header",1),t.j41(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5)(6,"button",6),t.bIt("click",function(){return r.switchPlanningTab("selection")}),t.EFF(7," \u{1f4cb} Plans "),t.k0s(),t.DNE(8,pt,2,4,"button",7)(9,ut,2,4,"button",8)(10,ht,2,4,"button",9)(11,mt,2,4,"button",10),t.k0s()()(),t.j41(12,"div",11),t.DNE(13,bt,2,3,"div",12)(14,ft,2,2,"div",12)(15,wt,2,1,"div",12)(16,vt,2,0,"div",12)(17,xt,2,0,"div",12),t.k0s()()(),t.j41(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16),t.qSk(),t.j41(22,"svg",17),t.nrm(23,"path",18),t.k0s(),t.joV(),t.j41(24,"div")(25,"h3",19),t.EFF(26,"Ch\u1eb7ng \u0111\u01b0\u1eddng 3D"),t.k0s(),t.j41(27,"p",20),t.EFF(28,"Visualization"),t.k0s()()(),t.j41(29,"button",21),t.bIt("click",function(){return r.close3DModal()}),t.qSk(),t.j41(30,"svg",22),t.nrm(31,"path",23),t.k0s()()(),t.joV(),t.j41(32,"div",24)(33,"div",25),t.nrm(34,"canvas",26),t.j41(35,"div",27)(36,"div",28),t.EFF(37,"\u{1f3ae} \u0110i\u1ec1u khi\u1ec3n"),t.k0s(),t.j41(38,"div",29),t.EFF(39,"\u{1f5b1}\ufe0f K\xe9o chu\u1ed9t: Xoay"),t.k0s(),t.j41(40,"div",29),t.EFF(41,"\u2699\ufe0f Scroll: Zoom"),t.k0s(),t.j41(42,"div",29),t.EFF(43,"\u2328\ufe0f Right-click: Pan"),t.k0s()(),t.j41(44,"div",30)(45,"div",31),t.EFF(46,"\u{1f4ca} Th\u1ed1ng k\xea"),t.k0s(),t.j41(47,"div",32)(48,"div",33)(49,"span",29),t.EFF(50,"T\u1ed5ng \u0111i\u1ec3m:"),t.k0s(),t.j41(51,"span",34),t.EFF(52,"0"),t.k0s()(),t.j41(53,"div",33)(54,"span",29),t.EFF(55,"Kho\u1ea3ng c\xe1ch:"),t.k0s(),t.j41(56,"span",35),t.EFF(57,"0 km"),t.k0s()(),t.j41(58,"div",33)(59,"span",29),t.EFF(60,"V\u1eadn t\u1ed1c TB:"),t.k0s(),t.j41(61,"span",36),t.EFF(62,"0 km/h"),t.k0s()(),t.j41(63,"div",33)(64,"span",29),t.EFF(65,"Th\u1eddi gian \u01b0\u1edbc t\xednh:"),t.k0s(),t.j41(66,"span",37),t.EFF(67,"0h"),t.k0s()()()(),t.j41(68,"div",38)(69,"div",39),t.nrm(70,"div",40),t.j41(71,"p",41),t.EFF(72,"\u0110ang t\u1ea1o 3D visualization..."),t.k0s()()()(),t.j41(73,"div",42)(74,"div",43)(75,"h4",44),t.qSk(),t.j41(76,"svg",45),t.nrm(77,"path",46),t.k0s(),t.EFF(78," Th\xf4ng tin chi ti\u1ebft "),t.k0s(),t.joV(),t.j41(79,"div",47)(80,"div",48)(81,"div",49),t.EFF(82,"M\xe3 l\u1ed9 tr\xecnh"),t.k0s(),t.j41(83,"div",50),t.EFF(84,"-"),t.k0s()(),t.j41(85,"div",48)(86,"div",49),t.EFF(87,"Ng\xe0y & Ca"),t.k0s(),t.j41(88,"div",51),t.EFF(89,"-"),t.k0s()(),t.j41(90,"div",48)(91,"div",49),t.EFF(92,"Lo\u1ea1i xe"),t.k0s(),t.j41(93,"div",52),t.EFF(94,"-"),t.k0s()(),t.j41(95,"div",48)(96,"div",53),t.EFF(97,"S\u1ea3n l\u01b0\u1ee3ng"),t.k0s(),t.j41(98,"div",54)(99,"div",55)(100,"span",29),t.EFF(101,"L\u1ea5y h\xe0ng:"),t.k0s(),t.j41(102,"span",56),t.EFF(103,"0 kg"),t.k0s()(),t.j41(104,"div",55)(105,"span",29),t.EFF(106,"Giao h\xe0ng:"),t.k0s(),t.j41(107,"span",57),t.EFF(108,"0 kg"),t.k0s()(),t.j41(109,"div",55)(110,"span",29),t.EFF(111,"Load l\xean xe:"),t.k0s(),t.j41(112,"span",58),t.EFF(113,"0 kg"),t.k0s()()()(),t.j41(114,"div",48)(115,"div",53),t.EFF(116,"Ch\u1ec9 s\u1ed1 hi\u1ec7u su\u1ea5t"),t.k0s(),t.j41(117,"div",54)(118,"div",55)(119,"span",29),t.EFF(120,"R\u1edbt h\xe0ng:"),t.k0s(),t.j41(121,"span",59),t.EFF(122,"0%"),t.k0s()(),t.j41(123,"div",55)(124,"span",29),t.EFF(125,"On-time:"),t.k0s(),t.j41(126,"span",60),t.EFF(127,"0%"),t.k0s()(),t.j41(128,"div",55)(129,"span",29),t.EFF(130,"L\u1ea5p \u0111\u1ea7y:"),t.k0s(),t.j41(131,"span",61),t.EFF(132,"0%"),t.k0s()()()()(),t.j41(133,"div",62)(134,"h5",63),t.qSk(),t.j41(135,"svg",64),t.nrm(136,"path",65)(137,"path",66),t.k0s(),t.EFF(138," Danh s\xe1ch \u0111i\u1ec3m d\u1eebng "),t.k0s(),t.joV(),t.nrm(139,"div",67),t.k0s()()()()()()),2&n&&(t.R7$(6),t.Y8G("ngClass",t.l_i(10,f,"selection"===r.currentTab,"selection"!==r.currentTab)),t.R7$(2),t.Y8G("ngIf",r.hasSelectedPlan),t.R7$(),t.Y8G("ngIf",r.hasSelectedPlan),t.R7$(),t.Y8G("ngIf",r.hasSelectedPlan),t.R7$(),t.Y8G("ngIf",r.hasSelectedPlan),t.R7$(2),t.Y8G("ngIf","selection"===r.currentTab),t.R7$(),t.Y8G("ngIf","preview"===r.currentTab),t.R7$(),t.Y8G("ngIf","simulation"===r.currentTab),t.R7$(),t.Y8G("ngIf","evaluation"===r.currentTab),t.R7$(),t.Y8G("ngIf","cost"===r.currentTab))},dependencies:[d.MD,d.YU,d.bT,J,q.PlanPreviewComponent,K.TripSimulationComponent,st,dt.CostEstimationComponent,gt.y],encapsulation:2})}return a})()}}]);