"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[2325],{2325:(z,g,o)=>{o.r(g),o.d(g,{DomainCatalogComponent:()=>V});var d=o(2881),m=o(9417),F=o(5207),y=o(1693),p=o(5779),u=o(1141),h=o(491),D=o(935),v=o(2242),f=o(8150),C=o(7722),E=o(6150),A=o(5716),M=o(8542),b=o(7164),R=o(1570),c=o(6221),P=o(1830),I=o(3682),j=o(6627),k=o(5144),L=o(1631),x=o(4827),B=o(2637),S=o(1579),O=o(4799),t=o(1360),w=o(8660),U=o(3356),K=o(1910);const T=(s,l)=>({"p-button-primary":s,"p-button-secondary":l});function W(s,l){1&s&&(t.j41(0,"tr")(1,"th",36),t.EFF(2,"Name "),t.nrm(3,"p-sortIcon",37),t.k0s(),t.j41(4,"th"),t.EFF(5,"Status"),t.k0s(),t.j41(6,"th"),t.EFF(7,"Owner"),t.k0s(),t.j41(8,"th"),t.EFF(9,"Team"),t.k0s(),t.j41(10,"th",38),t.EFF(11,"Data Products"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Actions"),t.k0s()())}function $(s,l){if(1&s){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"div",39),t.nrm(3,"i"),t.j41(4,"div")(5,"a",40),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.viewDomainDetails(i))}),t.EFF(6),t.k0s(),t.j41(7,"p",41),t.EFF(8),t.nI1(9,"slice"),t.k0s()()()(),t.j41(10,"td"),t.nrm(11,"p-tag",42),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td",38),t.nrm(17,"p-badge",43),t.k0s(),t.j41(18,"td")(19,"button",44),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.viewDomainDetails(i))}),t.k0s(),t.j41(20,"button",45),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.viewDomainDataProducts(i))}),t.k0s(),t.j41(21,"button",46),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.showDomainApis(i))}),t.k0s()()()}if(2&s){const e=l.$implicit,a=t.XpG(2);t.R7$(3),t.HbH("pi "+a.getDomainIcon(e.domain_key)+" text-xl text-primary"),t.R7$(3),t.JRh(e.display_name),t.R7$(2),t.SpI("",t.brH(9,9,e.description,0,80),"..."),t.R7$(3),t.Y8G("value",e.status)("severity",a.getStatusSeverity(e.status)),t.R7$(2),t.JRh(e.owner),t.R7$(2),t.JRh(e.team),t.R7$(2),t.Y8G("value",(null==e.data_products?null:e.data_products.length)||0)}}function G(s,l){1&s&&(t.j41(0,"tr")(1,"td",47),t.EFF(2,"No domains found."),t.k0s()())}function X(s,l){if(1&s&&(t.j41(0,"p-table",32),t.DNE(1,W,14,0,"ng-template",33)(2,$,22,13,"ng-template",34)(3,G,3,0,"ng-template",35),t.k0s()),2&s){const e=t.XpG();t.Y8G("value",e.filteredDomains)("loading",e.loading)}}function N(s,l){if(1&s&&(t.j41(0,"div",54)(1,"div",39),t.nrm(2,"i"),t.j41(3,"h3",55),t.EFF(4),t.k0s()(),t.nrm(5,"p-tag",42),t.k0s()),2&s){const e=t.XpG().$implicit,a=t.XpG(2);t.R7$(2),t.HbH("pi "+a.getDomainIcon(e.domain_key)+" text-2xl text-primary"),t.R7$(2),t.JRh(e.display_name),t.R7$(),t.Y8G("value",e.status)("severity",a.getStatusSeverity(e.status))}}function Y(s,l){if(1&s&&(t.j41(0,"div",56)(1,"div",57)(2,"span",58),t.EFF(3,"Owner"),t.k0s(),t.j41(4,"span",59),t.EFF(5),t.k0s()(),t.j41(6,"div",60)(7,"span",58),t.EFF(8,"Data Products"),t.k0s(),t.nrm(9,"p-badge",43),t.k0s()()),2&s){const e=t.XpG().$implicit;t.R7$(5),t.JRh(e.owner),t.R7$(4),t.Y8G("value",(null==e.data_products?null:e.data_products.length)||0)}}function J(s,l){if(1&s){const e=t.RV6();t.j41(0,"div",50)(1,"p-card",51),t.bIt("click",function(){const i=t.eBV(e).$implicit,n=t.XpG(2);return t.Njj(n.viewDomainDetails(i))}),t.DNE(2,N,6,5,"ng-template",33),t.j41(3,"p",52),t.EFF(4),t.k0s(),t.DNE(5,Y,10,2,"ng-template",53),t.k0s()()}if(2&s){const e=l.$implicit;t.R7$(4),t.JRh(e.description)}}function H(s,l){if(1&s&&(t.j41(0,"div",48),t.DNE(1,J,6,1,"div",49),t.k0s()),2&s){const e=t.XpG();t.R7$(),t.Y8G("ngForOf",e.filteredDomains)}}let V=(()=>{class s{dataMeshServices;messageService;loadingService;i18nService;router;confirmationService;domains=[];filteredDomains=[];loading=!1;searchTerm="";viewMode="list";showFilters=!1;filters={status:"",team:""};statusOptions=[];teamOptions=[];stats={totalDomains:0,activeDomains:0,totalDataProducts:0,totalApis:0};selectedDomain=null;showDetailDialog=!1;loadingDetail=!1;showApisDialog=!1;loadingApis=!1;selectedDomainForApis=null;domainApis=[];filteredApis=[];apiSearchTerm="";totalApiCount=0;constructor(e,a,i,n,r,_){this.dataMeshServices=e,this.messageService=a,this.loadingService=i,this.i18nService=n,this.router=r,this.confirmationService=_}ngOnInit(){this.setupFilterOptions(),this.loadDomainsList()}setupFilterOptions(){this.statusOptions=[{label:"All Status",value:""},{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"}]}loadDomainsList(){this.loading=!0,this.loadingService.showPageLoading("Loading domains...","data-flow"),this.dataMeshServices.getDomainCatalog().subscribe({next:e=>{e.success&&e.data?(this.domains=e.data,this.filteredDomains=[...this.domains],this.updateStats(),this.extractTeams(),this.loading=!1,this.loadingService.hide()):this.handleError("Failed to load domains catalog")},error:e=>{console.error("Error loading domains catalog:",e),this.handleError("Failed to load domains catalog")}})}updateStats(){this.stats.totalDomains=this.domains.length,this.stats.activeDomains=this.domains.filter(e=>"Active"===e.status).length,this.stats.totalDataProducts=this.domains.reduce((e,a)=>e+(a.data_products?.length||0),0),this.stats.totalApis=0}extractTeams(){if(this.domains.length>0){const e=[...new Set(this.domains.map(a=>a.team).filter(a=>a&&""!==a.trim()))];this.teamOptions=[{label:"All Teams",value:""},...e.map(a=>({label:a,value:a}))]}}loadDomainDetails(e){this.loadingDetail=!0,this.dataMeshServices.getDomainDetails(e).subscribe({next:a=>{a.success&&a.data?(this.selectedDomain=a.data,this.loadingDetail=!1,this.showDetailDialog=!0):(this.loadingDetail=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load domain details"}))},error:a=>{console.error("Error loading domain details:",a),this.loadingDetail=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load domain details"})}})}showDomainDetails(e){this.loadDomainDetails(e.domain_key)}viewDomainDetails(e){this.router.navigate(["/data-mesh/catalogs",e.domain_key])}closeDomainDetails(){this.showDetailDialog=!1,this.selectedDomain=null}formatDomainName(e){return e.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}handleError(e){this.domains=[],this.filteredDomains=[],this.loading=!1,this.loadingService.hide(),this.messageService.add({severity:"error",summary:"Error",detail:e})}onSearch(){this.applyFilters()}onFilterChange(){this.applyFilters()}toggleFilters(){this.showFilters=!this.showFilters}toggleViewMode(){this.viewMode="list"===this.viewMode?"card":"list"}applyFilters(){this.filteredDomains=this.domains.filter(e=>{const a=this.searchTerm.toLowerCase();return(!this.searchTerm||e.name.toLowerCase().includes(a)||e.display_name.toLowerCase().includes(a)||e.description.toLowerCase().includes(a)||e.domain_key.toLowerCase().includes(a)||e.tags&&e.tags.some(_=>_.toLowerCase().includes(a))||e.team&&e.team.toLowerCase().includes(a)||e.owner&&e.owner.toLowerCase().includes(a))&&(!this.filters.status||e.status===this.filters.status)&&(!this.filters.team||e.team===this.filters.team)})}clearFilters(){this.searchTerm="",this.filters={status:"",team:""},this.filteredDomains=[...this.domains]}trackByDomainKey(e,a){return a.domain_key}getDomainIcon(e){return{application:"pi-desktop",hotel:"pi-building",blogger:"pi-pencil",chat:"pi-comments",files:"pi-folder",inventory:"pi-box",base:"pi-database"}[e.toLowerCase()]||"pi-sitemap"}getStatusSeverity(e){switch(e?.toLowerCase()){case"active":return"success";case"inactive":return"secondary";default:return"info"}}showDomainApis(e){this.selectedDomainForApis=e,this.loadApis(e.domain_key)}viewDomainDataProducts(e){this.router.navigate(["/data-mesh/data-products",e.domain_key])}loadApis(e){this.loadingApis=!0,this.showApisDialog=!0,this.dataMeshServices.getApisByDomain(e,{include_dynamic:!0,size:10,offset:0}).subscribe({next:a=>{a.success&&a.data&&Array.isArray(a.data)?(this.domainApis=a.data,this.filteredApis=[...this.domainApis],this.totalApiCount=this.domainApis.length,this.loadingApis=!1):(this.loadingApis=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load APIs"}))},error:a=>{console.error("Error loading APIs:",a),this.loadingApis=!1,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load APIs"})}})}filterApis(){if(this.apiSearchTerm){const e=this.apiSearchTerm.toLowerCase();this.filteredApis=this.domainApis.filter(a=>a.path.toLowerCase().includes(e)||a.description.toLowerCase().includes(e)||a.method.toLowerCase().includes(e)||a.data_product.toLowerCase().includes(e))}else this.filteredApis=[...this.domainApis]}closeApisDialog(){this.showApisDialog=!1,this.selectedDomainForApis=null,this.domainApis=[],this.filteredApis=[],this.apiSearchTerm=""}static \u0275fac=function(a){return new(a||s)(t.rXU(y.O),t.rXU(p.bg),t.rXU(w.U),t.rXU(U.W),t.rXU(K.Ix),t.rXU(p.td))};static \u0275cmp=t.VBU({type:s,selectors:[["app-domain-catalog"]],features:[t.Jv_([p.bg,p.td])],decls:62,vars:19,consts:[[1,"governance-page-container"],[1,"page-header"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["pButton","","type","button","label","Export","icon","pi pi-download",1,"p-button-secondary"],["pButton","","type","button","label","Create Domain","icon","pi pi-plus"],[1,"stats-grid"],["styleClass","stat-card"],[1,"stat-icon"],[1,"pi","pi-sitemap"],[1,"stat-info"],[1,"stat-label"],[1,"stat-value"],[1,"pi","pi-check-circle"],[1,"pi","pi-box"],[1,"pi","pi-code"],[1,"p-toolbar-group-start"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search domains...",3,"ngModelChange","input","ngModel"],[1,"p-toolbar-group-end"],["placeholder","Status",3,"ngModelChange","onChange","options","ngModel"],["placeholder","Team",3,"ngModelChange","onChange","options","ngModel"],["pButton","","type","button","icon","pi pi-filter-slash","pTooltip","Clear Filters",3,"click"],["layout","vertical"],[1,"p-buttonset"],["pButton","","type","button","icon","pi pi-list",3,"click","ngClass"],["pButton","","type","button","icon","pi pi-th-large",3,"click","ngClass"],["responsiveLayout","scroll",3,"value","loading",4,"ngIf"],["class","grid mt-4",4,"ngIf"],["responsiveLayout","scroll",3,"value","loading"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","display_name"],["field","display_name"],[1,"text-center"],[1,"flex","items-center","gap-3"],[1,"font-semibold","text-primary","hover:underline","cursor-pointer",3,"click"],[1,"text-sm","text-color-secondary"],[3,"value","severity"],["severity","info",3,"value"],["pButton","","pRipple","","icon","pi pi-eye",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-sitemap",1,"p-button-rounded","p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-code",1,"p-button-rounded","p-button-text",3,"click"],["colspan","6",1,"text-center","p-5"],[1,"grid","mt-4"],["class","col-12 md:col-6 lg:col-4",4,"ngFor","ngForOf"],[1,"col-12","md:col-6","lg:col-4"],["styleClass","cursor-pointer h-full",3,"click"],[1,"text-color-secondary","m-0","px-4","pb-4","h-5rem"],["pTemplate","footer"],[1,"flex","justify-between","items-center","p-4","border-bottom-1","surface-border"],[1,"font-bold","text-lg","m-0"],[1,"flex","justify-between","items-center","px-4","pt-4","border-top-1","surface-border"],[1,"flex","flex-col"],[1,"text-xs","text-color-secondary"],[1,"font-medium"],[1,"flex","flex-col","text-right"]],template:function(a,i){1&a&&(t.j41(0,"div",0),t.nrm(1,"p-toast")(2,"p-confirmDialog"),t.j41(3,"div",1)(4,"div")(5,"h1",2),t.EFF(6,"Domain Catalog"),t.k0s(),t.j41(7,"p",3),t.EFF(8,"Explore and manage all data domains across your organization."),t.k0s()(),t.j41(9,"div",4),t.nrm(10,"button",5)(11,"button",6),t.k0s()(),t.j41(12,"div",7)(13,"p-card",8)(14,"div",9),t.nrm(15,"i",10),t.k0s(),t.j41(16,"div",11)(17,"p",12),t.EFF(18,"Total Domains"),t.k0s(),t.j41(19,"p",13),t.EFF(20),t.k0s()()(),t.j41(21,"p-card",8)(22,"div",9),t.nrm(23,"i",14),t.k0s(),t.j41(24,"div",11)(25,"p",12),t.EFF(26,"Active Domains"),t.k0s(),t.j41(27,"p",13),t.EFF(28),t.k0s()()(),t.j41(29,"p-card",8)(30,"div",9),t.nrm(31,"i",15),t.k0s(),t.j41(32,"div",11)(33,"p",12),t.EFF(34,"Total Data Products"),t.k0s(),t.j41(35,"p",13),t.EFF(36),t.k0s()()(),t.j41(37,"p-card",8)(38,"div",9),t.nrm(39,"i",16),t.k0s(),t.j41(40,"div",11)(41,"p",12),t.EFF(42,"Total APIs"),t.k0s(),t.j41(43,"p",13),t.EFF(44),t.k0s()()()(),t.j41(45,"p-card")(46,"p-toolbar")(47,"div",17)(48,"div",18)(49,"span",19),t.nrm(50,"i",20),t.k0s(),t.j41(51,"input",21),t.mxI("ngModelChange",function(r){return t.DH7(i.searchTerm,r)||(i.searchTerm=r),r}),t.bIt("input",function(){return i.onSearch()}),t.k0s()()(),t.j41(52,"div",22)(53,"p-dropdown",23),t.mxI("ngModelChange",function(r){return t.DH7(i.filters.status,r)||(i.filters.status=r),r}),t.bIt("onChange",function(){return i.onFilterChange()}),t.k0s(),t.j41(54,"p-dropdown",24),t.mxI("ngModelChange",function(r){return t.DH7(i.filters.team,r)||(i.filters.team=r),r}),t.bIt("onChange",function(){return i.onFilterChange()}),t.k0s(),t.j41(55,"button",25),t.bIt("click",function(){return i.clearFilters()}),t.k0s(),t.nrm(56,"p-divider",26),t.j41(57,"div",27)(58,"button",28),t.bIt("click",function(){return i.viewMode="list"}),t.k0s(),t.j41(59,"button",29),t.bIt("click",function(){return i.viewMode="card"}),t.k0s()()()(),t.DNE(60,X,4,2,"p-table",30)(61,H,2,1,"div",31),t.k0s()()),2&a&&(t.R7$(20),t.JRh(i.stats.totalDomains),t.R7$(8),t.JRh(i.stats.activeDomains),t.R7$(8),t.JRh(i.stats.totalDataProducts),t.R7$(8),t.JRh(i.stats.totalApis),t.R7$(7),t.R50("ngModel",i.searchTerm),t.R7$(2),t.Y8G("options",i.statusOptions),t.R50("ngModel",i.filters.status),t.R7$(),t.Y8G("options",i.teamOptions),t.R50("ngModel",i.filters.team),t.R7$(4),t.Y8G("ngClass",t.l_i(13,T,"list"===i.viewMode,"list"!==i.viewMode)),t.R7$(),t.Y8G("ngClass",t.l_i(16,T,"card"===i.viewMode,"card"!==i.viewMode)),t.R7$(),t.Y8G("ngIf","list"===i.viewMode),t.R7$(),t.Y8G("ngIf","card"===i.viewMode))},dependencies:[d.MD,d.YU,d.Sq,d.bT,d.P9,m.YN,m.me,m.BC,m.vS,F.iI,u.tm,u._f,p.Ei,h.Dw,h.Zp,D.$C,D.vw,v.um,v.Sm,f.kr,f.ms,C.MB,C.y8,E.EJ,E.Ex,A.k2,M.Ss,M.m_,b.mN,b.cG,R.Ph,c.bG,c.XI,c.Tg,c.yc,P.mE,P.M7,I.JB,j.IP,k.Mk,L.H_,x.P8,B.h6,S.dD,O.FP,O.TM],styles:[".governance-page-container[_ngcontent-%COMP%]{padding:1.5rem;background-color:var(--surface-ground);min-height:100%}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.875rem;font-weight:700;color:var(--text-color);margin:0}.page-subtitle[_ngcontent-%COMP%]{font-size:1rem;color:var(--text-color-secondary);margin-top:.25rem}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:1.5rem}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1.5rem;background-color:var(--surface-card);border-radius:var(--border-radius);border:1px solid var(--surface-border)}.stat-icon[_ngcontent-%COMP%]{font-size:1.75rem;color:var(--primary-color)}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary);margin:0}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--text-color);margin:.25rem 0 0}[_nghost-%COMP%]     .p-toolbar{border-radius:var(--border-radius) var(--border-radius) 0 0;border-bottom:0}[_nghost-%COMP%]     .p-datatable{border-radius:0 0 var(--border-radius) var(--border-radius)}[_nghost-%COMP%]     .p-card{box-shadow:none;border:1px solid var(--surface-border)}"]})}return s})()}}]);