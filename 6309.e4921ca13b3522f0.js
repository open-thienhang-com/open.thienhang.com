"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[6309],{63:(Y,w,m)=>{m.d(w,{TM:()=>C});var e=m(1360),t=m(3491),j=m(6263),I=m(9417);const k=({dt:s})=>`\n.p-textarea {\n    font-family: inherit;\n    font-feature-settings: inherit;\n    font-size: 1rem;\n    color: ${s("textarea.color")};\n    background: ${s("textarea.background")};\n    padding: ${s("textarea.padding.y")} ${s("textarea.padding.x")};\n    border: 1px solid ${s("textarea.border.color")};\n    transition: background ${s("textarea.transition.duration")}, color ${s("textarea.transition.duration")}, border-color ${s("textarea.transition.duration")}, outline-color ${s("textarea.transition.duration")}, box-shadow ${s("textarea.transition.duration")};\n    appearance: none;\n    border-radius: ${s("textarea.border.radius")};\n    outline-color: transparent;\n    box-shadow: ${s("textarea.shadow")};\n}\n\n.p-textarea.ng-invalid.ng-dirty {\n    border-color: ${s("textarea.invalid.border.color")};\n}\n\n.p-textarea:enabled:hover {\n    border-color: ${s("textarea.hover.border.color")};\n}\n\n.p-textarea:enabled:focus {\n    border-color: ${s("textarea.focus.border.color")};\n    box-shadow: ${s("textarea.focus.ring.shadow")};\n    outline: ${s("textarea.focus.ring.width")} ${s("textarea.focus.ring.style")} ${s("textarea.focus.ring.color")};\n    outline-offset: ${s("textarea.focus.ring.offset")};\n}\n\n.p-textarea.p-invalid {\n    border-color: ${s("textarea.invalid.border.color")};\n}\n\n.p-textarea.p-variant-filled {\n    background: ${s("textarea.filled.background")};\n}\n\n.p-textarea.p-variant-filled:enabled:hover {\n    background: ${s("textarea.filled.hover.background")};\n}\n\n.p-textarea.p-variant-filled:enabled:focus {\n    background: ${s("textarea.filled.focus.background")};\n}\n\n.p-textarea:disabled {\n    opacity: 1;\n    background: ${s("textarea.disabled.background")};\n    color: ${s("textarea.disabled.color")};\n}\n\n.p-textarea::placeholder {\n    color: ${s("textarea.placeholder.color")};\n}\n\n.p-textarea.ng-invalid.ng-dirty::placeholder {\n    color: ${s("textarea.invalid.placeholder.color")};\n}\n\n.p-textarea-fluid {\n    width: 100%;\n}\n\n.p-textarea-resizable {\n    overflow: hidden;\n    resize: none;\n}\n\n.p-textarea-sm {\n    font-size: ${s("textarea.sm.font.size")};\n    padding-block: ${s("textarea.sm.padding.y")};\n    padding-inline: ${s("textarea.sm.padding.x")};\n}\n\n.p-textarea-lg {\n    font-size: ${s("textarea.lg.font.size")};\n    padding-block: ${s("textarea.lg.padding.y")};\n    padding-inline: ${s("textarea.lg.padding.x")};\n}\n`,T={root:({instance:s,props:y})=>["p-textarea p-component",{"p-filled":s.filled,"p-textarea-resizable ":y.autoResize,"p-invalid":y.invalid,"p-variant-filled":y.variant?"filled"===y.variant:"filled"===s.config.inputStyle||"filled"===s.config.inputVariant,"p-textarea-fluid":y.fluid}]};let M=(()=>{class s extends j.j{name="textarea";theme=k;classes=T;static \u0275fac=(()=>{let v;return function(f){return(v||(v=e.xGo(s)))(f||s)}})();static \u0275prov=e.jDH({token:s,factory:s.\u0275fac})}return s})(),C=(()=>{class s extends t.${ngModel;control;autoResize;variant;fluid=!1;pSize;onResize=new e.bkB;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;_componentStyle=(0,e.WQX)(M);constructor(v,b){super(),this.ngModel=v,this.control=b}ngOnInit(){super.ngOnInit(),this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}get hasFluid(){const b=this.el.nativeElement.closest("p-fluid");return this.fluid||!!b}ngAfterViewInit(){super.ngAfterViewInit(),this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}ngAfterViewChecked(){this.autoResize&&this.resize()}onInput(v){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(v){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(v||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=function(b){return new(b||s)(e.rXU(I.vS,8),e.rXU(I.vO,8))};static \u0275dir=e.FsC({type:s,selectors:[["","pTextarea",""],["","pInputTextarea",""]],hostAttrs:[1,"p-textarea","p-component"],hostVars:16,hostBindings:function(b,f){1&b&&e.bIt("input",function(E){return f.onInput(E)}),2&b&&e.AVh("p-filled",f.filled)("p-textarea-resizable",f.autoResize)("p-variant-filled","filled"===f.variant||"filled"===f.config.inputStyle()||"filled"===f.config.inputVariant())("p-textarea-fluid",f.hasFluid)("p-textarea-sm","small"===f.pSize)("p-inputfield-sm","small"===f.pSize)("p-textarea-lg","large"===f.pSize)("p-inputfield-lg","large"===f.pSize)},inputs:{autoResize:[2,"autoResize","autoResize",e.L39],variant:"variant",fluid:[2,"fluid","fluid",e.L39],pSize:"pSize"},outputs:{onResize:"onResize"},features:[e.Jv_([M]),e.Vt3]})}return s})()},4827:(Y,w,m)=>{m.d(w,{P8:()=>V,vu:()=>G});var e=m(2881),t=m(1360),j=m(5779),I=m(3491),k=m(2816),T=m(6263);const M=["removeicon"],R=["*"];function C(i,x){if(1&i){const a=t.RV6();t.j41(0,"img",4),t.bIt("error",function(d){t.eBV(a);const u=t.XpG();return t.Njj(u.imageError(d))}),t.k0s()}if(2&i){const a=t.XpG();t.Y8G("src",a.image,t.B4B)("alt",a.alt)}}function S(i,x){if(1&i&&t.nrm(0,"span",6),2&i){const a=t.XpG(2);t.HbH(a.icon),t.Y8G("ngClass","p-chip-icon"),t.BMQ("data-pc-section","icon")}}function s(i,x){if(1&i&&t.DNE(0,S,1,4,"span",5),2&i){const a=t.XpG();t.Y8G("ngIf",a.icon)}}function y(i,x){if(1&i&&(t.j41(0,"div",7),t.EFF(1),t.k0s()),2&i){const a=t.XpG();t.BMQ("data-pc-section","label"),t.R7$(),t.JRh(a.label)}}function v(i,x){if(1&i){const a=t.RV6();t.j41(0,"span",11),t.bIt("click",function(d){t.eBV(a);const u=t.XpG(3);return t.Njj(u.close(d))})("keydown",function(d){t.eBV(a);const u=t.XpG(3);return t.Njj(u.onKeydown(d))}),t.k0s()}if(2&i){const a=t.XpG(3);t.HbH(a.removeIcon),t.Y8G("ngClass","p-chip-remove-icon"),t.BMQ("data-pc-section","removeicon")("aria-label",a.removeAriaLabel)}}function b(i,x){if(1&i){const a=t.RV6();t.j41(0,"TimesCircleIcon",12),t.bIt("click",function(d){t.eBV(a);const u=t.XpG(3);return t.Njj(u.close(d))})("keydown",function(d){t.eBV(a);const u=t.XpG(3);return t.Njj(u.onKeydown(d))}),t.k0s()}if(2&i){const a=t.XpG(3);t.HbH("p-chip-remove-icon"),t.BMQ("data-pc-section","removeicon")("aria-label",a.removeAriaLabel)}}function f(i,x){if(1&i&&(t.qex(0),t.DNE(1,v,1,5,"span",9)(2,b,1,4,"TimesCircleIcon",10),t.bVm()),2&i){const a=t.XpG(2);t.R7$(),t.Y8G("ngIf",a.removeIcon),t.R7$(),t.Y8G("ngIf",!a.removeIcon)}}function D(i,x){}function E(i,x){1&i&&t.DNE(0,D,0,0,"ng-template")}function O(i,x){if(1&i){const a=t.RV6();t.j41(0,"span",13),t.bIt("click",function(d){t.eBV(a);const u=t.XpG(2);return t.Njj(u.close(d))})("keydown",function(d){t.eBV(a);const u=t.XpG(2);return t.Njj(u.onKeydown(d))}),t.DNE(1,E,1,0,null,14),t.k0s()}if(2&i){const a=t.XpG(2);t.BMQ("data-pc-section","removeicon")("aria-label",a.removeAriaLabel),t.R7$(),t.Y8G("ngTemplateOutlet",a.removeIconTemplate||a._removeIconTemplate)}}function N(i,x){if(1&i&&(t.qex(0),t.DNE(1,f,3,2,"ng-container",3)(2,O,2,3,"span",8),t.bVm()),2&i){const a=t.XpG();t.R7$(),t.Y8G("ngIf",!a.removeIconTemplate&&!a._removeIconTemplate),t.R7$(),t.Y8G("ngIf",a.removeIconTemplate||a._removeIconTemplate)}}const z=({dt:i})=>`\n.p-chip {\n    display: inline-flex;\n    align-items: center;\n    background: ${i("chip.background")};\n    color: ${i("chip.color")};\n    border-radius: ${i("chip.border.radius")};\n    padding: ${i("chip.padding.y")} ${i("chip.padding.x")};\n    gap: ${i("chip.gap")};\n}\n\n.p-chip-icon {\n    color: ${i("chip.icon.color")};\n    font-size: ${i("chip.icon.font.size")};\n    width: ${i("chip.icon.size")};\n    height: ${i("chip.icon.size")};\n}\n\n.p-chip-image {\n    border-radius: 50%;\n    width: ${i("chip.image.width")};\n    height: ${i("chip.image.height")};\n    margin-left: calc(-1 * ${i("chip.padding.y")});\n}\n\n.p-chip:has(.p-chip-remove-icon) {\n    padding-inline-end: ${i("chip.padding.y")};\n}\n\n.p-chip:has(.p-chip-image) {\n    padding-top: calc(${i("chip.padding.y")} / 2);\n    padding-bottom: calc(${i("chip.padding.y")} / 2);\n}\n\n.p-chip-remove-icon {\n    cursor: pointer;\n    font-size: ${i("chip.remove.icon.font.size")};\n    width: ${i("chip.remove.icon.size")};\n    height: ${i("chip.remove.icon.size")};\n    color: ${i("chip.remove.icon.color")};\n    border-radius: 50%;\n    transition: outline-color ${i("chip.transition.duration")}, box-shadow ${i("chip.transition.duration")};\n    outline-color: transparent;\n}\n\n.p-chip-remove-icon:focus-visible {\n    box-shadow: ${i("chip.remove.icon.focus.ring.shadow")};\n    outline: ${i("chip.remove.icon.focus.ring.width")} ${i("chip.remove.icon.focus.ring.style")} ${i("chip.remove.icon.focus.ring.color")};\n    outline-offset: ${i("chip.remove.icon.focus.ring.offset")};\n}\n`,P={root:"p-chip p-component",image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"};let F=(()=>{class i extends T.j{name="chip";theme=z;classes=P;static \u0275fac=(()=>{let a;return function(d){return(a||(a=t.xGo(i)))(d||i)}})();static \u0275prov=t.jDH({token:i,factory:i.\u0275fac})}return i})(),G=(()=>{class i extends I.${label;icon;image;alt;style;styleClass;removable=!1;removeIcon;onRemove=new t.bkB;onImageError=new t.bkB;visible=!0;get removeAriaLabel(){return this.config.getTranslation(j.Yj.ARIA).removeLabel}get chipProps(){return this._chipProps}set chipProps(a){this._chipProps=a,a&&"object"==typeof a&&Object.entries(a).forEach(([p,d])=>this[`_${p}`]!==d&&(this[`_${p}`]=d))}_chipProps;_componentStyle=(0,t.WQX)(F);removeIconTemplate;templates;_removeIconTemplate;ngAfterContentInit(){this.templates.forEach(a=>{a.getType(),this._removeIconTemplate=a.template})}ngOnChanges(a){if(super.ngOnChanges(a),a.chipProps&&a.chipProps.currentValue){const{currentValue:p}=a.chipProps;void 0!==p.label&&(this.label=p.label),void 0!==p.icon&&(this.icon=p.icon),void 0!==p.image&&(this.image=p.image),void 0!==p.alt&&(this.alt=p.alt),void 0!==p.style&&(this.style=p.style),void 0!==p.styleClass&&(this.styleClass=p.styleClass),void 0!==p.removable&&(this.removable=p.removable),void 0!==p.removeIcon&&(this.removeIcon=p.removeIcon)}}containerClass(){let a="p-chip p-component";return this.styleClass&&(a+=` ${this.styleClass}`),a}close(a){this.visible=!1,this.onRemove.emit(a)}onKeydown(a){("Enter"===a.key||"Backspace"===a.key)&&this.close(a)}imageError(a){this.onImageError.emit(a)}static \u0275fac=(()=>{let a;return function(d){return(a||(a=t.xGo(i)))(d||i)}})();static \u0275cmp=t.VBU({type:i,selectors:[["p-chip"]],contentQueries:function(p,d,u){if(1&p&&(t.wni(u,M,4),t.wni(u,j.Ei,4)),2&p){let $;t.mGM($=t.lsd())&&(d.removeIconTemplate=$.first),t.mGM($=t.lsd())&&(d.templates=$)}},hostVars:9,hostBindings:function(p,d){2&p&&(t.BMQ("data-pc-name","chip")("aria-label",d.label)("data-pc-section","root"),t.Aen(d.style),t.HbH(d.containerClass()),t.xc7("display",!d.visible&&"none"))},inputs:{label:"label",icon:"icon",image:"image",alt:"alt",style:"style",styleClass:"styleClass",removable:[2,"removable","removable",t.L39],removeIcon:"removeIcon",chipProps:"chipProps"},outputs:{onRemove:"onRemove",onImageError:"onImageError"},features:[t.Jv_([F]),t.Vt3,t.OA$],ngContentSelectors:R,decls:6,vars:4,consts:[["iconTemplate",""],["class","p-chip-image",3,"src","alt","error",4,"ngIf","ngIfElse"],["class","p-chip-label",4,"ngIf"],[4,"ngIf"],[1,"p-chip-image",3,"error","src","alt"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-chip-label"],["tabindex","0","class","p-chip-remove-icon","role","button",3,"click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","ngClass","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"class","click","keydown",4,"ngIf"],["tabindex","0","role","button",3,"click","keydown","ngClass"],["tabindex","0","role","button",3,"click","keydown"],["tabindex","0","role","button",1,"p-chip-remove-icon",3,"click","keydown"],[4,"ngTemplateOutlet"]],template:function(p,d){if(1&p&&(t.NAR(),t.SdG(0),t.DNE(1,C,1,2,"img",1)(2,s,1,1,"ng-template",null,0,t.C5r)(4,y,2,2,"div",2)(5,N,3,2,"ng-container",3)),2&p){const u=t.sdS(3);t.R7$(),t.Y8G("ngIf",d.image)("ngIfElse",u),t.R7$(3),t.Y8G("ngIf",d.label),t.R7$(),t.Y8G("ngIf",d.removable)}},dependencies:[e.MD,e.YU,e.bT,e.T3,k.I,j.Gg],encapsulation:2,changeDetection:0})}return i})(),V=(()=>{class i{static \u0275fac=function(p){return new(p||i)};static \u0275mod=t.$C({type:i});static \u0275inj=t.G2t({imports:[G,j.Gg,j.Gg]})}return i})()},8783:(Y,w,m)=>{m.r(w),m.d(w,{TeamsComponent:()=>U});var e=m(1360),t=m(1141),j=m(1570),I=m(1593),k=m(2242),T=m(9417),M=m(63),R=m(6348),C=m(2881),S=m(6296),s=m(6756),y=m(4299),v=m(5779);const b=()=>({width:"50rem"});function f(r,_){if(1&r&&(e.j41(0,"div",18)(1,"span",19),e.EFF(2),e.k0s()()),2&r){const n=e.XpG();e.R7$(2),e.JRh(n.title)}}function D(r,_){if(1&r&&(e.j41(0,"li",20),e.nrm(1,"i",21),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&r){const n=_.$implicit;e.R7$(3),e.JRh(n.name)}}function E(r,_){if(1&r&&(e.j41(0,"li",20),e.nrm(1,"i",21),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&r){const n=_.$implicit;e.R7$(3),e.JRh(n.name)}}function O(r,_){if(1&r&&(e.j41(0,"li",20),e.nrm(1,"i",21),e.j41(2,"span"),e.EFF(3),e.k0s()()),2&r){const n=_.$implicit;e.R7$(3),e.JRh(n.name)}}function N(r,_){if(1&r){const n=e.RV6();e.j41(0,"p-button",22),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.visible=!1)}),e.k0s(),e.j41(1,"p-button",23),e.bIt("click",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.save())}),e.k0s()}2&r&&(e.Y8G("text",!0),e.R7$(),e.Y8G("outlined",!0))}let z=(()=>{class r extends R.q{injector;governanceServices;onSave=new e.bkB;team={};title="Create Team";visible=!1;members=[];constructor(n,l){super(n),this.injector=n,this.governanceServices=l}save(){(this.team._id?this.governanceServices.updateTeam(this.team._id,this.team):this.governanceServices.createTeam(this.team)).subscribe(l=>{l&&(this.showSuccess(this.team._id?"Updated successfully":"Created successfully"),this.visible=!1,this.team={},this.onSave.emit())})}show(n){this.visible=!0,this.team={},this.loadMembers(),n?(this.title="Edit Team",this.governanceServices.getTeam(n).subscribe(l=>{l&&(this.team=l.data)})):this.title="Create Team"}loadMembers(){this.governanceServices.getUsers({}).subscribe(n=>{this.members=n.data.map(l=>({...l,name:`${l.first_name} ${l.last_name}`}))})}static \u0275fac=function(l){return new(l||r)(e.rXU(e.zZn),e.rXU(y.N))};static \u0275cmp=e.VBU({type:r,selectors:[["app-team"]],outputs:{onSave:"onSave"},features:[e.Vt3],decls:29,vars:12,consts:[["header",""],["footer",""],[3,"visibleChange","visible","modal"],[1,"grid","grid-flow-row","grid-cols-2","gap-4","mt-3"],["variant","on"],["pInputText","","id","name","autocomplete","off",1,"w-full",3,"ngModelChange","ngModel"],["for","name"],["pInputText","","id","owner","autocomplete","off",1,"w-full",3,"ngModelChange","ngModel"],["for","owner"],["pInputText","","id","source","autocomplete","off",1,"w-full",3,"ngModelChange","ngModel"],["for","source"],["variant","on",1,"col-span-2"],["pTextarea","","id","description","rows","3","cols","30",1,"w-full","h-full",2,"resize","none",3,"ngModelChange","ngModel"],["for","description"],["optionLabel","name","filterPlaceholder","Search members","multiple","true","styleClass","w-full","id","members",3,"ngModelChange","ngModel","options","filter"],["pTemplate","item"],["pTemplate","selectedItem"],["for","members"],[1,"inline-flex","items-center","justify-center","gap-2"],[1,"font-bold","whitespace-nowrap"],[1,"flex","items-center","gap-2"],[1,"pi","pi-user"],["label","Cancel","severity","secondary",3,"click","text"],["label","Save","severity","secondary",3,"click","outlined"]],template:function(l,o){if(1&l){const g=e.RV6();e.j41(0,"p-dialog",2),e.mxI("visibleChange",function(c){return e.eBV(g),e.DH7(o.visible,c)||(o.visible=c),e.Njj(c)}),e.DNE(1,f,3,1,"ng-template",null,0,e.C5r),e.j41(3,"div",3)(4,"p-floatlabel",4)(5,"input",5),e.mxI("ngModelChange",function(c){return e.eBV(g),e.DH7(o.team.name,c)||(o.team.name=c),e.Njj(c)}),e.k0s(),e.j41(6,"label",6),e.EFF(7,"Name"),e.k0s()(),e.j41(8,"p-floatlabel",4)(9,"input",7),e.mxI("ngModelChange",function(c){return e.eBV(g),e.DH7(o.team.owner,c)||(o.team.owner=c),e.Njj(c)}),e.k0s(),e.j41(10,"label",8),e.EFF(11,"Owner"),e.k0s()(),e.j41(12,"p-floatlabel",4)(13,"input",9),e.mxI("ngModelChange",function(c){return e.eBV(g),e.DH7(o.team.type,c)||(o.team.type=c),e.Njj(c)}),e.k0s(),e.j41(14,"label",10),e.EFF(15,"Source"),e.k0s()(),e.j41(16,"p-floatlabel",11)(17,"textarea",12),e.mxI("ngModelChange",function(c){return e.eBV(g),e.DH7(o.team.description,c)||(o.team.description=c),e.Njj(c)}),e.k0s(),e.j41(18,"label",13),e.EFF(19,"Description"),e.k0s()(),e.j41(20,"p-floatlabel",11)(21,"p-listbox",14),e.mxI("ngModelChange",function(c){return e.eBV(g),e.DH7(o.team.members,c)||(o.team.members=c),e.Njj(c)}),e.DNE(22,D,4,1,"ng-template",15),e.k0s(),e.DNE(23,E,4,1,"ng-template",15)(24,O,4,1,"ng-template",16),e.j41(25,"label",17),e.EFF(26,"Members"),e.k0s()()(),e.DNE(27,N,2,2,"ng-template",null,1,e.C5r),e.k0s()}2&l&&(e.Aen(e.lJ4(11,b)),e.R50("visible",o.visible),e.Y8G("modal",!0),e.R7$(5),e.R50("ngModel",o.team.name),e.R7$(4),e.R50("ngModel",o.team.owner),e.R7$(4),e.R50("ngModel",o.team.type),e.R7$(4),e.R50("ngModel",o.team.description),e.R7$(4),e.R50("ngModel",o.team.members),e.Y8G("options",o.members)("filter",!0))},dependencies:[t.$n,j.lG,I.VS,k.Sm,T.X1,T.me,T.BC,M.TM,T.YN,T.vS,s.UW,s.WF,v.Ei,C.MD,S.iV],encapsulation:2})}return r})();var P=m(117),F=m(8150),B=m(6150),G=m(6627),V=m(8542);function i(r,_){if(1&r&&(e.j41(0,"div",66)(1,"span",67),e.EFF(2),e.k0s()()),2&r){const n=_.$implicit,l=e.XpG(3);e.R7$(2),e.JRh(l.getMemberInitials(n))}}function x(r,_){if(1&r&&(e.j41(0,"div",68)(1,"span",69),e.EFF(2),e.k0s()()),2&r){const n=e.XpG(2).$implicit;e.R7$(2),e.SpI("+",n.members.length-4,"")}}function a(r,_){1&r&&(e.j41(0,"div",70),e.nrm(1,"p-badge",71),e.k0s())}function p(r,_){if(1&r&&(e.j41(0,"div",59)(1,"div",60)(2,"h4",61),e.EFF(3,"Team Members"),e.k0s(),e.j41(4,"span",50),e.EFF(5),e.k0s()(),e.j41(6,"div",44)(7,"div",62),e.DNE(8,i,3,1,"div",63)(9,x,3,1,"div",64),e.k0s(),e.DNE(10,a,2,0,"div",65),e.k0s()()),2&r){const n=e.XpG().$implicit;e.R7$(5),e.SpI("",n.members.length," total"),e.R7$(3),e.Y8G("ngForOf",n.members.slice(0,4)),e.R7$(),e.Y8G("ngIf",n.members.length>4),e.R7$(),e.Y8G("ngIf",n.owner)}}function d(r,_){1&r&&e.nrm(0,"p-badge",76),2&r&&e.Y8G("value",_.$implicit)}function u(r,_){if(1&r&&e.nrm(0,"p-badge",77),2&r){const n=e.XpG(2).$implicit;e.Y8G("value","+"+(n.permissions.length-3))}}function $(r,_){if(1&r&&(e.j41(0,"div",59)(1,"h4",72),e.EFF(2,"Team Permissions"),e.k0s(),e.j41(3,"div",73),e.DNE(4,d,1,1,"p-badge",74)(5,u,1,1,"p-badge",75),e.k0s()()),2&r){const n=e.XpG().$implicit;e.R7$(4),e.Y8G("ngForOf",n.permissions.slice(0,3)),e.R7$(),e.Y8G("ngIf",n.permissions.length>3)}}function X(r,_){if(1&r){const n=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"div",41)(3,"div",10)(4,"div",6),e.nrm(5,"i",42),e.k0s(),e.j41(6,"div")(7,"h3",43),e.EFF(8),e.k0s(),e.j41(9,"p",18),e.EFF(10),e.k0s()()(),e.j41(11,"div",44),e.nrm(12,"p-badge",45),e.k0s()(),e.j41(13,"p",46),e.EFF(14),e.k0s(),e.j41(15,"div",47)(16,"div",48)(17,"div",49),e.EFF(18),e.k0s(),e.j41(19,"div",50),e.EFF(20,"Members"),e.k0s()(),e.j41(21,"div",48)(22,"div",49),e.EFF(23),e.k0s(),e.j41(24,"div",50),e.EFF(25,"Projects"),e.k0s()()()(),e.DNE(26,p,11,4,"div",51)(27,$,6,2,"div",51),e.j41(28,"div",52)(29,"div",53)(30,"div",44)(31,"p-button",54),e.bIt("click",function(){const o=e.eBV(n).$implicit,g=e.XpG();return e.Njj(g.viewTeam(o))}),e.k0s(),e.j41(32,"p-button",55),e.bIt("click",function(){const o=e.eBV(n).$implicit,g=e.XpG();return e.Njj(g.manageMembers(o))}),e.k0s(),e.j41(33,"p-button",56),e.bIt("click",function(){const o=e.eBV(n).$implicit,g=e.XpG();return e.Njj(g.managePermissions(o))}),e.k0s()(),e.j41(34,"div",44)(35,"p-button",57),e.bIt("click",function(){const o=e.eBV(n).$implicit;e.XpG();const g=e.sdS(77);return e.Njj(g.show(o._id))}),e.k0s(),e.j41(36,"p-button",58),e.bIt("click",function(){const o=e.eBV(n).$implicit,g=e.XpG();return e.Njj(g.deleteTeam(o))}),e.k0s()()()()()}if(2&r){const n=_.$implicit,l=e.XpG();e.R7$(8),e.JRh(n.name),e.R7$(2),e.JRh(n.type||"General"),e.R7$(2),e.Y8G("value",n.status||"Active")("severity",l.getStatusSeverity(n.status)),e.R7$(2),e.JRh(n.description||"No description available"),e.R7$(4),e.JRh((null==n.members?null:n.members.length)||0),e.R7$(5),e.JRh((null==n.projects?null:n.projects.length)||0),e.R7$(3),e.Y8G("ngIf",(null==n.members?null:n.members.length)>0),e.R7$(),e.Y8G("ngIf",(null==n.permissions?null:n.permissions.length)>0),e.R7$(4),e.Y8G("rounded",!0)("text",!0),e.R7$(),e.Y8G("rounded",!0)("text",!0),e.R7$(),e.Y8G("rounded",!0)("text",!0),e.R7$(2),e.Y8G("rounded",!0)("text",!0),e.R7$(),e.Y8G("rounded",!0)("text",!0)}}function A(r,_){if(1&r){const n=e.RV6();e.j41(0,"div",78)(1,"div",79)(2,"div",80),e.nrm(3,"i",81),e.k0s(),e.j41(4,"h3",82),e.EFF(5,"No teams found"),e.k0s(),e.j41(6,"p",83),e.EFF(7,"Create your first team to organize users and manage permissions."),e.k0s(),e.j41(8,"p-button",84),e.bIt("click",function(){e.eBV(n),e.XpG();const o=e.sdS(77);return e.Njj(o.show())}),e.k0s()()()}}function H(r,_){if(1&r){const n=e.RV6();e.j41(0,"div",85)(1,"p-paginator",86),e.bIt("onPageChange",function(o){e.eBV(n);const g=e.XpG();return e.Njj(g.onPageChange(o))}),e.k0s()()}if(2&r){const n=e.XpG();e.R7$(),e.Y8G("rows",n.itemsPerPage)("totalRecords",n.totalRecords)}}let U=(()=>{class r extends R.q{injector;governanceServices;teams=[];filteredTeams=[];totalTeams=0;activeTeams=0;totalMembers=0;projectTeams=0;searchTerm="";selectedType=null;selectedStatus=null;selectedOwner=null;typeOptions=[{label:"Project Team",value:"project"},{label:"Department",value:"department"},{label:"Working Group",value:"working_group"},{label:"Committee",value:"committee"}];statusOptions=[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"},{label:"Archived",value:"archived"}];ownerOptions=[];totalRecords=0;itemsPerPage=12;constructor(n,l){super(n),this.injector=n,this.governanceServices=l}ngOnInit(){this.getTeams(),this.loadOwnerOptions()}getTeams=(n=0)=>{this.isTableLoading=!0,this.governanceServices.getTeams({offset:n,size:this.itemsPerPage}).subscribe(l=>{this.teams=l.data,this.filteredTeams=[...this.teams],this.totalRecords=l.total||this.teams.length,this.calculateStats(),this.isTableLoading=!1})};loadOwnerOptions(){this.governanceServices.getUsers({}).subscribe(n=>{this.ownerOptions=n.data.map(l=>({label:`${l.first_name} ${l.last_name}`,value:l._id}))})}calculateStats(){this.totalTeams=this.teams.length,this.activeTeams=this.teams.filter(n=>"active"===n.status||!n.status).length,this.totalMembers=this.teams.reduce((n,l)=>n+(l.members?.length||0),0),this.projectTeams=this.teams.filter(n=>"project"===n.type).length}filterTeams(){this.filteredTeams=this.teams.filter(n=>(!this.searchTerm||n.name.toLowerCase().includes(this.searchTerm.toLowerCase())||n.description?.toLowerCase().includes(this.searchTerm.toLowerCase()))&&(!this.selectedType||n.type===this.selectedType)&&(!this.selectedStatus||n.status===this.selectedStatus)&&(!this.selectedOwner||n.owner===this.selectedOwner))}refreshTeams(){this.getTeams()}showAnalytics(){console.log("Showing team analytics...")}viewTeam(n){console.log("Viewing team:",n)}manageMembers(n){console.log("Managing members for team:",n)}managePermissions(n){console.log("Managing permissions for team:",n)}deleteTeam(n){this.confirmOnDelete(event,this.governanceServices.deleteTeam(n._id),this.getTeams)}onDeleteTeam(n,l){this.confirmOnDelete(n,this.governanceServices.deleteTeam(l),this.getTeams)}onPageChange(n){this.getTeams(n.page)}getStatusSeverity(n){switch(n?.toLowerCase()){case"active":default:return"success";case"inactive":return"warning";case"archived":return"secondary"}}getMemberInitials(n){return"string"==typeof n?n.substring(0,2).toUpperCase():n.first_name&&n.last_name?(n.first_name[0]+n.last_name[0]).toUpperCase():n.name?n.name.substring(0,2).toUpperCase():"UN"}static \u0275fac=function(l){return new(l||r)(e.rXU(e.zZn),e.rXU(y.N))};static \u0275cmp=e.VBU({type:r,selectors:[["app-teams"]],features:[e.Vt3],decls:78,vars:18,consts:[["teamDetail",""],[1,"bg-gray-50","p-6"],[1,"max-w-7xl","mx-auto"],[1,"mb-8"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-4"],[1,"w-12","h-12","bg-gradient-to-br","from-purple-500","to-pink-600","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-users","text-white","text-xl"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"flex","items-center","gap-3"],["label","Team Analytics","icon","pi pi-chart-bar","severity","secondary",3,"click","outlined"],["label","Create Team","icon","pi pi-plus","severity","primary",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-xl","border","border-gray-200","p-6"],[1,"w-12","h-12","bg-purple-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-users","text-purple-600","text-xl"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-check-circle","text-green-600","text-xl"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-user","text-blue-600","text-xl"],[1,"w-12","h-12","bg-orange-100","rounded-lg","flex","items-center","justify-center"],[1,"pi","pi-briefcase","text-orange-600","text-xl"],[1,"bg-white","rounded-xl","border","border-gray-200","p-6","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"p-input-icon-left","w-full"],[1,"pi","pi-search"],["type","text","pInputText","","placeholder","Search by name, description...",1,"w-full",3,"ngModelChange","input","ngModel"],["placeholder","All Types",1,"w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],["placeholder","All Status",1,"w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],["placeholder","All Owners",1,"w-full",3,"ngModelChange","onChange","options","ngModel","showClear"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-all duration-300",4,"ngFor","ngForOf"],["class","col-span-full",4,"ngIf"],["class","mt-8 flex justify-center",4,"ngIf"],[3,"onSave"],[1,"bg-white","rounded-xl","border","border-gray-200","overflow-hidden","hover:shadow-lg","transition-all","duration-300"],[1,"p-6","border-b","border-gray-200"],[1,"flex","items-start","justify-between","mb-4"],[1,"pi","pi-users","text-white","text-lg"],[1,"font-semibold","text-gray-900"],[1,"flex","items-center","gap-2"],[1,"text-xs",3,"value","severity"],[1,"text-sm","text-gray-600","mb-4"],[1,"grid","grid-cols-2","gap-4"],[1,"text-center","p-3","bg-gray-50","rounded-lg"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-xs","text-gray-500"],["class","p-4 border-b border-gray-200",4,"ngIf"],[1,"p-4"],[1,"flex","items-center","justify-between","gap-2"],["icon","pi pi-eye","severity","info","size","small","pTooltip","View Details",3,"click","rounded","text"],["icon","pi pi-users","severity","secondary","size","small","pTooltip","Manage Members",3,"click","rounded","text"],["icon","pi pi-shield","severity","warning","size","small","pTooltip","Manage Permissions",3,"click","rounded","text"],["icon","pi pi-pencil","severity","secondary","size","small","pTooltip","Edit Team",3,"click","rounded","text"],["icon","pi pi-trash","severity","danger","size","small","pTooltip","Delete Team",3,"click","rounded","text"],[1,"p-4","border-b","border-gray-200"],[1,"flex","items-center","justify-between","mb-3"],[1,"text-sm","font-medium","text-gray-700"],[1,"flex","-space-x-2"],["class","w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center border-2 border-white",4,"ngFor","ngForOf"],["class","w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center border-2 border-white",4,"ngIf"],["class","ml-auto",4,"ngIf"],[1,"w-8","h-8","bg-gradient-to-br","from-blue-500","to-purple-600","rounded-full","flex","items-center","justify-center","border-2","border-white"],[1,"text-white","text-xs","font-medium"],[1,"w-8","h-8","bg-gray-300","rounded-full","flex","items-center","justify-center","border-2","border-white"],[1,"text-gray-600","text-xs"],[1,"ml-auto"],["value","Owner","severity","warning",1,"text-xs"],[1,"text-sm","font-medium","text-gray-700","mb-3"],[1,"flex","flex-wrap","gap-1"],["severity","info","class","text-xs",3,"value",4,"ngFor","ngForOf"],["severity","secondary","class","text-xs",3,"value",4,"ngIf"],["severity","info",1,"text-xs",3,"value"],["severity","secondary",1,"text-xs",3,"value"],[1,"col-span-full"],[1,"bg-white","rounded-xl","border","border-gray-200","p-12","text-center"],[1,"w-16","h-16","bg-gray-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"pi","pi-users","text-gray-400","text-2xl"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],["label","Create First Team","icon","pi pi-plus","severity","primary",3,"click"],[1,"mt-8","flex","justify-center"],[3,"onPageChange","rows","totalRecords"]],template:function(l,o){if(1&l){const g=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6),e.nrm(6,"i",7),e.k0s(),e.j41(7,"div")(8,"h1",8),e.EFF(9,"Team Management"),e.k0s(),e.j41(10,"p",9),e.EFF(11,"Organize users into teams with shared roles and permissions"),e.k0s()()(),e.j41(12,"div",10)(13,"p-button",11),e.bIt("click",function(){return e.eBV(g),e.Njj(o.showAnalytics())}),e.k0s(),e.j41(14,"p-button",12),e.bIt("click",function(){e.eBV(g);const c=e.sdS(77);return e.Njj(c.show())}),e.k0s()()()(),e.j41(15,"div",13)(16,"div",14)(17,"div",5)(18,"div",15),e.nrm(19,"i",16),e.k0s(),e.j41(20,"div")(21,"div",17),e.EFF(22),e.k0s(),e.j41(23,"div",18),e.EFF(24,"Total Teams"),e.k0s()()()(),e.j41(25,"div",14)(26,"div",5)(27,"div",19),e.nrm(28,"i",20),e.k0s(),e.j41(29,"div")(30,"div",17),e.EFF(31),e.k0s(),e.j41(32,"div",18),e.EFF(33,"Active Teams"),e.k0s()()()(),e.j41(34,"div",14)(35,"div",5)(36,"div",21),e.nrm(37,"i",22),e.k0s(),e.j41(38,"div")(39,"div",17),e.EFF(40),e.k0s(),e.j41(41,"div",18),e.EFF(42,"Team Members"),e.k0s()()()(),e.j41(43,"div",14)(44,"div",5)(45,"div",23),e.nrm(46,"i",24),e.k0s(),e.j41(47,"div")(48,"div",17),e.EFF(49),e.k0s(),e.j41(50,"div",18),e.EFF(51,"Project Teams"),e.k0s()()()()(),e.j41(52,"div",25)(53,"div",26)(54,"div")(55,"label",27),e.EFF(56,"Search Teams"),e.k0s(),e.j41(57,"span",28),e.nrm(58,"i",29),e.j41(59,"input",30),e.mxI("ngModelChange",function(c){return e.eBV(g),e.DH7(o.searchTerm,c)||(o.searchTerm=c),e.Njj(c)}),e.bIt("input",function(){return e.eBV(g),e.Njj(o.filterTeams())}),e.k0s()()(),e.j41(60,"div")(61,"label",27),e.EFF(62,"Team Type"),e.k0s(),e.j41(63,"p-dropdown",31),e.mxI("ngModelChange",function(c){return e.eBV(g),e.DH7(o.selectedType,c)||(o.selectedType=c),e.Njj(c)}),e.bIt("onChange",function(){return e.eBV(g),e.Njj(o.filterTeams())}),e.k0s()(),e.j41(64,"div")(65,"label",27),e.EFF(66,"Status"),e.k0s(),e.j41(67,"p-dropdown",32),e.mxI("ngModelChange",function(c){return e.eBV(g),e.DH7(o.selectedStatus,c)||(o.selectedStatus=c),e.Njj(c)}),e.bIt("onChange",function(){return e.eBV(g),e.Njj(o.filterTeams())}),e.k0s()(),e.j41(68,"div")(69,"label",27),e.EFF(70,"Owner"),e.k0s(),e.j41(71,"p-dropdown",33),e.mxI("ngModelChange",function(c){return e.eBV(g),e.DH7(o.selectedOwner,c)||(o.selectedOwner=c),e.Njj(c)}),e.bIt("onChange",function(){return e.eBV(g),e.Njj(o.filterTeams())}),e.k0s()()()(),e.j41(72,"div",34),e.DNE(73,X,37,19,"div",35)(74,A,9,0,"div",36),e.k0s(),e.DNE(75,H,2,2,"div",37),e.k0s()(),e.j41(76,"app-team",38,0),e.bIt("onSave",function(){return e.eBV(g),e.Njj(o.refreshTeams())}),e.k0s()}2&l&&(e.R7$(13),e.Y8G("outlined",!0),e.R7$(9),e.JRh(o.totalTeams||0),e.R7$(9),e.JRh(o.activeTeams||0),e.R7$(9),e.JRh(o.totalMembers||0),e.R7$(9),e.JRh(o.projectTeams||0),e.R7$(10),e.R50("ngModel",o.searchTerm),e.R7$(4),e.Y8G("options",o.typeOptions),e.R50("ngModel",o.selectedType),e.Y8G("showClear",!0),e.R7$(4),e.Y8G("options",o.statusOptions),e.R50("ngModel",o.selectedStatus),e.Y8G("showClear",!0),e.R7$(4),e.Y8G("options",o.ownerOptions),e.R50("ngModel",o.selectedOwner),e.Y8G("showClear",!0),e.R7$(2),e.Y8G("ngForOf",o.filteredTeams),e.R7$(),e.Y8G("ngIf",0===o.filteredTeams.length),e.R7$(),e.Y8G("ngIf",o.filteredTeams.length>0))},dependencies:[C.MD,C.Sq,C.bT,T.YN,T.me,T.BC,T.vS,z,t.$n,P.bG,k.um,k.Sm,F.kr,F.ms,B.EJ,B.Ex,G.IP,G.mg,V.Ss,V.m_],encapsulation:2})}return r})()}}]);