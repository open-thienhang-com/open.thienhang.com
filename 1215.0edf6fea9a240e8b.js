"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[1215],{1215:(m,E,g)=>{g.r(E),g.d(E,{DemandComponent:()=>k});var t=g(1360);let k=(()=>{class l{pickupHourChart=null;deliveryShiftChart=null;ngAfterViewInit(){window.demandComponent=this,setTimeout(()=>{this.initPickupHourChart(),this.initDeliveryShiftChart()},100)}ngOnDestroy(){if(this.pickupHourChart)try{this.pickupHourChart.destroy()}catch{}if(this.deliveryShiftChart)try{this.deliveryShiftChart.destroy()}catch{}window.demandComponent===this&&delete window.demandComponent}initPickupHourChart(){const e=document.getElementById("pickupHourChart");if(!e)return;const o=Array.from({length:24},(n,a)=>`${a}h`),r=Array.from({length:24},()=>Math.floor(100*Math.random())),d=this.generateHourColors();this.pickupHourChart=new Chart(e,{type:"doughnut",data:{labels:o,datasets:[{label:"S\u1ea3n l\u01b0\u1ee3ng l\u1ea5y (kg)",data:r,backgroundColor:d,borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:n=>{const a=n.label||"",u=n.parsed||0,s=n.dataset.data.reduce((c,p)=>c+p,0),h=s>0?(u/s*100).toFixed(1):"0";return`${a}: ${u.toLocaleString()} kg (${h}%)`}}}}}});const i=document.getElementById("pickup-hour-total");if(i){const n=r.reduce((a,u)=>a+u,0);i.textContent=`${n.toLocaleString()} kg`}}initDeliveryShiftChart(){const e=document.getElementById("deliveryShiftChart");if(!e)return;const r=[350,280,420,190];this.deliveryShiftChart=new Chart(e,{type:"doughnut",data:{labels:["S\xe1ng (6-10h)","Tr\u01b0a (10-14h)","Chi\u1ec1u (14-18h)","T\u1ed1i (18-22h)"],datasets:[{label:"S\u1ea3n l\u01b0\u1ee3ng giao (kg)",data:r,backgroundColor:["#FCD34D","#FB923C","#60A5FA","#818CF8"],borderWidth:2,borderColor:"#fff"}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"bottom",labels:{padding:10,font:{size:11},usePointStyle:!0,pointStyle:"circle"}},tooltip:{callbacks:{label:n=>{const a=n.label||"",u=n.parsed||0,s=n.dataset.data.reduce((c,p)=>c+p,0),h=s>0?(u/s*100).toFixed(1):"0";return`${a}: ${u.toLocaleString()} kg (${h}%)`}}}}}});const i=document.getElementById("delivery-shift-total");if(i){const n=r.reduce((a,u)=>a+u,0);i.textContent=`${n.toLocaleString()} kg`}}generateHourColors(){const e=[];for(let o=0;o<24;o++)e.push(`hsl(${200+10*o%360}, ${60+o%3*10}%, ${50+o%5*5}%)`);return e}refreshPickupHourChart(e){if(!this.pickupHourChart||!e||24!==e.length)return;this.pickupHourChart.data.datasets[0].data=e,this.pickupHourChart.update();const o=document.getElementById("pickup-hour-total");if(o){const r=e.reduce((d,i)=>d+i,0);o.textContent=`${r.toLocaleString()} kg`}}refreshDeliveryShiftChart(e){if(!this.deliveryShiftChart||!e||4!==e.length)return;this.deliveryShiftChart.data.datasets[0].data=e,this.deliveryShiftChart.update();const o=document.getElementById("delivery-shift-total");if(o){const r=e.reduce((d,i)=>d+i,0);o.textContent=`${r.toLocaleString()} kg`}}static \u0275fac=function(o){return new(o||l)};static \u0275cmp=t.VBU({type:l,selectors:[["app-demand"]],decls:155,vars:0,consts:[["id","content-demand",1,"tab-content"],[1,"w-full"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6","mb-6"],[1,"flex","items-center","gap-2","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"],[1,"text-lg","font-bold","text-gray-900"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","demand-filter-start-date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-500","focus:border-orange-500"],["type","date","id","demand-filter-end-date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-500","focus:border-orange-500"],["id","demand-filter-province",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-500","focus:border-orange-500"],["value",""],["value","B\xecnh Thu\u1eadn"],["value","H\xe0 N\u1ed9i"],["value","TP.HCM"],["value","\u0110\xe0 N\u1eb5ng"],["id","demand-filter-warehouse",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-orange-500","focus:border-orange-500"],[1,"mt-4","flex","gap-3"],["onclick","window.applyDemandFilters()",1,"px-6","py-2","bg-orange-500","hover:bg-orange-600","text-white","font-medium","rounded-lg","transition-colors"],[1,"flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["onclick","window.resetDemandFilters()",1,"px-6","py-2","bg-gray-200","hover:bg-gray-300","text-gray-700","font-medium","rounded-lg","transition-colors"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-4","mb-6"],[1,"bg-gradient-to-br","from-blue-500","to-blue-600","text-white","p-5","rounded-lg","shadow-lg"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-sm","font-semibold","opacity-90"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"],["id","demand-stat-total-pick",1,"text-3xl","font-bold"],[1,"text-xs","opacity-75","mt-1"],[1,"bg-gradient-to-br","from-green-500","to-green-600","text-white","p-5","rounded-lg","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 14l-7 7m0 0l-7-7m7 7V3"],["id","demand-stat-total-delivery",1,"text-3xl","font-bold"],[1,"bg-gradient-to-br","from-purple-500","to-purple-600","text-white","p-5","rounded-lg","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["id","demand-stat-avg-pick",1,"text-3xl","font-bold"],[1,"bg-gradient-to-br","from-orange-500","to-orange-600","text-white","p-5","rounded-lg","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],["id","demand-stat-avg-delivery",1,"text-3xl","font-bold"],[1,"grid","grid-cols-1","lg:grid-cols-12","gap-6","mb-6"],[1,"lg:col-span-8","space-y-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-bold","text-orange-900"],[1,"text-xs","text-gray-500","mt-1"],["id","chart-description"],[1,"flex","gap-2"],["onclick","window.toggleDemandChartType('bar')","id","demand-btn-chart-bar",1,"px-3","py-1.5","text-xs","font-medium","rounded","bg-orange-500","text-white"],["onclick","window.toggleDemandChartType('line')","id","demand-btn-chart-line",1,"px-3","py-1.5","text-xs","font-medium","rounded","bg-gray-200","text-gray-700"],[2,"position","relative","height","350px","width","100%"],["id","demandChart"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gradient-to-r","from-orange-50","to-orange-100"],[1,"text-xs","text-gray-600","mt-1"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-300"],[1,"bg-gradient-to-r","from-orange-200","to-orange-100"],[1,"px-4","py-3","text-left","text-xs","font-bold","text-orange-900","uppercase"],[1,"px-4","py-3","text-right","text-xs","font-bold","text-orange-900","uppercase"],["id","demand-table-body",1,"bg-white","divide-y","divide-gray-200"],[1,"lg:col-span-4","space-y-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-blue-200","p-5"],[1,"mb-3"],[1,"text-base","font-bold","text-blue-900","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16V4m0 0L3 8m4-4l4 4"],[2,"position","relative","height","280px","width","100%"],["id","pickupHourChart"],[1,"mt-3","text-xs","text-gray-500","text-center"],["id","pickup-hour-total",1,"font-semibold","text-blue-700"],[1,"bg-white","rounded-lg","shadow-sm","border","border-green-200","p-5"],[1,"text-base","font-bold","text-green-900","flex","items-center","gap-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-green-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 14l-7 7m0 0l-7-7"],["id","deliveryShiftChart"],["id","delivery-shift-total",1,"font-semibold","text-green-700"]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.qSk(),t.j41(4,"svg",4),t.nrm(5,"path",5),t.k0s(),t.joV(),t.j41(6,"h2",6),t.EFF(7,"B\u1ed9 L\u1ecdc"),t.k0s()(),t.j41(8,"div",7)(9,"div")(10,"label",8),t.EFF(11,"Ng\xe0y B\u1eaft \u0110\u1ea7u"),t.k0s(),t.nrm(12,"input",9),t.k0s(),t.j41(13,"div")(14,"label",8),t.EFF(15,"Ng\xe0y K\u1ebft Th\xfac"),t.k0s(),t.nrm(16,"input",10),t.k0s(),t.j41(17,"div")(18,"label",8),t.EFF(19,"V\xf9ng"),t.k0s(),t.j41(20,"select",11)(21,"option",12),t.EFF(22,"T\u1ea5t c\u1ea3 v\xf9ng"),t.k0s(),t.j41(23,"option",13),t.EFF(24,"B\xecnh Thu\u1eadn"),t.k0s(),t.j41(25,"option",14),t.EFF(26,"H\xe0 N\u1ed9i"),t.k0s(),t.j41(27,"option",15),t.EFF(28,"TP.HCM"),t.k0s(),t.j41(29,"option",16),t.EFF(30,"\u0110\xe0 N\u1eb5ng"),t.k0s()()(),t.j41(31,"div")(32,"label",8),t.EFF(33,"B\u01b0u C\u1ee5c"),t.k0s(),t.j41(34,"select",17)(35,"option",12),t.EFF(36,"T\u1ea5t c\u1ea3 b\u01b0u c\u1ee5c"),t.k0s()()()(),t.j41(37,"div",18)(38,"button",19)(39,"span",20),t.qSk(),t.j41(40,"svg",21),t.nrm(41,"path",22),t.k0s(),t.EFF(42," \xc1p D\u1ee5ng "),t.k0s()(),t.joV(),t.j41(43,"button",23),t.EFF(44," \u0110\u1eb7t L\u1ea1i "),t.k0s()()(),t.j41(45,"div",24)(46,"div",25)(47,"div",26)(48,"span",27),t.EFF(49,"T\u1ed5ng L\u1ea5y"),t.k0s(),t.qSk(),t.j41(50,"svg",28),t.nrm(51,"path",29),t.k0s()(),t.joV(),t.j41(52,"div",30),t.EFF(53,"0"),t.k0s(),t.j41(54,"div",31),t.EFF(55,"kg"),t.k0s()(),t.j41(56,"div",32)(57,"div",26)(58,"span",27),t.EFF(59,"T\u1ed5ng Giao"),t.k0s(),t.qSk(),t.j41(60,"svg",28),t.nrm(61,"path",33),t.k0s()(),t.joV(),t.j41(62,"div",34),t.EFF(63,"0"),t.k0s(),t.j41(64,"div",31),t.EFF(65,"kg"),t.k0s()(),t.j41(66,"div",35)(67,"div",26)(68,"span",27),t.EFF(69,"TB L\u1ea5y/Ng\xe0y"),t.k0s(),t.qSk(),t.j41(70,"svg",28),t.nrm(71,"path",36),t.k0s()(),t.joV(),t.j41(72,"div",37),t.EFF(73,"0"),t.k0s(),t.j41(74,"div",31),t.EFF(75,"kg/ng\xe0y"),t.k0s()(),t.j41(76,"div",38)(77,"div",26)(78,"span",27),t.EFF(79,"TB Giao/Ng\xe0y"),t.k0s(),t.qSk(),t.j41(80,"svg",28),t.nrm(81,"path",39),t.k0s()(),t.joV(),t.j41(82,"div",40),t.EFF(83,"0"),t.k0s(),t.j41(84,"div",31),t.EFF(85,"kg/ng\xe0y"),t.k0s()()(),t.j41(86,"div",41)(87,"div",42)(88,"div",43)(89,"div",44)(90,"div")(91,"h2",45),t.EFF(92,"\u{1f4ca} Bi\u1ec3u \u0110\u1ed3 S\u1ea3n L\u01b0\u1ee3ng theo B\u01b0u C\u1ee5c"),t.k0s(),t.j41(93,"p",46)(94,"span",47),t.EFF(95,"Hi\u1ec3n th\u1ecb t\u1ed5ng s\u1ea3n l\u01b0\u1ee3ng l\u1ea5y/giao theo b\u01b0u c\u1ee5c (Top 10)"),t.k0s()()(),t.j41(96,"div",48)(97,"button",49),t.EFF(98," C\u1ed9t "),t.k0s(),t.j41(99,"button",50),t.EFF(100," \u0110\u01b0\u1eddng "),t.k0s()()(),t.j41(101,"div",51),t.nrm(102,"canvas",52),t.k0s()(),t.j41(103,"div",53)(104,"div",54)(105,"h2",45),t.EFF(106,"\u{1f4cb} Chi Ti\u1ebft S\u1ea3n L\u01b0\u1ee3ng theo B\u01b0u C\u1ee5c"),t.k0s(),t.j41(107,"p",55),t.EFF(108,"D\u1eef li\u1ec7u chi ti\u1ebft cho t\u1ea5t c\u1ea3 b\u01b0u c\u1ee5c trong kho\u1ea3ng th\u1eddi gian \u0111\xe3 ch\u1ecdn"),t.k0s()(),t.j41(109,"div",56)(110,"table",57)(111,"thead",58)(112,"tr")(113,"th",59),t.EFF(114,"B\u01b0u C\u1ee5c"),t.k0s(),t.j41(115,"th",60),t.EFF(116,"T\u1ed5ng L\u1ea5y"),t.k0s(),t.j41(117,"th",60),t.EFF(118,"T\u1ed5ng Giao"),t.k0s(),t.j41(119,"th",60),t.EFF(120,"TB L\u1ea5y/Ng\xe0y"),t.k0s(),t.j41(121,"th",60),t.EFF(122,"TB Giao/Ng\xe0y"),t.k0s(),t.j41(123,"th",60),t.EFF(124,"Ng\xe0y ho\u1ea1t \u0111\u1ed9ng"),t.k0s()()(),t.nrm(125,"tbody",61),t.k0s()()()(),t.j41(126,"div",62)(127,"div",63)(128,"div",64)(129,"h3",65),t.qSk(),t.j41(130,"svg",66),t.nrm(131,"path",67),t.k0s(),t.EFF(132," Ph\xe2n b\u1ed5 L\u1ea5y theo Gi\u1edd "),t.k0s(),t.joV(),t.j41(133,"p",46),t.EFF(134,"T\u1ef7 tr\u1ecdng s\u1ea3n l\u01b0\u1ee3ng l\u1ea5y theo 24 gi\u1edd"),t.k0s()(),t.j41(135,"div",68),t.nrm(136,"canvas",69),t.k0s(),t.j41(137,"div",70),t.EFF(138," T\u1ed5ng: "),t.j41(139,"span",71),t.EFF(140,"0 kg"),t.k0s()()(),t.j41(141,"div",72)(142,"div",64)(143,"h3",73),t.qSk(),t.j41(144,"svg",74),t.nrm(145,"path",75),t.k0s(),t.EFF(146," Ph\xe2n b\u1ed5 Giao theo Ca "),t.k0s(),t.joV(),t.j41(147,"p",46),t.EFF(148,"T\u1ef7 tr\u1ecdng s\u1ea3n l\u01b0\u1ee3ng giao theo ca (S\xe1ng/Tr\u01b0a/Chi\u1ec1u/T\u1ed1i)"),t.k0s()(),t.j41(149,"div",68),t.nrm(150,"canvas",76),t.k0s(),t.j41(151,"div",70),t.EFF(152," T\u1ed5ng: "),t.j41(153,"span",77),t.EFF(154,"0 kg"),t.k0s()()()()()()())},encapsulation:2})}return l})()}}]);