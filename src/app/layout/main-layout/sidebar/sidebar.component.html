<div class="flex flex-col h-full bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700">
  <!-- Header -->
  <div class="flex header items-center px-4 py-3 border-b border-gray-200 dark:border-gray-700 shrink-0 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20"
       [class.justify-center]="collapsed"
       [class.justify-between]="!collapsed">
    <div class="flex items-center gap-2" [class.justify-center]="collapsed">
      <div class="logo-container w-8 h-8 bg-gradient-to-br from-blue-500 via-purple-500 to-indigo-600 rounded-lg flex items-center justify-center shadow-lg">
        <i class="pi pi-sitemap text-white text-sm"></i>
      </div>
      <span class="text-lg font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent" [class.hidden]="collapsed">
        Data Management
      </span>
    </div>
    <button 
      class="lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors"
      [class.hidden]="collapsed"
      (click)="toggle.emit()">
      <i class="pi pi-times text-gray-600 dark:text-gray-300"></i>
    </button>
  </div>

  <!-- Navigation Menu -->
  <div class="overflow-y-auto flex-1 py-2" [class.px-1]="collapsed" [class.px-3]="!collapsed">
    <ul class="list-none p-0 m-0 space-y-0.5">
      <!-- Dashboard & Overview -->
      <li>
        <a [routerLink]="'/dashboard'" class="flex items-center gap-2 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900">
          <i class="pi pi-home text-base"></i>
          <span class="font-medium text-sm">Dashboard</span>
        </a>
      </li>
      <li>
        <a [routerLink]="'/overview'" class="flex items-center gap-2 p-2 rounded-lg hover:bg-purple-50 dark:hover:bg-purple-900">
          <i class="pi pi-chart-pie text-base"></i>
          <span class="font-medium text-sm">Overview</span>
        </a>
      </li>
      <!-- Marketplace -->
      <li>
        <a [routerLink]="'/marketplace'" class="flex items-center gap-2 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900">
          <i class="pi pi-shopping-cart text-base"></i>
          <span class="font-medium text-sm">Marketplace</span>
        </a>
      </li>
      <!-- Accordion Menu Groups -->
      <li *ngFor="let group of sidebarGroups">
        <div class="flex items-center justify-between cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800" (click)="group.expanded = !group.expanded">
          <div class="flex items-center gap-2">
            <i [ngClass]="group.icon + ' text-base'"></i>
            <span class="font-medium text-sm">{{ group.label }}</span>
          </div>
          <i class="pi pi-chevron-down text-xs" [ngClass]="{'rotate-180': group.expanded}"></i>
        </div>
        <div *ngIf="group.expanded" class="ml-4 flex flex-col gap-1">
          <a *ngFor="let item of group.items" [routerLink]="item.url" class="flex items-center gap-2 p-1 rounded hover:bg-blue-50 dark:hover:bg-blue-900 text-sm">
            <i [ngClass]="item.icon + ' text-base'"></i>
            <span>{{ item.label }}</span>
          </a>
        </div>
      </li>
      <!-- Data Contracts -->
      <li>
        <a [routerLink]="'/data-contracts'" class="flex items-center gap-2 p-2 rounded-lg hover:bg-cyan-50 dark:hover:bg-cyan-900">
          <i class="pi pi-file-check text-base"></i>
          <span class="font-medium text-sm">Data Contracts</span>
        </a>
      </li>
      <!-- Profile & Settings -->
      <li>
        <a [routerLink]="'/profile'" class="flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900">
          <i class="pi pi-user text-base"></i>
          <span class="font-medium text-sm">Profile</span>
        </a>
      </li>
      <li>
        <a [routerLink]="'/settings'" class="flex items-center gap-2 p-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-900">
          <i class="pi pi-cog text-base"></i>
          <span class="font-medium text-sm">Settings</span>
        </a>
      </li>
    </ul>
  </div>
</div>

<!-- Info Dialog -->
<p-dialog 
  header="{{ selectedInfo?.title }}" 
  [(visible)]="infoDialogVisible" 
  [modal]="true" 
  [style]="{ width: '600px' }"
  [draggable]="false" 
  [resizable]="false"
  styleClass="info-dialog">
  
  <div *ngIf="selectedInfo" class="info-content">
    <!-- Description -->
    <div class="mb-4">
      <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
        {{ selectedInfo.description }}
      </p>
    </div>

    <!-- Features -->
    <div class="mb-4">
      <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">
        <i class="pi pi-star text-blue-500 mr-2"></i>
        Key Features
      </h4>
      <ul class="space-y-2">
        <li *ngFor="let feature of selectedInfo.features" class="flex items-start gap-2">
          <i class="pi pi-check text-green-500 mt-0.5 text-sm"></i>
          <span class="text-gray-700 dark:text-gray-300 text-sm">{{ feature }}</span>
        </li>
      </ul>
    </div>

    <p-divider></p-divider>

    <!-- Usage -->
    <div class="mb-4">
      <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">
        <i class="pi pi-info-circle text-blue-500 mr-2"></i>
        How to Use
      </h4>
      <p class="text-gray-700 dark:text-gray-300 leading-relaxed">
        {{ selectedInfo.usage }}
      </p>
    </div>

    <!-- Tips -->
    <div *ngIf="selectedInfo.tips && selectedInfo.tips.length > 0" class="mb-4">
      <h4 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">
        <i class="pi pi-lightbulb text-yellow-500 mr-2"></i>
        Pro Tips
      </h4>
      <ul class="space-y-2">
        <li *ngFor="let tip of selectedInfo.tips" class="flex items-start gap-2">
          <i class="pi pi-angle-right text-blue-500 mt-0.5 text-sm"></i>
          <span class="text-gray-700 dark:text-gray-300 text-sm">{{ tip }}</span>
        </li>
      </ul>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <div class="flex justify-end gap-2">
      <button 
        pButton 
        pRipple 
        label="Got it!" 
        icon="pi pi-check"
        class="p-button-primary"
        (click)="hideInfo()">
      </button>
    </div>
  </ng-template>
</p-dialog>