<!-- Inventory Overview Dashboard -->
<div class="inventory-overview-container">
  <div class="header-section">
    <div class="header-content">
      <h1>Inventory Overview</h1>
      <p>Monitor stock levels, alerts, and recent movements</p>
    </div>
    <div class="header-actions">
      <p-button
        label="Refresh"
        icon="pi pi-refresh"
        (onClick)="refreshData()">
      </p-button>
    </div>
  </div>

  <!-- Stats Cards -->
  <div class="stats-grid">
    <div class="stat-card">
      <div class="stat-icon">
        <i class="pi pi-box"></i>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ inventoryStats.totalProducts }}</div>
        <div class="stat-label">Total Products</div>
        <div class="stat-trend positive">
          <i class="pi pi-arrow-up"></i>
          <span>5.2%</span>
        </div>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon">
        <i class="pi pi-dollar"></i>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ formatCurrency(inventoryStats.totalValue) }}</div>
        <div class="stat-label">Total Value</div>
        <div class="stat-trend positive">
          <i class="pi pi-arrow-up"></i>
          <span>8.1%</span>
        </div>
      </div>
    </div>

    <div class="stat-card warning">
      <div class="stat-icon">
        <i class="pi pi-exclamation-triangle"></i>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ inventoryStats.lowStockItems }}</div>
        <div class="stat-label">Low Stock Items</div>
        <div class="stat-trend negative">
          <i class="pi pi-arrow-down"></i>
          <span>12.3%</span>
        </div>
      </div>
    </div>

    <div class="stat-card danger">
      <div class="stat-icon">
        <i class="pi pi-times-circle"></i>
      </div>
      <div class="stat-content">
        <div class="stat-value">{{ inventoryStats.outOfStockItems }}</div>
        <div class="stat-label">Out of Stock</div>
        <div class="stat-trend negative">
          <i class="pi pi-arrow-down"></i>
          <span>25.0%</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content Grid -->
  <div class="content-grid">
    <!-- Stock Distribution Chart -->
    <div class="chart-section">
      <div class="section-header">
        <h3>Stock Distribution by Category</h3>
      </div>
      <div class="chart-container">
        <p-chart
          type="bar"
          [data]="chartData"
          [options]="chartOptions"
          [responsive]="true">
        </p-chart>
      </div>
    </div>

    <!-- Alerts Section -->
    <div class="alerts-section">
      <div class="section-header">
        <h3>Inventory Alerts</h3>
        <p-button
          label="View All"
          [outlined]="true"
          size="small">
        </p-button>
      </div>

      <div class="alerts-list">
        <div
          *ngFor="let alert of alerts.slice(0, 4)"
          class="alert-item">
          <div class="alert-icon">
            <i [class]="getAlertIcon(alert.type)"></i>
          </div>
          <div class="alert-content">
            <div class="alert-title">{{ alert.product }}</div>
            <div class="alert-details">
              {{ alert.currentStock }} units â€¢ {{ alert.location }}
            </div>
            <div class="alert-time">{{ formatTimeAgo(alert.timestamp) }}</div>
          </div>
          <div class="alert-status">
            <p-badge
              [value]="alert.type.replace('_', ' ').toUpperCase()"
              [severity]="getAlertSeverity(alert.type)">
            </p-badge>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Movements -->
    <div class="movements-section">
      <div class="section-header">
        <h3>Recent Movements</h3>
        <p-button
          label="View All"
          [outlined]="true"
          size="small">
        </p-button>
      </div>

      <div class="movements-table">
        <p-table [value]="recentMovements" styleClass="p-datatable-sm">
          <ng-template pTemplate="header">
            <tr>
              <th>Product</th>
              <th>Type</th>
              <th>Quantity</th>
              <th>Location</th>
              <th>Time</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-movement>
            <tr>
              <td>
                <div class="product-info">
                  <i [class]="getMovementIcon(movement.type)"></i>
                  <span>{{ movement.product }}</span>
                </div>
              </td>
              <td>
                <p-badge
                  [value]="movement.type"
                  [severity]="getMovementSeverity(movement.type)">
                </p-badge>
              </td>
              <td>
                <span [class]="movement.quantity >= 0 ? 'positive' : 'negative'">
                  {{ movement.quantity >= 0 ? '+' : '' }}{{ movement.quantity }}
                </span>
              </td>
              <td>{{ movement.location }}</td>
              <td>{{ formatTimeAgo(movement.timestamp) }}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="actions-section">
      <div class="section-header">
        <h3>Quick Actions</h3>
      </div>

      <div class="actions-grid">
        <p-button
          label="Stock In"
          icon="pi pi-plus"
          styleClass="p-button-success">
        </p-button>
        <p-button
          label="Stock Out"
          icon="pi pi-minus"
          styleClass="p-button-warning">
        </p-button>
        <p-button
          label="Adjust Stock"
          icon="pi pi-pencil"
          [outlined]="true">
        </p-button>
        <p-button
          label="Transfer"
          icon="pi pi-arrow-right"
          [outlined]="true">
        </p-button>
      </div>
    </div>
  </div>
</div>
