<!-- Main Container -->
<div class="bg-gray-50 py-8">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <!-- Page Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-gray-900">My Profile</h1>
      <p class="mt-2 text-gray-600">Manage your account information and preferences</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
      
      <!-- Left Column - Profile Card -->
      <div class="lg:col-span-1">
        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
          <!-- Avatar Section -->
          <div class="text-center mb-6">
            <div class="relative inline-block">
              <div class="w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center shadow-lg">
                <i class="pi pi-user text-white text-5xl"></i>
              </div>
              <!-- Status Indicator -->
              <span class="absolute -bottom-1 -right-1 block w-8 h-8 rounded-full border-4 border-white shadow-lg flex items-center justify-center"
                [ngClass]="profile.is_active ? 'bg-green-500' : 'bg-gray-400'">
                <i class="pi text-white text-xs" [ngClass]="profile.is_active ? 'pi-check' : 'pi-times'"></i>
              </span>
            </div>
            <h3 class="mt-4 text-xl font-semibold text-gray-900">
              {{ profile.full_name || 'Unknown User' }}
            </h3>
            <p class="text-gray-500 text-sm mb-4">{{ profile.email }}</p>
            
            <!-- Status Badges -->
            <div class="flex flex-col gap-2">
              <p-badge 
                [value]="profile.is_active ? 'Active Account' : 'Inactive Account'"
                [severity]="profile.is_active ? 'success' : 'secondary'"
                class="w-full">
              </p-badge>
              <p-badge 
                [value]="profile.is_verified ? 'Email Verified' : 'Email Not Verified'"
                [severity]="profile.is_verified ? 'info' : 'warning'"
                class="w-full">
              </p-badge>
            </div>
          </div>

          <!-- Quick Stats -->
          <div class="border-t pt-6">
            <div class="space-y-4">
              <div class="flex items-center justify-between">
                <span class="text-sm text-gray-500">User ID</span>
                <span class="text-sm font-medium text-gray-900">{{ profile.identify || 'N/A' }}</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm text-gray-500">Active Sessions</span>
                <span class="text-sm font-medium text-gray-900">{{ profile.sessions?.length || 0 }}</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm text-gray-500">Member Since</span>
                <span class="text-sm font-medium text-gray-900">{{ profile.created_at ? (profile.created_at | date:'MMM yyyy') : 'N/A' }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column - Main Content -->
      <div class="lg:col-span-3 space-y-8">
        
        <!-- Account Information Card -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200">
          <div class="px-6 py-4 border-b border-gray-200">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                <i class="pi pi-user text-blue-600 text-lg"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">Account Information</h2>
                <p class="text-sm text-gray-500">Your personal details and contact information</p>
              </div>
            </div>
          </div>
          
          <div class="p-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <!-- Personal Information -->
              <div class="space-y-6">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                  <div class="p-3 bg-gray-50 rounded-lg border">
                    <div class="flex items-center gap-3">
                      <i class="pi pi-user text-gray-400"></i>
                      <span class="text-gray-900">{{ profile.full_name || 'Not provided' }}</span>
                    </div>
                  </div>
                </div>
                
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                  <div class="p-3 bg-gray-50 rounded-lg border">
                    <div class="flex items-center gap-3">
                      <i class="pi pi-envelope text-gray-400"></i>
                      <span class="text-gray-900">{{ profile.email }}</span>
                      <i class="pi pi-verified text-green-500 ml-auto" *ngIf="profile.is_verified" title="Verified"></i>
                    </div>
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                  <div class="p-3 bg-gray-50 rounded-lg border">
                    <div class="flex items-center gap-3">
                      <i class="pi pi-phone text-gray-400"></i>
                      <span class="text-gray-900">{{ profile.phone || 'Not provided' }}</span>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Account Details -->
              <div class="space-y-6">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">User ID</label>
                  <div class="p-3 bg-gray-50 rounded-lg border">
                    <div class="flex items-center gap-3">
                      <i class="pi pi-id-card text-gray-400"></i>
                      <code class="text-gray-900 text-sm">{{ profile.identify }}</code>
                    </div>
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Account Status</label>
                  <div class="p-3 bg-gray-50 rounded-lg border">
                    <div class="flex items-center gap-3">
                      <i class="pi text-gray-400" [ngClass]="profile.is_active ? 'pi-check-circle' : 'pi-times-circle'"></i>
                      <span [ngClass]="profile.is_active ? 'text-green-600' : 'text-red-600'" class="font-medium">
                        {{ profile.is_active ? 'Active Account' : 'Inactive Account' }}
                      </span>
                    </div>
                  </div>
                </div>

                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Role</label>
                  <div class="p-3 bg-gray-50 rounded-lg border">
                    <div class="flex items-center gap-3">
                      <i class="pi pi-shield text-gray-400"></i>
                      <span class="text-gray-900">{{ profile.role || 'User' }}</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Security Settings Card -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200">
          <div class="px-6 py-4 border-b border-gray-200">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                <i class="pi pi-shield text-red-600 text-lg"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">Security & Privacy</h2>
                <p class="text-sm text-gray-500">Manage your account security settings</p>
              </div>
            </div>
          </div>
          
          <div class="p-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="space-y-4">
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                  <div class="flex items-center gap-3">
                    <i class="pi pi-key text-gray-500"></i>
                    <div>
                      <div class="font-medium text-gray-900">Password</div>
                      <div class="text-sm text-gray-500">Last changed 30 days ago</div>
                    </div>
                  </div>
                  <p-button label="Change" size="small" [outlined]="true" severity="secondary"></p-button>
                </div>

                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                  <div class="flex items-center gap-3">
                    <i class="pi pi-mobile text-gray-500"></i>
                    <div>
                      <div class="font-medium text-gray-900">Two-Factor Authentication</div>
                      <div class="text-sm text-gray-500">{{ profile.two_factor_enabled ? 'Enabled' : 'Disabled' }}</div>
                    </div>
                  </div>
                  <p-button 
                    [label]="profile.two_factor_enabled ? 'Disable' : 'Enable'" 
                    size="small" 
                    [outlined]="true" 
                    [severity]="profile.two_factor_enabled ? 'danger' : 'success'">
                  </p-button>
                </div>
              </div>

              <div class="space-y-4">
                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                  <div class="flex items-center gap-3">
                    <i class="pi pi-eye text-gray-500"></i>
                    <div>
                      <div class="font-medium text-gray-900">Privacy Settings</div>
                      <div class="text-sm text-gray-500">Control your data visibility</div>
                    </div>
                  </div>
                  <p-button label="Manage" size="small" [outlined]="true" severity="secondary"></p-button>
                </div>

                <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                  <div class="flex items-center gap-3">
                    <i class="pi pi-download text-gray-500"></i>
                    <div>
                      <div class="font-medium text-gray-900">Data Export</div>
                      <div class="text-sm text-gray-500">Download your data</div>
                    </div>
                  </div>
                  <p-button label="Export" size="small" [outlined]="true" severity="secondary"></p-button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Quick Actions -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200">
          <div class="px-6 py-4 border-b border-gray-200">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                <i class="pi pi-cog text-green-600 text-lg"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">Quick Actions</h2>
                <p class="text-sm text-gray-500">Common account management tasks</p>
              </div>
            </div>
          </div>
          
          <div class="p-6">
            <div class="flex flex-wrap gap-4">
              <p-button 
                label="Edit Profile" 
                icon="pi pi-pencil" 
                severity="primary"
                [outlined]="true"
                (click)="editProfile()">
              </p-button>
              
              <p-button 
                label="Change Password" 
                icon="pi pi-key" 
                severity="secondary"
                [outlined]="true"
                (click)="changePassword()">
              </p-button>
              
              <p-button 
                label="Account Settings" 
                icon="pi pi-cog" 
                severity="secondary"
                [outlined]="true"
                (click)="openSettings()">
              </p-button>
              
              <p-button 
                label="Download Data" 
                icon="pi pi-download" 
                severity="success"
                [outlined]="true"
                (click)="downloadData()">
              </p-button>
            </div>
          </div>
        </div>

        <!-- Active Sessions Card -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200">
          <div class="px-6 py-4 border-b border-gray-200">
            <div class="flex items-center justify-between">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                  <i class="pi pi-desktop text-purple-600 text-lg"></i>
                </div>
                <div>
                  <h2 class="text-lg font-semibold text-gray-900">Active Sessions</h2>
                  <p class="text-sm text-gray-500">Manage your active login sessions</p>
                </div>
              </div>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                {{ profile.sessions?.length || 0 }} session(s)
              </span>
            </div>
          </div>
          
          <div class="p-6">
            <ng-container *ngIf="profile.sessions && profile.sessions.length > 0; else noSessions">
              <div class="space-y-4">
                <div *ngFor="let session of profile.sessions; let i = index" 
                     class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors">
                  
                  <div class="flex items-start justify-between mb-3">
                    <div class="flex items-center gap-3">
                      <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center">
                        <i class="pi pi-desktop text-white"></i>
                      </div>
                      <div>
                        <div class="font-medium text-gray-900">{{ getDeviceInfo(session.device) }}</div>
                        <div class="text-sm text-gray-500">Session #{{ i + 1 }}</div>
                      </div>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                        <span class="w-1.5 h-1.5 bg-green-500 rounded-full mr-1"></span>
                        Active
                      </span>
                    </div>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div class="flex items-center gap-2">
                      <i class="pi pi-id-card text-gray-400 text-sm"></i>
                      <div>
                        <div class="text-xs text-gray-500">Session ID</div>
                        <code class="text-xs text-gray-900">{{ session.session | slice:0:16 }}...</code>
                      </div>
                    </div>
                    
                    <div class="flex items-center gap-2">
                      <i class="pi pi-clock text-gray-400 text-sm"></i>
                      <div>
                        <div class="text-xs text-gray-500">Expires in</div>
                        <div class="text-xs font-medium text-blue-600">{{ formatRemainingTime(session.remaining_seconds) }}</div>
                      </div>
                    </div>
                    
                    <div class="flex items-center gap-2">
                      <i class="pi pi-map-marker text-gray-400 text-sm"></i>
                      <div>
                        <div class="text-xs text-gray-500">Location</div>
                        <div class="text-xs text-gray-900">{{ session.location || 'Unknown' }}</div>
                      </div>
                    </div>
                  </div>

                  <div class="flex items-center justify-between pt-3 border-t border-gray-100">
                    <div class="text-xs text-gray-500">
                      Last activity: {{ session.last_activity || 'Just now' }}
                    </div>
                    <button 
                      type="button"
                      class="inline-flex items-center px-3 py-1.5 border border-red-300 text-xs font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors"
                      (click)="terminateSession(session.session)">
                      <i class="pi pi-times mr-1"></i>
                      Terminate
                    </button>
                  </div>
                </div>
              </div>
            </ng-container>
            
            <ng-template #noSessions>
              <div class="text-center py-12">
                <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                  <i class="pi pi-desktop text-gray-400 text-2xl"></i>
                </div>
                <h3 class="text-lg font-medium text-gray-900 mb-2">No Active Sessions</h3>
                <p class="text-gray-500 mb-6">You currently have no active sessions.</p>
                <button 
                  type="button"
                  class="inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                  <i class="pi pi-refresh mr-2"></i>
                  Refresh Sessions
                </button>
              </div>
            </ng-template>
          </div>
        </div>

        <!-- ACL Architecture & Flow Information -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-200">
          <div class="px-6 py-4 border-b border-gray-200">
            <div class="flex items-center gap-3">
              <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center">
                <i class="pi pi-sitemap text-indigo-600 text-lg"></i>
              </div>
              <div>
                <h2 class="text-lg font-semibold text-gray-900">ACL Architecture & Flow</h2>
                <p class="text-sm text-gray-500">Access Control List system architecture and governance flow</p>
              </div>
            </div>
          </div>
          
          <div class="p-6">
            <!-- Architecture Overview -->
            <div class="mb-8">
              <h3 class="text-lg font-semibold text-gray-900 mb-4">System Architecture Overview</h3>
              <p class="text-gray-600 mb-6">
                Our Access Control List (ACL) system implements a hierarchical, role-based access control model that provides 
                fine-grained permissions management across all system resources. The architecture follows industry best practices 
                for security, scalability, and maintainability.
              </p>

              <!-- Flow Diagram -->
              <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 mb-6">
                <h4 class="font-semibold text-gray-900 mb-4 flex items-center gap-2">
                  <i class="pi pi-diagram-tree text-indigo-600"></i>
                  ACL Flow Diagram
                </h4>
                <div class="overflow-x-auto">
                  <div class="inline-flex items-center space-x-4 min-w-max">
                    <!-- User -->
                    <div class="text-center">
                      <div class="w-20 h-20 bg-blue-500 rounded-lg flex items-center justify-center mb-2">
                        <i class="pi pi-user text-white text-2xl"></i>
                      </div>
                      <span class="text-sm font-medium text-gray-900">User</span>
                    </div>
                    
                    <i class="pi pi-arrow-right text-gray-400 text-xl"></i>
                    
                    <!-- Teams -->
                    <div class="text-center">
                      <div class="w-20 h-20 bg-green-500 rounded-lg flex items-center justify-center mb-2">
                        <i class="pi pi-users text-white text-2xl"></i>
                      </div>
                      <span class="text-sm font-medium text-gray-900">Teams</span>
                    </div>
                    
                    <i class="pi pi-arrow-right text-gray-400 text-xl"></i>
                    
                    <!-- Roles -->
                    <div class="text-center">
                      <div class="w-20 h-20 bg-purple-500 rounded-lg flex items-center justify-center mb-2">
                        <i class="pi pi-shield text-white text-2xl"></i>
                      </div>
                      <span class="text-sm font-medium text-gray-900">Roles</span>
                    </div>
                    
                    <i class="pi pi-arrow-right text-gray-400 text-xl"></i>
                    
                    <!-- Permissions -->
                    <div class="text-center">
                      <div class="w-20 h-20 bg-orange-500 rounded-lg flex items-center justify-center mb-2">
                        <i class="pi pi-key text-white text-2xl"></i>
                      </div>
                      <span class="text-sm font-medium text-gray-900">Permissions</span>
                    </div>
                    
                    <i class="pi pi-arrow-right text-gray-400 text-xl"></i>
                    
                    <!-- Assets -->
                    <div class="text-center">
                      <div class="w-20 h-20 bg-teal-500 rounded-lg flex items-center justify-center mb-2">
                        <i class="pi pi-database text-white text-2xl"></i>
                      </div>
                      <span class="text-sm font-medium text-gray-900">Assets</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Component Breakdown -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
              
              <!-- Users Component -->
              <div class="border border-gray-200 rounded-lg p-4">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                    <i class="pi pi-user text-blue-600"></i>
                  </div>
                  <div>
                    <h4 class="font-semibold text-gray-900">Users</h4>
                    <span class="text-xs text-gray-500">Identity Management</span>
                  </div>
                </div>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li>• User account creation & management</li>
                  <li>• Profile information & status</li>
                  <li>• Authentication credentials</li>
                  <li>• User activity tracking</li>
                </ul>
              </div>

              <!-- Teams Component -->
              <div class="border border-gray-200 rounded-lg p-4">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                    <i class="pi pi-users text-green-600"></i>
                  </div>
                  <div>
                    <h4 class="font-semibold text-gray-900">Teams</h4>
                    <span class="text-xs text-gray-500">Group Organization</span>
                  </div>
                </div>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li>• Team creation & hierarchy</li>
                  <li>• Member assignment & roles</li>
                  <li>• Team-based permissions</li>
                  <li>• Collaborative workspaces</li>
                </ul>
              </div>

              <!-- Roles Component -->
              <div class="border border-gray-200 rounded-lg p-4">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                    <i class="pi pi-shield text-purple-600"></i>
                  </div>
                  <div>
                    <h4 class="font-semibold text-gray-900">Roles</h4>
                    <span class="text-xs text-gray-500">Access Levels</span>
                  </div>
                </div>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li>• Role definition & hierarchy</li>
                  <li>• Permission bundling</li>
                  <li>• Inheritance management</li>
                  <li>• Custom role creation</li>
                </ul>
              </div>

              <!-- Permissions Component -->
              <div class="border border-gray-200 rounded-lg p-4">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center">
                    <i class="pi pi-key text-orange-600"></i>
                  </div>
                  <div>
                    <h4 class="font-semibold text-gray-900">Permissions</h4>
                    <span class="text-xs text-gray-500">Access Control</span>
                  </div>
                </div>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li>• Granular access control</li>
                  <li>• CRUD operations mapping</li>
                  <li>• Resource-specific rules</li>
                  <li>• Conditional permissions</li>
                </ul>
              </div>

              <!-- Policies Component -->
              <div class="border border-gray-200 rounded-lg p-4">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center">
                    <i class="pi pi-file-text text-red-600"></i>
                  </div>
                  <div>
                    <h4 class="font-semibold text-gray-900">Policies</h4>
                    <span class="text-xs text-gray-500">Rule Engine</span>
                  </div>
                </div>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li>• Security policy definition</li>
                  <li>• Compliance rules</li>
                  <li>• Automated enforcement</li>
                  <li>• Audit trail generation</li>
                </ul>
              </div>

              <!-- Assets Component -->
              <div class="border border-gray-200 rounded-lg p-4">
                <div class="flex items-center gap-3 mb-3">
                  <div class="w-10 h-10 bg-teal-100 rounded-lg flex items-center justify-center">
                    <i class="pi pi-database text-teal-600"></i>
                  </div>
                  <div>
                    <h4 class="font-semibold text-gray-900">Assets</h4>
                    <span class="text-xs text-gray-500">Resource Management</span>
                  </div>
                </div>
                <ul class="text-sm text-gray-600 space-y-1">
                  <li>• Data product inventory</li>
                  <li>• Resource classification</li>
                  <li>• Access control mapping</li>
                  <li>• Usage tracking & analytics</li>
                </ul>
              </div>
            </div>

            <!-- Access Flow Process -->
            <div class="bg-gray-50 rounded-lg p-6 mb-6">
              <h4 class="font-semibold text-gray-900 mb-4 flex items-center gap-2">
                <i class="pi pi-cog text-gray-600"></i>
                Access Control Flow Process
              </h4>
              
              <div class="space-y-4">
                <div class="flex items-start gap-4">
                  <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0">1</div>
                  <div>
                    <h5 class="font-medium text-gray-900">User Authentication</h5>
                    <p class="text-sm text-gray-600">User logs in and identity is verified through the authentication system.</p>
                  </div>
                </div>
                
                <div class="flex items-start gap-4">
                  <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0">2</div>
                  <div>
                    <h5 class="font-medium text-gray-900">Team Assignment Resolution</h5>
                    <p class="text-sm text-gray-600">System identifies user's team memberships and associated privileges.</p>
                  </div>
                </div>
                
                <div class="flex items-start gap-4">
                  <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0">3</div>
                  <div>
                    <h5 class="font-medium text-gray-900">Role Evaluation</h5>
                    <p class="text-sm text-gray-600">User's roles (both direct and inherited) are evaluated for permission mapping.</p>
                  </div>
                </div>
                
                <div class="flex items-start gap-4">
                  <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0">4</div>
                  <div>
                    <h5 class="font-medium text-gray-900">Permission Aggregation</h5>
                    <p class="text-sm text-gray-600">All applicable permissions are collected and conflicts are resolved using precedence rules.</p>
                  </div>
                </div>
                
                <div class="flex items-start gap-4">
                  <div class="w-8 h-8 bg-red-500 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0">5</div>
                  <div>
                    <h5 class="font-medium text-gray-900">Policy Enforcement</h5>
                    <p class="text-sm text-gray-600">Security policies are applied to further refine and validate access decisions.</p>
                  </div>
                </div>
                
                <div class="flex items-start gap-4">
                  <div class="w-8 h-8 bg-teal-500 rounded-full flex items-center justify-center text-white text-sm font-bold flex-shrink-0">6</div>
                  <div>
                    <h5 class="font-medium text-gray-900">Asset Access Grant/Deny</h5>
                    <p class="text-sm text-gray-600">Final access decision is made and user can interact with authorized resources.</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Key Features -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <h4 class="font-semibold text-gray-900 mb-3 flex items-center gap-2">
                  <i class="pi pi-star text-yellow-500"></i>
                  Key Features
                </h4>
                <ul class="space-y-2 text-sm text-gray-600">
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Hierarchical role inheritance
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Fine-grained permission control
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Dynamic policy enforcement
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Audit trail and compliance
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Real-time access evaluation
                  </li>
                </ul>
              </div>
              
              <div>
                <h4 class="font-semibold text-gray-900 mb-3 flex items-center gap-2">
                  <i class="pi pi-shield text-blue-500"></i>
                  Security Benefits
                </h4>
                <ul class="space-y-2 text-sm text-gray-600">
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Principle of least privilege
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Separation of duties
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Centralized access control
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Scalable permission model
                  </li>
                  <li class="flex items-center gap-2">
                    <i class="pi pi-check text-green-500 text-xs"></i>
                    Compliance ready framework
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Note -->
    <div class="mt-8 text-center text-sm text-gray-500">
      <p>Last updated: {{ currentDate | date:'medium' }} • Need help? <a href="#" class="text-blue-600 hover:text-blue-500">Contact Support</a></p>
    </div>
  </div>
</div>

