"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[896],{491:(B,D,l)=>{l.d(D,{Dw:()=>L,Zp:()=>G});var _=l(2881),e=l(1360),v=l(9744),M=l(5779),C=l(3491),O=l(6263);const s=["header"],h=["title"],E=["subtitle"],R=["content"],P=["footer"],$=["*",[["p-header"]],[["p-footer"]]],g=["*","p-header","p-footer"];function S(o,m){1&o&&e.eu8(0)}function b(o,m){if(1&o&&(e.j41(0,"div",8),e.SdG(1,1),e.DNE(2,S,1,0,"ng-container",6),e.k0s()),2&o){const n=e.XpG();e.R7$(2),e.Y8G("ngTemplateOutlet",n.headerTemplate||n._headerTemplate)}}function y(o,m){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const n=e.XpG(2);e.R7$(),e.JRh(n.header)}}function k(o,m){1&o&&e.eu8(0)}function t(o,m){if(1&o&&(e.j41(0,"div",9),e.DNE(1,y,2,1,"ng-container",10)(2,k,1,0,"ng-container",6),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.header&&!n._titleTemplate&&!n.titleTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",n.titleTemplate||n._titleTemplate)}}function i(o,m){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const n=e.XpG(2);e.R7$(),e.JRh(n.subheader)}}function j(o,m){1&o&&e.eu8(0)}function u(o,m){if(1&o&&(e.j41(0,"div",11),e.DNE(1,i,2,1,"ng-container",10)(2,j,1,0,"ng-container",6),e.k0s()),2&o){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.subheader&&!n._subtitleTemplate&&!n.subtitleTemplate),e.R7$(),e.Y8G("ngTemplateOutlet",n.subtitleTemplate||n._subtitleTemplate)}}function T(o,m){1&o&&e.eu8(0)}function f(o,m){1&o&&e.eu8(0)}function w(o,m){if(1&o&&(e.j41(0,"div",12),e.SdG(1,2),e.DNE(2,f,1,0,"ng-container",6),e.k0s()),2&o){const n=e.XpG();e.R7$(2),e.Y8G("ngTemplateOutlet",n.footerTemplate||n._footerTemplate)}}const I=({dt:o})=>`\n.p-card {\n    background: ${o("card.background")};\n    color: ${o("card.color")};\n    box-shadow: ${o("card.shadow")};\n    border-radius: ${o("card.border.radius")};\n    display: flex;\n    flex-direction: column;\n}\n\n.p-card-caption {\n    display: flex;\n    flex-direction: column;\n    gap: ${o("card.caption.gap")};\n}\n\n.p-card-body {\n    padding: ${o("card.body.padding")};\n    display: flex;\n    flex-direction: column;\n    gap: ${o("card.body.gap")};\n}\n\n.p-card-title {\n    font-size: ${o("card.title.font.size")};\n    font-weight: ${o("card.title.font.weight")};\n}\n\n.p-card-subtitle {\n    color: ${o("card.subtitle.color")};\n}\n`,U={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"};let F=(()=>{class o extends O.j{name="card";theme=I;classes=U;static \u0275fac=(()=>{let n;return function(a){return(n||(n=e.xGo(o)))(a||o)}})();static \u0275prov=e.jDH({token:o,factory:o.\u0275fac})}return o})(),G=(()=>{class o extends C.${header;subheader;set style(n){(0,v.aI)(this._style(),n)||this._style.set(n)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=(0,e.vPA)(null);_componentStyle=(0,e.WQX)(F);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(n=>{switch(n.getType()){case"header":this._headerTemplate=n.template;break;case"title":this._titleTemplate=n.template;break;case"subtitle":this._subtitleTemplate=n.template;break;case"content":default:this._contentTemplate=n.template;break;case"footer":this._footerTemplate=n.template}})}static \u0275fac=(()=>{let n;return function(a){return(n||(n=e.xGo(o)))(a||o)}})();static \u0275cmp=e.VBU({type:o,selectors:[["p-card"]],contentQueries:function(r,a,c){if(1&r&&(e.wni(c,M.Y9,5),e.wni(c,M.wi,5),e.wni(c,s,4),e.wni(c,h,4),e.wni(c,E,4),e.wni(c,R,4),e.wni(c,P,4),e.wni(c,M.Ei,4)),2&r){let d;e.mGM(d=e.lsd())&&(a.headerFacet=d.first),e.mGM(d=e.lsd())&&(a.footerFacet=d.first),e.mGM(d=e.lsd())&&(a.headerTemplate=d.first),e.mGM(d=e.lsd())&&(a.titleTemplate=d.first),e.mGM(d=e.lsd())&&(a.subtitleTemplate=d.first),e.mGM(d=e.lsd())&&(a.contentTemplate=d.first),e.mGM(d=e.lsd())&&(a.footerTemplate=d.first),e.mGM(d=e.lsd())&&(a.templates=d)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[e.Jv_([F]),e.Vt3],ngContentSelectors:g,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(r,a){1&r&&(e.NAR($),e.j41(0,"div",0),e.DNE(1,b,3,1,"div",1),e.j41(2,"div",2),e.DNE(3,t,3,2,"div",3)(4,u,3,2,"div",4),e.j41(5,"div",5),e.SdG(6),e.DNE(7,T,1,0,"ng-container",6),e.k0s(),e.DNE(8,w,3,1,"div",7),e.k0s()()),2&r&&(e.HbH(a.styleClass),e.Y8G("ngClass","p-card p-component")("ngStyle",a._style()),e.BMQ("data-pc-name","card"),e.R7$(),e.Y8G("ngIf",a.headerFacet||a.headerTemplate||a._headerTemplate),e.R7$(2),e.Y8G("ngIf",a.header||a.titleTemplate||a._titleTemplate),e.R7$(),e.Y8G("ngIf",a.subheader||a.subtitleTemplate||a._subtitleTemplate),e.R7$(3),e.Y8G("ngTemplateOutlet",a.contentTemplate||a._contentTemplate),e.R7$(),e.Y8G("ngIf",a.footerFacet||a.footerTemplate||a._footerTemplate))},dependencies:[_.MD,_.YU,_.bT,_.T3,_.B3,M.Gg],encapsulation:2,changeDetection:0})}return o})(),L=(()=>{class o{static \u0275fac=function(r){return new(r||o)};static \u0275mod=e.$C({type:o});static \u0275inj=e.G2t({imports:[G,M.Gg,M.Gg]})}return o})()},896:(B,D,l)=>{l.r(D),l.d(D,{SupportComponent:()=>L});var _=l(2881),e=l(9417),v=l(5207),M=l(1141),C=l(491),O=l(1570),s=l(2242),h=l(1305),E=l(8150),R=l(6221),P=l(6150),$=l(7722),g=l(8542),S=l(5716),b=l(935),y=l(5779),k=l(5545),t=l(1360);const i=()=>({width:"60vw"}),j=()=>[10,25,50];function u(o,m){1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Ticket ID"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Type"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Subject"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Guest/Apartment"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Priority"),t.k0s(),t.j41(11,"th"),t.EFF(12,"Status"),t.k0s(),t.j41(13,"th"),t.EFF(14,"Created"),t.k0s(),t.j41(15,"th"),t.EFF(16,"Actions"),t.k0s()())}function T(o,m){if(1&o&&(t.j41(0,"span",44),t.EFF(1),t.k0s()),2&o){const n=t.XpG().$implicit;t.R7$(),t.JRh(n.account_id)}}function f(o,m){if(1&o&&(t.j41(0,"span",45),t.EFF(1),t.k0s()),2&o){const n=t.XpG().$implicit,r=t.XpG(2);t.R7$(),t.SpI(" ",r.getApartmentName(n.apartment_id)," ")}}function w(o,m){if(1&o){const n=t.RV6();t.j41(0,"button",46),t.bIt("click",function(){t.eBV(n);const a=t.XpG().$implicit,c=t.XpG(2);return t.Njj(c.updateTicketStatus(a,"resolved"))}),t.k0s()}}function I(o,m){if(1&o){const n=t.RV6();t.j41(0,"tr")(1,"td")(2,"span",34),t.EFF(3),t.k0s()(),t.j41(4,"td"),t.nrm(5,"p-tag",35),t.nI1(6,"titlecase"),t.k0s(),t.j41(7,"td")(8,"span",36),t.EFF(9),t.k0s()(),t.j41(10,"td")(11,"div",37),t.DNE(12,T,2,1,"span",38)(13,f,2,1,"span",39),t.k0s()(),t.j41(14,"td"),t.nrm(15,"p-badge",40),t.nI1(16,"titlecase"),t.k0s(),t.j41(17,"td"),t.nrm(18,"p-badge",40),t.nI1(19,"titlecase"),t.k0s(),t.j41(20,"td"),t.EFF(21),t.nI1(22,"date"),t.k0s(),t.j41(23,"td")(24,"div",41)(25,"button",42),t.bIt("click",function(){const a=t.eBV(n).$implicit,c=t.XpG(2);return t.Njj(c.editTicket(a))}),t.k0s(),t.DNE(26,w,1,0,"button",43),t.k0s()()()}if(2&o){const n=m.$implicit,r=t.XpG(2);t.R7$(3),t.JRh(n.id),t.R7$(2),t.Y8G("value",t.bMT(6,11,n.type)),t.R7$(4),t.JRh(n.subject),t.R7$(3),t.Y8G("ngIf",n.account_id),t.R7$(),t.Y8G("ngIf",n.apartment_id),t.R7$(2),t.Y8G("value",t.bMT(16,13,n.priority))("severity",r.getPrioritySeverity(n.priority)),t.R7$(3),t.Y8G("value",t.bMT(19,15,n.status))("severity",r.getStatusSeverity(n.status)),t.R7$(3),t.SpI(" ",t.i5U(22,17,n.created_at,"short")," "),t.R7$(5),t.Y8G("ngIf","resolved"!==n.status&&"closed"!==n.status)}}function U(o,m){1&o&&(t.j41(0,"tr")(1,"td",47)(2,"div",48),t.nrm(3,"i",49),t.j41(4,"p"),t.EFF(5,"No tickets found"),t.k0s()()()())}function F(o,m){if(1&o&&(t.j41(0,"p-card")(1,"p-table",30),t.DNE(2,u,17,0,"ng-template",31)(3,I,27,20,"ng-template",32)(4,U,6,0,"ng-template",33),t.k0s()()),2&o){const n=t.XpG();t.R7$(),t.Y8G("value",n.filteredTickets)("paginator",!0)("rows",10)("rowsPerPageOptions",t.lJ4(5,j))("showCurrentPageReport",!0)}}function A(o,m){1&o&&(t.j41(0,"div",50),t.nrm(1,"p-skeleton",51),t.k0s())}function G(o,m){if(1&o){const n=t.RV6();t.j41(0,"button",52),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.closeTicketDialog())}),t.k0s(),t.j41(1,"button",53),t.bIt("click",function(){t.eBV(n);const a=t.XpG();return t.Njj(a.saveTicket())}),t.k0s()}}let L=(()=>{class o{hotelService;messageService;tickets=[];filteredTickets=[];bookings=[];reviews=[];apartments=[];loading=!1;searchTerm="";selectedStatus=null;selectedPriority=null;showTicketDialog=!1;isEditMode=!1;selectedTicket=null;formData={type:"general",status:"open",priority:"medium"};statusOptions=[{label:"All Statuses",value:null},{label:"Open",value:"open"},{label:"In Progress",value:"in_progress"},{label:"Resolved",value:"resolved"},{label:"Closed",value:"closed"}];priorityOptions=[{label:"All Priorities",value:null},{label:"Low",value:"low"},{label:"Medium",value:"medium"},{label:"High",value:"high"},{label:"Urgent",value:"urgent"}];typeOptions=[{label:"General",value:"general"},{label:"Booking",value:"booking"},{label:"Review",value:"review"}];constructor(n,r){this.hotelService=n,this.messageService=r}ngOnInit(){this.loadData(),this.generateSampleTickets()}loadData(){this.loading=!0,Promise.all([this.hotelService.getBookings().toPromise(),this.hotelService.getReviews().toPromise(),this.hotelService.getApartments().toPromise()]).then(([n,r,a])=>{this.bookings=n?.data||[],this.reviews=r?.data||[],this.apartments=a?.data||[],this.loading=!1}).catch(()=>{this.messageService.add({severity:"error",summary:"Error",detail:"Failed to load data"}),this.loading=!1})}generateSampleTickets(){const n=[];this.bookings.filter(r=>"canceled"===r.booking_status||"unpaid"===r.payment_status).slice(0,5).forEach((r,a)=>{n.push({id:`TICKET-${Date.now()}-${a}`,type:"booking",subject:`Booking Issue: ${r.id}`,description:`Guest ${r.account_id} has an issue with booking ${r.id}`,account_id:r.account_id,booking_id:r.id,apartment_id:r.apartment_id,status:a%2==0?"open":"in_progress",priority:0===a?"urgent":1===a?"high":"medium",created_at:new Date(r.created),updated_at:new Date(r.updated||r.created)})}),this.reviews.slice(0,3).forEach((r,a)=>{n.push({id:`TICKET-REVIEW-${Date.now()}-${a}`,type:"review",subject:`Review Concern: ${r.title}`,description:r.review,account_id:r.account_id,apartment_id:r.apartment_id,status:"open",priority:"medium",created_at:new Date(r.date_posted),updated_at:new Date(r.date_updated||r.date_posted)})}),this.tickets=n,this.filterTickets()}filterTickets(){let n=[...this.tickets];if(this.searchTerm){const r=this.searchTerm.toLowerCase();n=n.filter(a=>a.id.toLowerCase().includes(r)||a.subject.toLowerCase().includes(r)||a.account_id&&a.account_id.toLowerCase().includes(r))}this.selectedStatus&&(n=n.filter(r=>r.status===this.selectedStatus)),this.selectedPriority&&(n=n.filter(r=>r.priority===this.selectedPriority)),n.sort((r,a)=>{const c={urgent:4,high:3,medium:2,low:1},d=(c[a.priority]||0)-(c[r.priority]||0);return 0!==d?d:a.created_at.getTime()-r.created_at.getTime()}),this.filteredTickets=n}onSearch(){this.filterTickets()}onStatusChange(){this.filterTickets()}onPriorityChange(){this.filterTickets()}openTicketDialog(){this.isEditMode=!1,this.formData={type:"general",status:"open",priority:"medium"},this.showTicketDialog=!0}editTicket(n){this.isEditMode=!0,this.selectedTicket=n,this.formData={...n},this.showTicketDialog=!0}closeTicketDialog(){this.showTicketDialog=!1,this.selectedTicket=null,this.formData={type:"general",status:"open",priority:"medium"}}saveTicket(){if(this.formData.subject&&this.formData.description){if(this.isEditMode&&this.selectedTicket){const n=this.tickets.findIndex(r=>r.id===this.selectedTicket.id);-1!==n&&(this.tickets[n]={...this.tickets[n],...this.formData,updated_at:new Date},this.messageService.add({severity:"success",summary:"Success",detail:"Ticket updated successfully"}))}else{const n={id:`TICKET-${Date.now()}`,type:this.formData.type||"general",subject:this.formData.subject,description:this.formData.description,account_id:this.formData.account_id,booking_id:this.formData.booking_id,apartment_id:this.formData.apartment_id,status:this.formData.status||"open",priority:this.formData.priority||"medium",created_at:new Date,updated_at:new Date};this.tickets.push(n),this.messageService.add({severity:"success",summary:"Success",detail:"Ticket created successfully"})}this.filterTickets(),this.closeTicketDialog()}else this.messageService.add({severity:"warn",summary:"Validation",detail:"Please fill in all required fields"})}updateTicketStatus(n,r){n.status=r,n.updated_at=new Date,this.messageService.add({severity:"success",summary:"Success",detail:"Ticket status updated"}),this.filterTickets()}getStatusSeverity(n){return{open:"warning",in_progress:"info",resolved:"success",closed:"secondary"}[n]||"secondary"}getPrioritySeverity(n){return{urgent:"danger",high:"warning",medium:"info",low:"success"}[n]||"secondary"}getApartmentName(n){if(!n)return"N/A";const r=this.apartments.find(a=>(a.id||a._id)===n);return r?r.title:n}getOpenTickets(){return this.tickets.filter(n=>"open"===n.status).length}getInProgressTickets(){return this.tickets.filter(n=>"in_progress"===n.status).length}getResolvedTickets(){return this.tickets.filter(n=>"resolved"===n.status).length}static \u0275fac=function(r){return new(r||o)(t.rXU(k.g),t.rXU(y.bg))};static \u0275cmp=t.VBU({type:o,selectors:[["app-hotel-support"]],features:[t.Jv_([y.bg])],decls:84,vars:26,consts:[["loadingTemplate",""],[1,"support-page"],[1,"page-header"],[1,"header-content"],[1,"subtitle"],[1,"header-actions"],["pButton","","type","button","label","New Ticket","icon","pi pi-plus",1,"p-button-primary",3,"click"],["pButton","","type","button","label","Refresh","icon","pi pi-refresh",1,"p-button-secondary",3,"click"],[1,"summary-cards"],[1,"summary-stat"],[1,"stat-value"],[1,"stat-label"],[1,"filters-card"],[1,"filters"],[1,"filter-group"],["pInputText","","type","text","placeholder","Search tickets...",3,"ngModelChange","input","ngModel"],["optionLabel","label","optionValue","value","placeholder","All Statuses",3,"ngModelChange","onChange","options","ngModel"],["optionLabel","label","optionValue","value","placeholder","All Priorities",3,"ngModelChange","onChange","options","ngModel"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onHide","visible","header","modal","closable"],[1,"ticket-form"],[1,"form-row"],[1,"form-group"],["optionLabel","label","optionValue","value","placeholder","Select Type",3,"ngModelChange","options","ngModel"],["optionLabel","label","optionValue","value","placeholder","Select Priority",3,"ngModelChange","options","ngModel"],["pInputText","","type","text","placeholder","Enter ticket subject",3,"ngModelChange","ngModel"],["pInputTextarea","","rows","5","placeholder","Enter ticket description...",3,"ngModelChange","ngModel"],["pInputText","","type","text","placeholder","Guest ID",3,"ngModelChange","ngModel"],["pInputText","","type","text","placeholder","Booking ID",3,"ngModelChange","ngModel"],["pTemplate","footer"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} tickets","styleClass","p-datatable-sm",3,"value","paginator","rows","rowsPerPageOptions","showCurrentPageReport"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"ticket-id"],["severity","info",3,"value"],[1,"ticket-subject"],[1,"ticket-info"],["class","guest-id",4,"ngIf"],["class","apartment-name",4,"ngIf"],[3,"value","severity"],[1,"action-buttons"],["pButton","","type","button","icon","pi pi-pencil","pTooltip","Edit",1,"p-button-sm","p-button-text","p-button-info",3,"click"],["pButton","","type","button","icon","pi pi-check","class","p-button-sm p-button-text p-button-success","pTooltip","Mark Resolved",3,"click",4,"ngIf"],[1,"guest-id"],[1,"apartment-name"],["pButton","","type","button","icon","pi pi-check","pTooltip","Mark Resolved",1,"p-button-sm","p-button-text","p-button-success",3,"click"],["colspan","8",1,"text-center"],[1,"empty-state"],[1,"pi","pi-inbox"],[1,"loading-container"],["height","300px"],["pButton","","type","button","label","Cancel","icon","pi pi-times",1,"p-button-secondary",3,"click"],["pButton","","type","button","label","Save","icon","pi pi-check",1,"p-button-primary",3,"click"]],template:function(r,a){if(1&r){const c=t.RV6();t.j41(0,"div",1),t.nrm(1,"p-toast"),t.j41(2,"div",2)(3,"div",3)(4,"div")(5,"h1"),t.EFF(6,"Support Management"),t.k0s(),t.j41(7,"p",4),t.EFF(8,"Manage customer support tickets and inquiries"),t.k0s()(),t.j41(9,"div",5)(10,"button",6),t.bIt("click",function(){return t.eBV(c),t.Njj(a.openTicketDialog())}),t.k0s(),t.j41(11,"button",7),t.bIt("click",function(){return t.eBV(c),t.Njj(a.loadData())}),t.k0s()()()(),t.j41(12,"div",8)(13,"p-card")(14,"div",9)(15,"span",10),t.EFF(16),t.k0s(),t.j41(17,"span",11),t.EFF(18,"Total Tickets"),t.k0s()()(),t.j41(19,"p-card")(20,"div",9)(21,"span",10),t.EFF(22),t.k0s(),t.j41(23,"span",11),t.EFF(24,"Open"),t.k0s()()(),t.j41(25,"p-card")(26,"div",9)(27,"span",10),t.EFF(28),t.k0s(),t.j41(29,"span",11),t.EFF(30,"In Progress"),t.k0s()()(),t.j41(31,"p-card")(32,"div",9)(33,"span",10),t.EFF(34),t.k0s(),t.j41(35,"span",11),t.EFF(36,"Resolved"),t.k0s()()()(),t.j41(37,"p-card",12)(38,"div",13)(39,"div",14)(40,"label"),t.EFF(41,"Search"),t.k0s(),t.j41(42,"input",15),t.mxI("ngModelChange",function(p){return t.eBV(c),t.DH7(a.searchTerm,p)||(a.searchTerm=p),t.Njj(p)}),t.bIt("input",function(){return t.eBV(c),t.Njj(a.onSearch())}),t.k0s()(),t.j41(43,"div",14)(44,"label"),t.EFF(45,"Status"),t.k0s(),t.j41(46,"p-dropdown",16),t.mxI("ngModelChange",function(p){return t.eBV(c),t.DH7(a.selectedStatus,p)||(a.selectedStatus=p),t.Njj(p)}),t.bIt("onChange",function(){return t.eBV(c),t.Njj(a.onStatusChange())}),t.k0s()(),t.j41(47,"div",14)(48,"label"),t.EFF(49,"Priority"),t.k0s(),t.j41(50,"p-dropdown",17),t.mxI("ngModelChange",function(p){return t.eBV(c),t.DH7(a.selectedPriority,p)||(a.selectedPriority=p),t.Njj(p)}),t.bIt("onChange",function(){return t.eBV(c),t.Njj(a.onPriorityChange())}),t.k0s()()()(),t.DNE(51,F,5,6,"p-card",18)(52,A,2,0,"ng-template",null,0,t.C5r),t.j41(54,"p-dialog",19),t.mxI("visibleChange",function(p){return t.eBV(c),t.DH7(a.showTicketDialog,p)||(a.showTicketDialog=p),t.Njj(p)}),t.bIt("onHide",function(){return t.eBV(c),t.Njj(a.closeTicketDialog())}),t.j41(55,"div",20)(56,"div",21)(57,"div",22)(58,"label"),t.EFF(59,"Type *"),t.k0s(),t.j41(60,"p-dropdown",23),t.mxI("ngModelChange",function(p){return t.eBV(c),t.DH7(a.formData.type,p)||(a.formData.type=p),t.Njj(p)}),t.k0s()(),t.j41(61,"div",22)(62,"label"),t.EFF(63,"Priority *"),t.k0s(),t.j41(64,"p-dropdown",24),t.mxI("ngModelChange",function(p){return t.eBV(c),t.DH7(a.formData.priority,p)||(a.formData.priority=p),t.Njj(p)}),t.k0s()()(),t.j41(65,"div",22)(66,"label"),t.EFF(67,"Subject *"),t.k0s(),t.j41(68,"input",25),t.mxI("ngModelChange",function(p){return t.eBV(c),t.DH7(a.formData.subject,p)||(a.formData.subject=p),t.Njj(p)}),t.k0s()(),t.j41(69,"div",22)(70,"label"),t.EFF(71,"Description *"),t.k0s(),t.j41(72,"textarea",26),t.mxI("ngModelChange",function(p){return t.eBV(c),t.DH7(a.formData.description,p)||(a.formData.description=p),t.Njj(p)}),t.EFF(73,"        "),t.k0s()(),t.j41(74,"div",21)(75,"div",22)(76,"label"),t.EFF(77,"Guest ID (Optional)"),t.k0s(),t.j41(78,"input",27),t.mxI("ngModelChange",function(p){return t.eBV(c),t.DH7(a.formData.account_id,p)||(a.formData.account_id=p),t.Njj(p)}),t.k0s()(),t.j41(79,"div",22)(80,"label"),t.EFF(81,"Booking ID (Optional)"),t.k0s(),t.j41(82,"input",28),t.mxI("ngModelChange",function(p){return t.eBV(c),t.DH7(a.formData.booking_id,p)||(a.formData.booking_id=p),t.Njj(p)}),t.k0s()()()(),t.DNE(83,G,2,0,"ng-template",29),t.k0s()()}if(2&r){const c=t.sdS(53);t.R7$(16),t.JRh(a.tickets.length),t.R7$(6),t.JRh(a.getOpenTickets()),t.R7$(6),t.JRh(a.getInProgressTickets()),t.R7$(6),t.JRh(a.getResolvedTickets()),t.R7$(8),t.R50("ngModel",a.searchTerm),t.R7$(4),t.Y8G("options",a.statusOptions),t.R50("ngModel",a.selectedStatus),t.R7$(4),t.Y8G("options",a.priorityOptions),t.R50("ngModel",a.selectedPriority),t.R7$(),t.Y8G("ngIf",!a.loading)("ngIfElse",c),t.R7$(3),t.Aen(t.lJ4(25,i)),t.R50("visible",a.showTicketDialog),t.Y8G("header",a.isEditMode?"Edit Ticket":"Create New Ticket")("modal",!0)("closable",!0),t.R7$(6),t.Y8G("options",a.typeOptions),t.R50("ngModel",a.formData.type),t.R7$(4),t.Y8G("options",a.priorityOptions.slice(1)),t.R50("ngModel",a.formData.priority),t.R7$(4),t.R50("ngModel",a.formData.subject),t.R7$(4),t.R50("ngModel",a.formData.description),t.R7$(6),t.R50("ngModel",a.formData.account_id),t.R7$(4),t.R50("ngModel",a.formData.booking_id)}},dependencies:[_.MD,_.bT,_.PV,_.vh,e.YN,e.me,e.BC,e.vS,v.iI,M.tm,M._f,y.Ei,C.Dw,C.Zp,O.Ph,O.lG,s.um,s.Sm,h.Z2,E.kr,E.ms,R.bG,R.XI,P.EJ,P.Ex,$.MB,$.y8,g.Ss,g.m_,S.k2,S.EA,b.$C,b.vw],styles:[".support-page[_ngcontent-%COMP%]{padding:2rem}.support-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;background:linear-gradient(135deg,var(--p-surface-0) 0%,rgba(var(--p-primary-500),.05) 100%);padding:2rem;border-radius:12px;border-bottom:2px solid rgba(var(--p-primary-500),.2)}.support-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}.support-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:2rem;font-weight:700;color:var(--p-surface-900)}.support-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:var(--p-surface-600)}.support-page[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}.support-page[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:2rem}.support-page[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   p-card[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem}.support-page[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   p-card[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--p-primary-600)}.support-page[_ngcontent-%COMP%]   .summary-cards[_ngcontent-%COMP%]   p-card[_ngcontent-%COMP%]   .summary-stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--p-surface-600);margin-top:.5rem}.support-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]{margin-bottom:2rem}.support-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.support-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.support-page[_ngcontent-%COMP%]   .filters-card[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--p-surface-700);font-size:.9rem}.support-page[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{padding:2rem}.support-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{padding:3rem;text-align:center;color:var(--p-surface-600)}.support-page[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;color:var(--p-surface-400)}.support-page[_ngcontent-%COMP%]   .ticket-id[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-size:.9rem}.support-page[_ngcontent-%COMP%]   .ticket-subject[_ngcontent-%COMP%]{font-weight:500;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.support-page[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.support-page[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .guest-id[_ngcontent-%COMP%]{font-size:.85rem;color:var(--p-surface-600)}.support-page[_ngcontent-%COMP%]   .ticket-info[_ngcontent-%COMP%]   .apartment-name[_ngcontent-%COMP%]{font-weight:500}.support-page[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem}.support-page[_ngcontent-%COMP%]   .ticket-form[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:1rem}.support-page[_ngcontent-%COMP%]   .ticket-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.support-page[_ngcontent-%COMP%]   .ticket-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--p-surface-700)}"]})}return o})()},935:(B,D,l)=>{l.d(D,{$C:()=>t,vw:()=>k});var _=l(2881),e=l(1360),v=l(5779),M=l(3491),C=l(6263);const O=["icon"],s=["*"];function h(i,j){if(1&i&&e.nrm(0,"span",4),2&i){const u=e.XpG(2);e.Y8G("ngClass",u.icon)}}function E(i,j){if(1&i&&(e.qex(0),e.DNE(1,h,1,1,"span",3),e.bVm()),2&i){const u=e.XpG();e.R7$(),e.Y8G("ngIf",u.icon)}}function R(i,j){}function P(i,j){1&i&&e.DNE(0,R,0,0,"ng-template")}function $(i,j){if(1&i&&(e.j41(0,"span",5),e.DNE(1,P,1,0,null,6),e.k0s()),2&i){const u=e.XpG();e.R7$(),e.Y8G("ngTemplateOutlet",u.iconTemplate||u._iconTemplate)}}const g=({dt:i})=>`\n.p-tag {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n    background: ${i("tag.primary.background")};\n    color: ${i("tag.primary.color")};\n    font-size: ${i("tag.font.size")};\n    font-weight: ${i("tag.font.weight")};\n    padding: ${i("tag.padding")};\n    border-radius: ${i("tag.border.radius")};\n    gap: ${i("tag.gap")};\n}\n\n.p-tag-icon {\n    font-size: ${i("tag.icon.size")};\n    width: ${i("tag.icon.size")};\n    height:${i("tag.icon.size")};\n}\n\n.p-tag-rounded {\n    border-radius: ${i("tag.rounded.border.radius")};\n}\n\n.p-tag-success {\n    background: ${i("tag.success.background")};\n    color: ${i("tag.success.color")};\n}\n\n.p-tag-info {\n    background: ${i("tag.info.background")};\n    color: ${i("tag.info.color")};\n}\n\n.p-tag-warn {\n    background: ${i("tag.warn.background")};\n    color: ${i("tag.warn.color")};\n}\n\n.p-tag-danger {\n    background: ${i("tag.danger.background")};\n    color: ${i("tag.danger.color")};\n}\n\n.p-tag-secondary {\n    background: ${i("tag.secondary.background")};\n    color: ${i("tag.secondary.color")};\n}\n\n.p-tag-contrast {\n    background: ${i("tag.contrast.background")};\n    color: ${i("tag.contrast.color")};\n}\n`,S={root:({props:i})=>["p-tag p-component",{"p-tag-info":"info"===i.severity,"p-tag-success":"success"===i.severity,"p-tag-warn":"warn"===i.severity,"p-tag-danger":"danger"===i.severity,"p-tag-secondary":"secondary"===i.severity,"p-tag-contrast":"contrast"===i.severity,"p-tag-rounded":i.rounded}],icon:"p-tag-icon",label:"p-tag-label"};let b=(()=>{class i extends C.j{name="tag";theme=g;classes=S;static \u0275fac=(()=>{let u;return function(f){return(u||(u=e.xGo(i)))(f||i)}})();static \u0275prov=e.jDH({token:i,factory:i.\u0275fac})}return i})(),k=(()=>{class i extends M.${get style(){return this._style}set style(u){this._style=u,this.cd.markForCheck()}styleClass;severity;value;icon;rounded;iconTemplate;templates;_iconTemplate;_style;_componentStyle=(0,e.WQX)(b);ngAfterContentInit(){this.templates?.forEach(u=>{"icon"===u.getType()&&(this._iconTemplate=u.template)})}containerClass(){let u="p-tag p-component";return this.severity&&(u+=` p-tag-${this.severity}`),this.rounded&&(u+=" p-tag-rounded"),this.styleClass&&(u+=` ${this.styleClass}`),u}static \u0275fac=(()=>{let u;return function(f){return(u||(u=e.xGo(i)))(f||i)}})();static \u0275cmp=e.VBU({type:i,selectors:[["p-tag"]],contentQueries:function(T,f,w){if(1&T&&(e.wni(w,O,4),e.wni(w,v.Ei,4)),2&T){let I;e.mGM(I=e.lsd())&&(f.iconTemplate=I.first),e.mGM(I=e.lsd())&&(f.templates=I)}},hostVars:4,hostBindings:function(T,f){2&T&&(e.Aen(f.style),e.HbH(f.containerClass()))},inputs:{style:"style",styleClass:"styleClass",severity:"severity",value:"value",icon:"icon",rounded:[2,"rounded","rounded",e.L39]},features:[e.Jv_([b]),e.Vt3],ngContentSelectors:s,decls:5,vars:3,consts:[[4,"ngIf"],["class","p-tag-icon",4,"ngIf"],[1,"p-tag-label"],["class","p-tag-icon",3,"ngClass",4,"ngIf"],[1,"p-tag-icon",3,"ngClass"],[1,"p-tag-icon"],[4,"ngTemplateOutlet"]],template:function(T,f){1&T&&(e.NAR(),e.SdG(0),e.DNE(1,E,2,1,"ng-container",0)(2,$,2,1,"span",1),e.j41(3,"span",2),e.EFF(4),e.k0s()),2&T&&(e.R7$(),e.Y8G("ngIf",!f.iconTemplate&&!f._iconTemplate),e.R7$(),e.Y8G("ngIf",f.iconTemplate||f._iconTemplate),e.R7$(2),e.JRh(f.value))},dependencies:[_.MD,_.YU,_.bT,_.T3,v.Gg],encapsulation:2,changeDetection:0})}return i})(),t=(()=>{class i{static \u0275fac=function(T){return new(T||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[k,v.Gg,v.Gg]})}return i})()},5545:(B,D,l)=>{l.d(D,{g:()=>M});var _=l(4754),e=l(1360),v=l(8989);let M=(()=>{class C{http;baseUrl=`${(0,_.Gi)()}/data-mesh/domains/hotel`;constructor(s){this.http=s}createApartment(s){return this.http.post(`${this.baseUrl}/apartments`,s)}getApartments(){return this.http.get(`${this.baseUrl}/apartments`)}getApartmentById(s){return this.http.get(`${this.baseUrl}/apartments/${s}`)}updateApartment(s,h){return this.http.put(`${this.baseUrl}/apartments/${s}`,h)}deleteApartment(s){return this.http.delete(`${this.baseUrl}/apartments/${s}`)}createRoom(s){return this.http.post(`${this.baseUrl}/rooms/room`,s)}getRooms(){return this.http.get(`${this.baseUrl}/rooms/rooms`)}getRoomById(s){return this.http.get(`${this.baseUrl}/rooms/room/${s}`)}updateRoom(s,h){return this.http.put(`${this.baseUrl}/rooms/room/${s}`,h)}deleteRoom(s){return this.http.delete(`${this.baseUrl}/rooms/room/${s}`)}createBooking(s){return this.http.post(`${this.baseUrl}/bookings/booking`,s)}getBookingById(s){return this.http.get(`${this.baseUrl}/bookings/booking/${s}`)}getBookings(){return this.http.get(`${this.baseUrl}/bookings/bookings`)}updateBooking(s,h){return this.http.put(`${this.baseUrl}/bookings/booking/${s}`,h)}deleteBooking(s){return this.http.delete(`${this.baseUrl}/bookings/booking/${s}`)}cancelBooking(s){return this.http.patch(`${this.baseUrl}/bookings/booking/${s}/cancel`,{})}createReview(s){return this.http.post(`${this.baseUrl}/reviews/review`,s)}getReviewById(s){return this.http.get(`${this.baseUrl}/reviews/review/${s}`)}getReviews(){return this.http.get(`${this.baseUrl}/reviews/reviews`)}getReviewsByApartment(s){return this.http.get(`${this.baseUrl}/reviews/reviews?apartment_id=${s}`)}updateReview(s,h){return this.http.put(`${this.baseUrl}/reviews/review/${s}`,h)}deleteReview(s){return this.http.delete(`${this.baseUrl}/reviews/review/${s}`)}createRating(s){return this.http.post(`${this.baseUrl}/ratings/rating`,s)}getRatingById(s){return this.http.get(`${this.baseUrl}/ratings/rating/${s}`)}getRatings(){return this.http.get(`${this.baseUrl}/ratings/ratings`)}getRatingsByApartment(s){return this.http.get(`${this.baseUrl}/ratings/ratings?apartment_id=${s}`)}getRoomsByApartment(s){return this.http.get(`${this.baseUrl}/rooms/rooms?apartment_id=${s}`)}updateRating(s,h){return this.http.put(`${this.baseUrl}/ratings/rating/${s}`,h)}deleteRating(s){return this.http.delete(`${this.baseUrl}/ratings/rating/${s}`)}healthCheck(){return this.http.get(`${this.baseUrl}/health/`)}getVersion(){return this.http.get(`${this.baseUrl}/version`)}static \u0275fac=function(h){return new(h||C)(e.KVO(v.Qq))};static \u0275prov=e.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})()},5716:(B,D,l)=>{l.d(D,{EA:()=>P,k2:()=>$});var _=l(2881),e=l(1360),v=l(5779),M=l(3491),C=l(6263);const O=({dt:g})=>`\n.p-skeleton {\n    overflow: hidden;\n    background: ${g("skeleton.background")};\n    border-radius: ${g("skeleton.border.radius")};\n}\n\n.p-skeleton::after {\n    content: "";\n    animation: p-skeleton-animation 1.2s infinite;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    right: 0;\n    top: 0;\n    transform: translateX(-100%);\n    z-index: 1;\n    background: linear-gradient(90deg, rgba(255, 255, 255, 0), ${g("skeleton.animation.background")}, rgba(255, 255, 255, 0));\n}\n\n[dir='rtl'] .p-skeleton::after {\n    animation-name: p-skeleton-animation-rtl;\n}\n\n.p-skeleton-circle {\n    border-radius: 50%;\n}\n\n.p-skeleton-animation-none::after {\n    animation: none;\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n\n@keyframes p-skeleton-animation-rtl {\n    from {\n        transform: translateX(100%);\n    }\n    to {\n        transform: translateX(-100%);\n    }\n}\n`,s={root:{position:"relative"}},h={root:({props:g})=>["p-skeleton p-component",{"p-skeleton-circle":"circle"===g.shape,"p-skeleton-animation-none":"none"===g.animation}]};let E=(()=>{class g extends C.j{name="skeleton";theme=O;classes=h;inlineStyles=s;static \u0275fac=(()=>{let b;return function(k){return(b||(b=e.xGo(g)))(k||g)}})();static \u0275prov=e.jDH({token:g,factory:g.\u0275fac})}return g})(),P=(()=>{class g extends M.${styleClass;style;shape="rectangle";animation="wave";borderRadius;size;width="100%";height="1rem";_componentStyle=(0,e.WQX)(E);containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-animation-none":"none"===this.animation}}get containerStyle(){const b=this._componentStyle?.inlineStyles.root;let y;return y=this.size?{...this.style,...b,width:this.size,height:this.size,borderRadius:this.borderRadius}:{...b,width:this.width,height:this.height,borderRadius:this.borderRadius,...this.style},y}static \u0275fac=(()=>{let b;return function(k){return(b||(b=e.xGo(g)))(k||g)}})();static \u0275cmp=e.VBU({type:g,selectors:[["p-skeleton"]],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},features:[e.Jv_([E]),e.Vt3],decls:1,vars:7,consts:[[3,"ngClass","ngStyle"]],template:function(y,k){1&y&&e.nrm(0,"div",0),2&y&&(e.HbH(k.styleClass),e.Y8G("ngClass",k.containerClass())("ngStyle",k.containerStyle),e.BMQ("data-pc-name","skeleton")("aria-hidden",!0)("data-pc-section","root"))},dependencies:[_.MD,_.YU,_.B3,v.Gg],encapsulation:2,changeDetection:0})}return g})(),$=(()=>{class g{static \u0275fac=function(y){return new(y||g)};static \u0275mod=e.$C({type:g});static \u0275inj=e.G2t({imports:[P,v.Gg,v.Gg]})}return g})()}}]);