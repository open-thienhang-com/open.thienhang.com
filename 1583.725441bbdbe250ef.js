"use strict";(self.webpackChunkexample_app=self.webpackChunkexample_app||[]).push([[1583],{1583:(b,a,r)=>{r.r(a),r.d(a,{SimulationComponent:()=>c});var d=r(467),l=r(2881),t=r(1360),u=r(1910);function m(e,s){if(1&e&&(t.j41(0,"p",8),t.EFF(1),t.k0s()),2&e){const i=t.XpG();t.R7$(),t.SpI("Plan ID: ",i.planId,"")}}function p(e,s){1&e&&(t.j41(0,"div",9),t.nrm(1,"div",10),t.j41(2,"p",4),t.EFF(3,"\u0110ang t\u1ea3i d\u1eef li\u1ec7u m\xf4 ph\u1ecfng..."),t.k0s()())}function g(e,s){if(1&e&&(t.j41(0,"div",9),t.qSk(),t.j41(1,"svg",11),t.nrm(2,"path",12),t.k0s(),t.joV(),t.j41(3,"p",13),t.EFF(4,"Kh\xf4ng th\u1ec3 t\u1ea3i d\u1eef li\u1ec7u m\xf4 ph\u1ecfng"),t.k0s(),t.j41(5,"p",14),t.EFF(6),t.k0s()()),2&e){const i=t.XpG();t.R7$(6),t.JRh(i.error)}}function F(e,s){1&e&&(t.j41(0,"div")(1,"div",15)(2,"div",16)(3,"div",17)(4,"select",18)(5,"option",19),t.EFF(6,"Select Route to Simulate"),t.k0s()(),t.j41(7,"button",20),t.nrm(8,"i",21),t.EFF(9,"Start Simulation "),t.k0s(),t.j41(10,"button",22),t.nrm(11,"i",23),t.EFF(12,"Stop "),t.k0s()(),t.j41(13,"div",24)(14,"button",25),t.nrm(15,"i",26),t.EFF(16,"Reset View "),t.k0s(),t.j41(17,"button",27),t.nrm(18,"i",28),t.EFF(19,"Fullscreen "),t.k0s()()()(),t.j41(20,"div",29)(21,"div",30)(22,"div",31)(23,"h3",32),t.EFF(24,"3D Route Visualization"),t.k0s(),t.j41(25,"div",33)(26,"div",34),t.nrm(27,"div",35),t.j41(28,"span"),t.EFF(29,"Depots"),t.k0s()(),t.j41(30,"div",34),t.nrm(31,"div",36),t.j41(32,"span"),t.EFF(33,"Delivery Points"),t.k0s()(),t.j41(34,"div",34),t.nrm(35,"div",37),t.j41(36,"span"),t.EFF(37,"Routes"),t.k0s()()()()(),t.j41(38,"div",38)(39,"div",39)(40,"div",40)(41,"div",41),t.EFF(42,"\u{1f5fa}\ufe0f"),t.k0s(),t.j41(43,"div",42),t.EFF(44,"3D Route Simulation"),t.k0s(),t.j41(45,"div",43),t.EFF(46,"Select a route from the dropdown above to start the simulation"),t.k0s(),t.j41(47,"div",44),t.EFF(48,"Requires WebGL support"),t.k0s()()()()(),t.j41(49,"div",45)(50,"div",46)(51,"h4",47),t.EFF(52,"Route Details"),t.k0s(),t.j41(53,"div",48)(54,"div",49),t.nrm(55,"i",50),t.j41(56,"div"),t.EFF(57,"Select a route to view details"),t.k0s()()()(),t.j41(58,"div",46)(59,"h4",47),t.EFF(60,"Simulation Statistics"),t.k0s(),t.j41(61,"div",51)(62,"div",52)(63,"span",4),t.EFF(64,"Total Distance:"),t.k0s(),t.j41(65,"span",53),t.EFF(66,"0 km"),t.k0s()(),t.j41(67,"div",52)(68,"span",4),t.EFF(69,"Estimated Time:"),t.k0s(),t.j41(70,"span",54),t.EFF(71,"0 min"),t.k0s()(),t.j41(72,"div",52)(73,"span",4),t.EFF(74,"Fuel Consumption:"),t.k0s(),t.j41(75,"span",55),t.EFF(76,"0 L"),t.k0s()(),t.j41(77,"div",52)(78,"span",4),t.EFF(79,"CO2 Emission:"),t.k0s(),t.j41(80,"span",56),t.EFF(81,"0 kg"),t.k0s()()()()()())}let c=(()=>{class e{route;planId=null;loading=!1;error=null;constructor(i){this.route=i}ngOnInit(){this.route.params.subscribe(i=>{this.planId=i.id,this.planId&&this.loadSimulationData(this.planId)})}loadSimulationData(i){var o=this;return(0,d.A)(function*(){o.loading=!0,o.error=null;try{console.log("Loading simulation for plan:",i),yield new Promise(n=>setTimeout(n,1e3))}catch(n){o.error="Failed to load simulation data",console.error("Error loading simulation:",n)}finally{o.loading=!1}})()}static \u0275fac=function(o){return new(o||e)(t.rXU(u.nX))};static \u0275cmp=t.VBU({type:e,selectors:[["app-simulation"]],decls:11,vars:4,consts:[["id","content-simulation",1,"tab-content"],[1,"p-6"],[1,"mb-6"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],["class","text-sm text-blue-600 mt-2",4,"ngIf"],["class","text-center py-20",4,"ngIf"],[4,"ngIf"],[1,"text-sm","text-blue-600","mt-2"],[1,"text-center","py-20"],[1,"inline-block","animate-spin","rounded-full","h-12","w-12","border-4","border-gray-200","border-t-blue-500","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-20","h-20","mx-auto","text-red-300","mb-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"text-red-600","text-lg","font-semibold","mb-2"],[1,"text-gray-500","text-sm"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-4","mb-6"],[1,"flex","flex-wrap","gap-4","items-center","justify-between"],[1,"flex","gap-3"],["id","routeSelector",1,"px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["value",""],["id","startSimulation",1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors"],[1,"fas","fa-play","mr-2"],["id","stopSimulation","disabled","",1,"px-4","py-2","bg-red-600","text-white","rounded-lg","hover:bg-red-700","transition-colors"],[1,"fas","fa-stop","mr-2"],[1,"flex","gap-2"],["id","resetCamera",1,"px-4","py-2","bg-gray-600","text-white","rounded-lg","hover:bg-gray-700","transition-colors"],[1,"fas","fa-home","mr-2"],["id","toggleFullscreen",1,"px-4","py-2","bg-gray-600","text-white","rounded-lg","hover:bg-gray-700","transition-colors"],[1,"fas","fa-expand","mr-2"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"p-4","border-b","border-gray-200"],[1,"flex","items-center","justify-between"],[1,"text-lg","font-semibold","text-gray-900"],[1,"flex","items-center","gap-4","text-sm","text-gray-600"],[1,"flex","items-center","gap-2"],[1,"w-3","h-3","bg-blue-500","rounded-full"],[1,"w-3","h-3","bg-green-500","rounded-full"],[1,"w-3","h-3","bg-red-500","rounded-full"],["id","simulationContainer",1,"relative",2,"height","600px"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-gray-100"],[1,"text-center"],[1,"text-6xl","mb-4"],[1,"text-lg","font-semibold","text-gray-700","mb-2"],[1,"text-gray-500","mb-4"],[1,"text-sm","text-gray-400"],[1,"mt-6","grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],["id","routeDetails",1,"space-y-3"],[1,"text-center","text-gray-500","py-8"],[1,"fas","fa-route","text-3xl","mb-2"],["id","simulationStats",1,"space-y-3"],[1,"flex","justify-between"],["id","totalDistance",1,"font-semibold"],["id","estimatedTime",1,"font-semibold"],["id","fuelConsumption",1,"font-semibold"],["id","co2Emission",1,"font-semibold"]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4,"3D Route Simulation"),t.k0s(),t.j41(5,"p",4),t.EFF(6,"Visualize and analyze delivery routes with interactive 3D simulation"),t.k0s(),t.DNE(7,m,2,1,"p",5),t.k0s(),t.DNE(8,p,4,0,"div",6)(9,g,7,1,"div",6)(10,F,82,0,"div",7),t.k0s()()),2&o&&(t.R7$(7),t.Y8G("ngIf",n.planId),t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",n.error&&!n.loading),t.R7$(),t.Y8G("ngIf",!n.loading&&!n.error))},dependencies:[l.MD,l.bT],encapsulation:2})}return e})()}}]);